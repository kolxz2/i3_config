(self["webpackJsonp_trade-futures"]=self["webpackJsonp_trade-futures"]||[]).push([[465,282],{alyV:(e,t,a)=>{"use strict";a.d(t,{Yo:()=>n,XC:()=>l,H8:()=>s,QE:()=>c,YW:()=>u,rV:()=>d,K$:()=>m,_K:()=>v,Zc:()=>y,mk:()=>p,eq:()=>b});var r=a("D57K"),i=a("wZts"),o=a("ffDY"),n=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,i.U2)("/bapi/futures/v1/public/delivery/data/openInterestHist?"+(0,o.DT)(e))];case 1:return t=a.sent(),[3,3];case 2:return a.sent(),t=[],[3,3];case 3:return[2,t]}}))}))},l=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,i.U2)("/bapi/futures/v1/public/delivery/data/topLongShortAccountRatio?"+(0,o.DT)(e))];case 1:return t=a.sent(),[3,3];case 2:return a.sent(),t=[],[3,3];case 3:return[2,t]}}))}))},s=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,i.U2)("/bapi/futures/v1/public/delivery/data/topLongShortPositionRatio?"+(0,o.DT)(e))];case 1:return t=a.sent(),[3,3];case 2:return a.sent(),t=[],[3,3];case 3:return[2,t]}}))}))},c=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,i.U2)("/bapi/futures/v1/public/delivery/data/globalLongShortAccountRatio?"+(0,o.DT)(e))];case 1:return t=a.sent(),[3,3];case 2:return a.sent(),t=[],[3,3];case 3:return[2,t]}}))}))},u=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,i.U2)("/bapi/futures/v1/public/delivery/data/takerBuySellVol?"+(0,o.DT)(e))];case 1:return t=a.sent(),[3,3];case 2:return a.sent(),t=[],[3,3];case 3:return[2,t]}}))}))},d=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,i.U2)("/bapi/futures/v1/public/delivery/data/basis?"+(0,o.DT)(e))];case 1:return t=a.sent(),[3,3];case 2:return a.sent(),t=[],[3,3];case 3:return[2,t]}}))}))},m=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,i.U2)("/futures/data/openInterestHist?"+(0,o.DT)(e))];case 1:return t=a.sent(),[3,3];case 2:return a.sent(),t={success:!1},[3,3];case 3:return[2,t]}}))}))},v=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,i.U2)("/futures/data/globalLongShortAccountRatio?"+(0,o.DT)(e))];case 1:return t=a.sent(),[3,3];case 2:return a.sent(),t={success:!1},[3,3];case 3:return[2,t]}}))}))},y=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,i.U2)("/futures/data/topLongShortAccountRatio?"+(0,o.DT)(e))];case 1:return t=a.sent(),[3,3];case 2:return a.sent(),t={success:!1},[3,3];case 3:return[2,t]}}))}))},p=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,i.U2)("/futures/data/topLongShortPositionRatio?"+(0,o.DT)(e))];case 1:return t=a.sent(),[3,3];case 2:return a.sent(),t={success:!1},[3,3];case 3:return[2,t]}}))}))},b=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,i.U2)("/futures/data/takerlongshortRatio?"+(0,o.DT)(e))];case 1:return t=a.sent(),[3,3];case 2:return a.sent(),t={success:!1},[3,3];case 3:return[2,t]}}))}))}},fn8a:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>C});var r=a("/SIk"),i=a.n(r),o=a("GuU3"),n=a.n(o),l=a("/MJE"),s=a("0MIW"),c=a("d92h"),u=a("6u/I"),d=a("v5rq"),m=a("WBfh"),v=a("pVAJ"),y=a("I/SI"),p=a("RuXq"),b=a("5vwO"),h=a("t3Ex"),f=a("alyV"),g=a("kZs2");const S=["5m","15m","30m","1h","2h","4h","6h","12h","1d"],k=({symbol:{pair:e,contractType:t},period:a})=>({pair:e,period:a,contractType:t,limit:500}),T=(0,b.Z)((0,b.Z)({},(0,h.r)({availableIntervals:S,transform:e=>e.map((({timestamp:e,sumOpenInterest:t,sumOpenInterestValue:a})=>({time:e,sum:+t,sumValue:+a}))),makeRequest:e=>async()=>(0,f.Yo)(k(e))})),{},{defaultProps:{id:"@OI-CM",title:"O.I",isHistBase:!1,isScaleCenter:!0,isDiffSource:!0},getResult(e,t,a){a([{data:e.map((({time:e,sumValue:t})=>({time:e,value:t}))),chartType:"BAR",color:"@OI-CM.bar.color"}])},getLabel(e,t){const[{data:a}={}]=t;return[{key:"title",label:"Open Interest"},{key:"noi-text",label:"Notional Value of Open Interest"},{key:"noi-value",label:`${(0,g.XR)((0,h.W)(e,a),2)}`,styles:{color:"@OI-CM.bar.color"}}]},getMobileLabel:()=>[{key:"title",label:"Open Interest"}]}),w=(0,b.Z)((0,b.Z)({},(0,h.r)({availableIntervals:S,transform:e=>e.map((({timestamp:e,longAccount:t,shortAccount:a,longShortRatio:r})=>({time:e,long:+t,short:+a,longShortRatio:+r}))),makeRequest:e=>async()=>(0,f.XC)((0,b.Z)((0,b.Z)({},k(e)),{},{contractType:"ALL"}))})),{},{defaultProps:{id:"@LS-Acco",title:"L.S Acco.",isHistBase:!1,isScaleCenter:!0,isDiffSource:!0},getResult(e,t,a){const r=e.map((({time:e,longShortRatio:t})=>({time:e,value:t})));a([{data:e.map((({time:e,long:t})=>({time:e,value:t}))),chartType:"BAR",color:"candle.upBarColor",yAxisIndex:"bar",name:"bar",min:0,max:1,visible:!1},{data:e.map((({time:e,short:t})=>({time:e,value:t}))),chartType:"BAR",color:"candle.downBarColor",yAxisIndex:"bar",stack:"bar",min:0,max:1,visible:!1},{data:r,chartType:"LINE",color:"@LS-Acco.color",lineWidth:"@LS-Acco.lineWidth"},{data:r,chartType:"AREA",color:"LSratio.area"}])},getLabel(e,t){const[{data:a}={},{data:r}={},{data:i}={}]=t;return[{key:"title",label:"Long/Short Account Ratio"},{key:"ratio-value",label:`${(0,g.JX)((0,h.W)(e,i),2)}`,styles:{color:"@LS-Acco.color"}},{key:"long-text",label:"Long"},{key:"long-value",label:`${(0,g.JX)(100*(0,h.W)(e,a),2)}%`,styles:{color:"candle.upBarColor"}},{key:"short-text",label:"Short"},{key:"short-value",label:`${(0,g.JX)(100*(0,h.W)(e,r),2)}%`,styles:{color:"candle.downBarColor"}}]},getMobileLabel:()=>[{key:"title",label:"Long/Short Account Ratio"}]}),R=(0,b.Z)((0,b.Z)({},(0,h.r)({availableIntervals:S,transform:e=>e.map((({timestamp:e,longPosition:t,shortPosition:a,longShortRatio:r})=>({time:e,long:+t,short:+a,longShortRatio:+r}))),makeRequest:e=>async()=>(0,f.H8)((0,b.Z)((0,b.Z)({},k(e)),{},{contractType:"ALL"}))})),{},{defaultProps:{id:"@LS-Posit",title:"L.S Posit.",isHistBase:!1,isScaleCenter:!0,isDiffSource:!0},getResult(e,t,a){const r=e.map((({time:e,longShortRatio:t})=>({time:e,value:t})));a([{data:e.map((({time:e,long:t},a)=>({time:e,value:t}))),chartType:"BAR",color:"candle.upBarColor",yAxisIndex:"bar",name:"bar",min:0,max:1,visible:!1},{data:e.map((({time:e,short:t})=>({time:e,value:t}))),chartType:"BAR",color:"candle.downBarColor",yAxisIndex:"bar",stack:"bar",min:0,max:1,visible:!1},{data:r,chartType:"LINE",color:"@LS-Posit.color",lineWidth:"@LS-Posit.lineWidth"},{data:r,chartType:"AREA",color:"LSratio.area"}])},getLabel(e,t){const[{data:a}={},{data:r}={},{data:i}={}]=t;return[{key:"title",label:"Long/Short Position Ratio"},{key:"ratio-value",label:`${(0,g.JX)((0,h.W)(e,i),2)}`,styles:{color:"@LS-Posit.color"}},{key:"long-text",label:"Long"},{key:"long-value",label:`${(0,g.JX)(100*(0,h.W)(e,a),2)}%`,styles:{color:"candle.upBarColor"}},{key:"short-text",label:"Short"},{key:"short-value",label:`${(0,g.JX)(100*(0,h.W)(e,r),2)}%`,styles:{color:"candle.downBarColor"}}]},getMobileLabel:()=>[{key:"title",label:"Long/Short Position Ratio"}]}),L=(0,b.Z)((0,b.Z)({},(0,h.r)({availableIntervals:S,transform:e=>e.map((({timestamp:e,longAccount:t,shortAccount:a,longShortRatio:r})=>({time:e,long:+t,short:+a,longShortRatio:+r}))),makeRequest:e=>async()=>(0,f.QE)((0,b.Z)((0,b.Z)({},k(e)),{},{contractType:"ALL"}))})),{},{defaultProps:{id:"@LS-Ratio",title:"L.S Ratio",isHistBase:!1,isScaleCenter:!0,isDiffSource:!0},getResult(e,t,a){const r=e.map((({time:e,longShortRatio:t})=>({time:e,value:t})));a([{data:e.map((({time:e,long:t},a)=>({time:e,value:t}))),chartType:"BAR",color:"candle.upBarColor",yAxisIndex:"bar",name:"bar",min:0,max:1,visible:!1},{data:e.map((({time:e,short:t})=>({time:e,value:t}))),chartType:"BAR",color:"candle.downBarColor",yAxisIndex:"bar",stack:"bar",min:0,max:1,visible:!1},{data:r,chartType:"LINE",color:"@LS-Ratio.color",lineWidth:"@LS-Ratio.lineWidth"},{data:r,chartType:"AREA",color:"LSratio.area"}])},getLabel(e,t){const[{data:a}={},{data:r}={},{data:i}={}]=t;return[{key:"title",label:"Long/Short Ratio"},{key:"ratio-value",label:`${(0,g.JX)((0,h.W)(e,i),2)}`,styles:{color:"@LS-Ratio.color"}},{key:"long-text",label:"Long"},{key:"long-value",label:`${(0,g.JX)(100*(0,h.W)(e,a),2)}%`,styles:{color:"candle.upBarColor"}},{key:"short-text",label:"Short"},{key:"short-value",label:`${(0,g.JX)(100*(0,h.W)(e,r),2)}%`,styles:{color:"candle.downBarColor"}}]},getMobileLabel:()=>[{key:"title",label:"Long/Short Ratio"}]}),Z=(0,b.Z)((0,b.Z)({},(0,h.r)({availableIntervals:S,transform:e=>e.map((({timestamp:e,takerBuyVol:t,takerBuyVolValue:a,takerSellVol:r,takerSellVolValue:i})=>({time:e,buy:+t,buyValue:+a,sell:+r,sellValue:+i}))),makeRequest:e=>async()=>(0,f.YW)(k(e))})),{},{defaultProps:{id:"@BSVol",title:"B.S Vol.",isHistBase:!1,isScaleCenter:!0,isDiffSource:!0,barWeight:.5},getResult(e,t,a){a([{data:e.map((({time:e,buyValue:t})=>({time:e,value:t}))),chartType:"BAR",color:"BS.buy"},{data:e.map((({time:e,sellValue:t})=>({time:e,value:t}))),chartType:"BAR",color:"BS.sell",yAxisIndex:"bar"}])},getLabel(e,t){const[{data:a}={},{data:r}={}]=t;return[{key:"title",label:"Taker Buy/Sell Volume"},{key:"buy-text",label:"Buy"},{key:"buy-value",label:`${(0,g.XR)((0,h.W)(e,a),2)}`,styles:{color:"candle.upBarColor"}},{key:"sell-text",label:"Sell"},{key:"sell-value",label:`${(0,g.XR)((0,h.W)(e,r),2)}`,styles:{color:"candle.downBarColor"}}]},getMobileLabel:()=>[{key:"title",label:"Taker Buy/Sell Volume"}]}),B=["1m","3m","8h","3d","1w","1M",...S],I=(0,b.Z)((0,b.Z)({},(0,h.r)({availableIntervals:B,transform:e=>e.map((({timestamp:e,indexPrice:t,basisRate:a,futuresPrice:r,basis:i})=>({time:e,indexPrice:+t,basisRate:+a,futuresPrice:+r,basis:+i}))),makeRequest:e=>async()=>(0,f.rV)(k(e))})),{},{defaultProps:{id:"@Basis",title:"Basis",isHistBase:!1,isScaleCenter:!0,isDiffSource:!0},getResult(e,t,a){a([{data:e.map((({time:e,basis:t})=>({time:e,value:t}))),chartType:"AREA",color:"basis.area"},{data:e.map((({time:e,basisRate:t})=>({time:e,value:t}))),chartType:"LINE",color:"@Basis.basisColor",visible:!1},{data:e.map((({time:e,futuresPrice:t})=>({time:e,value:t}))),chartType:"LINE",color:"@Basis.futurePriceColor",yAxisIndex:"line"},{data:e.map((({time:e,indexPrice:t})=>({time:e,value:t}))),chartType:"LINE",color:"@Basis.priceIndexColor",yAxisIndex:"line"}])},getLabel(e,t){const[{data:a}={},{data:r}={},{data:i}={},{data:o}={}]=t;return[{key:"title",label:"Basis"},{key:"basis-value",label:`${(0,g.XR)((0,h.W)(e,a),2)}`,styles:{color:"candle.upBarColor"}},{key:"basisRate-text",label:"Basis Rate"},{key:"basisRate-value",label:`${(0,g.JX)(100*(0,h.W)(e,r),2)}%`,styles:{color:"@Basis.basisColor"}},{key:"futuresPrice-text",label:"Futures Price"},{key:"futuresPrice-value",label:`${(0,g.XR)((0,h.W)(e,i),2)}`,styles:{color:"@Basis.futurePriceColor"}},{key:"priceIndex-text",label:"Price Index"},{key:"priceIndex-value",label:`${(0,g.XR)((0,h.W)(e,o),2)}`,styles:{color:"@Basis.priceIndexColor"}}]},getMobileLabel:()=>[{key:"title",label:"Basis"}]});var D=i().createElement;const x=[{name:T.defaultProps.id,indicator:T},{name:w.defaultProps.id,indicator:w},{name:R.defaultProps.id,indicator:R},{name:L.defaultProps.id,indicator:L},{name:Z.defaultProps.id,indicator:Z},{name:I.defaultProps.id,indicator:I}],{storage:A}=l.Z,C=({showTradingView:e,namespace:t,symbol:a,isContUnit:o,useMiniTicker:l,isShowDrawPanel:b,isShowAnnotationPanel:h,candleRef:f})=>{const g=(0,r.useMemo)((()=>n().createInstance({name:t})),[t]),{0:S,1:k}=(0,r.useState)(1),{0:T,1:w}=(0,r.useState)(1),{0:R,1:L}=(0,r.useState)(!1),{0:Z,1:B}=(0,r.useState)(!1),{0:I,1:C}=(0,r.useState)(0),{0:P,1:_}=(0,r.useState)(!1),V=(0,r.useRef)(!0),M=(0,r.useRef)(),E=(0,d.H9)(t)(m.Hs),W=(0,d.Qy)(t)(m.VW),[q]=(0,d.kH)(t)(m.J$),[,O]=(0,d.gq)(t)(m.gW),$=(0,v.Vh)()[a],{pair:U="",contractType:H="",isDelivery:X,contractVal:J}=$||{};(0,r.useEffect)((()=>{const e=()=>{C(Date.now()),w((e=>-1*e)),k((e=>-1*e))};return window.addEventListener("online",e),()=>{window.removeEventListener("online",e)}}),[]),(0,r.useEffect)((()=>{A.onStorageEvent((({key:e,newValue:t,oldValue:a})=>{"customIndicatorPassFilesTime"!==e&&"customIndicatorPassFiles"!==e||t===a||k((e=>-1*e))}))}),[]),(0,r.useEffect)((()=>(E===u.vm.tradingView&&V.current&&(V.current=!1),E===u.vm.tradingView?(B(!1),clearTimeout(M.current),M.current=window.setTimeout(L,6e5,!0),P&&(C(Date.now()),_(!1))):E===u.vm.basic?(L(!1),clearTimeout(M.current),M.current=window.setTimeout(B,6e5,!0),P&&(w((e=>-1*e)),_(!1))):E===u.vm.depth&&(clearTimeout(M.current),M.current=window.setTimeout((()=>{L(!0),B(!0),_(!0)}),6e5)),()=>{clearTimeout(M.current)})),[E]);const F=(0,r.useMemo)((()=>(0,y.B)()),[I]),K=(0,r.useCallback)((()=>{setTimeout((()=>{var e;const t=null===f||void 0===f||null===(e=f.current)||void 0===e?void 0:e.getCandlestick(),a=null===t||void 0===t?void 0:t.getCurrentItemByTime(Date.now()),r=(null===t||void 0===t?void 0:t.getSeriesData())||[];O([a,r[r.length-2]])}),0)}),[O,f]),N=(0,r.useMemo)((()=>F({pair:U,contractType:H,symbol:a,interval:W,priceType:q,useMiniTicker:l,isDelivery:X,dataTransformer:o?(0,p.D)(J):(0,p.V)(J),onNewDataArrived:K})),[U,H,J,a,W,q,X,o,l,F,K]);(0,v.M9)(a,l,"CM"),(0,v.jT)({pair:U,symbol:a,contractType:H,interval:W,business:"CM",priceType:q}),(0,r.useEffect)((()=>{k((e=>-1*e)),E===u.vm.tradingView?w((e=>-1*e)):B(!0)}),[q]),(0,r.useEffect)((()=>{k((e=>-1*e)),w((e=>-1*e))}),[o]);const Y=(0,r.useMemo)((()=>({pair:U,contractType:H})),[U,H]);return a&&W&&H&&U?D(i().Fragment,null,R?null:D(c.Z,{key:`bk-${S}`,symbol:Y,storeSymbol:a,namespace:t,dataProvider:N,customIndicators:x,isShowDrawPanel:b,isShowAnnotationPanel:h,candleRef:f}),V.current&&E!==u.vm.tradingView||!e||Z?null:D(s.Z,{key:`tv-${T}`,symbol:a,storage:g,namespace:t})):null}},t3Ex:(e,t,a)=>{"use strict";a.d(t,{W:()=>s,r:()=>c});var r=a("5vwO"),i=a("HvGN"),o=a.n(i),n=a("kZs2");const l=({transform:e,request:t})=>a=>{(async()=>{try{a(e(await t()))}catch(r){Sentry.captureException(r)}})()},s=(e,t=[])=>{var a;return(null===(a=t.find((t=>(null===t||void 0===t?void 0:t.time)===e)))||void 0===a?void 0:a.value)||0},c=({availableIntervals:e,transform:t,makeRequest:a})=>{let i=[];return{paramMetas:[],getData:function(o,s){const c=(0,n.xR)(e,o.interval)||(0,n.uC)(e),u=a((0,r.Z)((0,r.Z)({},o),{},{period:c}));l({transform:t,request:u})((e=>{i=e,s({data:e})}))},subscribe:function(s,c){const u=(0,n.xR)(e,s.interval)||(0,n.uC)(e),d=(0,n.nJ)(s.interval),m=setInterval((()=>{const e=a((0,r.Z)((0,r.Z)({},s),{},{period:u}));l({transform:t,request:e})((e=>{const t=o()(e,i,((e,t)=>e.time===t.time));i.push(...t),t.forEach((e=>c(e)))}))}),d>=2147483647?2147483647:d);return()=>clearInterval(m)}}}},Sav6:(e,t,a)=>{"use strict";a.d(t,{b0:()=>n});var r=a("5vwO"),i=a("wZts"),o=a("ffDY");const n=({symbol:e,pair:t,contractType:a,interval:n,isDelivery:l,priceType:s})=>c=>l&&"last"===s?(e=>(0,i.U2)(`/dapi/v1/continuousKlines?${(0,o.DT)(e)}`))((0,r.Z)((0,r.Z)({},c),{},{pair:t,contractType:a,interval:n})):l&&"mark"===s?(e=>(0,i.U2)(`/dapi/v1/markPriceKlines?${(0,o.DT)(e)}`))((0,r.Z)((0,r.Z)({},c),{},{symbol:e,interval:n})):l&&"index"===s?(e=>(0,i.U2)(`/dapi/v1/indexPriceKlines?${(0,o.DT)(e)}`))((0,r.Z)((0,r.Z)({},c),{},{pair:t,interval:n})):"mark"===s?(e=>(0,i.U2)(`/fapi/v1/markPriceKlines?${(0,o.DT)(e)}`))((0,r.Z)((0,r.Z)({},c),{},{symbol:e,interval:n})):"index"===s?(e=>(0,i.U2)(`/fapi/v1/indexPriceKlines?${(0,o.DT)(e)}`))((0,r.Z)((0,r.Z)({},c),{},{pair:t,interval:n})):(e=>(0,i.U2)(`/fapi/v1/continuousKlines?${(0,o.DT)(e)}`))((0,r.Z)((0,r.Z)({},c),{},{pair:t,contractType:a,interval:n}))},"I/SI":(e,t,a)=>{"use strict";a.d(t,{B:()=>c});var r=a("5vwO"),i=a("m92i"),o=a("kZs2"),n=a("EHEI"),l=a("+WBH"),s=a("Sav6");const c=()=>{let e=0;return({symbol:t,pair:a,contractType:c,interval:u,priceType:d,useMiniTicker:m,isDelivery:v,onNewDataArrived:y=(()=>null),dataTransformer:p=(e=>e),disconnectCallback:b=(()=>null)})=>{e+=1;let h=0,f=null;const g={klineDataQueue:[]},S=(k=e,()=>k===e);var k;const T=(0,s.b0)({symbol:t,pair:a,contractType:c,interval:u,isDelivery:v,priceType:d});return{trackingData:g,getData:async({startTime:e=0,endTime:t=0},a=(()=>!1))=>{try{const o=(await(0,n.M)({onFetchKlineData:T,startTime:e,endTime:t})).map(p);(e=>{var t;const a=null===(t=e[e.length-1])||void 0===t?void 0:t.time;a&&a>h&&(h=a)})(o),g.klineDataQueue=o.slice(-100).map((e=>(0,r.Z)((0,r.Z)({},e),{},{id:(0,i.Z)()}))),a({data:o,isLoadAll:0===o.length})}catch(o){}},subscribe:(e,n)=>(f=(0,l.Ld)({symbol:t,pair:a,contractType:c,interval:u,priceType:d,isDelivery:v,useMiniTicker:m,checkIfInSync:S,callback:(e,t)=>{const a=(0,r.Z)((0,r.Z)({},t),{},{id:(0,i.Z)()});var l,s;l=g.klineDataQueue,s=a,l.push(s),l.length>100&&l.splice(0,1);const c=p(e),{time:d}=c;(e=>{if(0===h)return;const t=(0,o.nJ)(u);e-h>=2*t&&(null===b||void 0===b||b())})(d),d>h&&(h=d),n(c),y(c)}}),f),unsubscribe:()=>{var e;null===(e=f)||void 0===e||e(),f=null},getBarDatas:()=>null,subcribe:()=>null,unSubcribe:()=>null}}}},EHEI:(e,t,a)=>{"use strict";a.d(t,{M:()=>i});var r=a("5vwO");const i=async({onFetchKlineData:e,startTime:t,endTime:a,limit:i=1e3})=>{const o=[];let n=[],l=a;const s=0!==a;do{if(n=await e((0,r.Z)((0,r.Z)({},0===l?{}:{endTime:l}),{},{limit:i})),0===n.length)break;n.forEach((([e,t,a,r,i,n,,l])=>{o.push({time:+e,open:+t,high:+a,low:+r,close:+i,volume:+n,quantity:+l})})),l=n[0][0]-1}while(n.length===i&&l>t&&s);return o.sort(((e,t)=>e.time-t.time)),o}},RuXq:(e,t,a)=>{"use strict";a.d(t,{V:()=>i,D:()=>o});var r=a("5vwO");const i=e=>t=>(0,r.Z)((0,r.Z)({},t),{},{volume:t.quantity,quantity:t.volume*e}),o=e=>t=>(0,r.Z)((0,r.Z)({},t),{},{volume:t.volume,quantity:t.volume*e})},"+WBH":(e,t,a)=>{"use strict";a.d(t,{Ld:()=>s});var r=a("5vwO"),i=a("AHTf"),o=a("kZs2");const n=e=>e,l=e=>e,s=({symbol:e,pair:t,contractType:a,interval:s,priceType:c,isDelivery:u,useMiniTicker:d,callback:m,checkIfInSync:v=(()=>!0)})=>{const y=u?(0,i.RU)():(0,i.BN)(),p="mark"===c?e:t,b=y.getContinuousKlineStream(p,a,s,{priceType:c,symbol:e});b.selector=n;const h=d?y.getStreamTickers():y.getStreamTradeSnap(e);h.selector=d?(e=>t=>t[e])(e):l;const f=(0,o.yv)([b,h]);return f.subscribe((([e,t])=>{if(!t||!e||!v())return;const a=(0,r.Z)({},e);if("last"===c){const e=Array.isArray(t)?t.slice(-1).pop():t,n=(0,o.nJ)(s),l=+(e.price||e.lastPrice),c=+(e.quantity||e.quoteVolume),u=e.tradeTime||e.eventTime;try{if("1M"===s){const e=new Date(u),t=new Date(a.time).getMonth();if(e.getMonth()>t){const e=+new Date(a.time).setMonth(t+1);Object.assign(a,(0,r.Z)({time:e,open:l,high:l,low:l,close:l},d?{volume:0,quantity:0}:{volume:c,quantity:c}))}}else if(u-a.time>n){const e=a.time+Math.floor((u-a.time)/n)*n;Object.assign(a,(0,r.Z)({time:e,open:l,high:l,low:l,close:l},d?{volume:0,quantity:0}:{volume:c,quantity:c}))}}catch(i){console.error(i)}a.close=l}m(a,e)})),f}},SKkT:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var r=a("5vwO"),i=a("/SIk"),o=a.n(i),n=a("xpv6"),l=a("FOuV"),s=a("Gbz3"),c=a("B+lg"),u=o().createElement;const d=({order:e,onClose:t})=>{const{symbol:a,side:o,positionSide:d,modifyParams:m={},onConfirm:v}=e,{positionMode:y=!1}=(0,s.F7)(),{getI18n:p}=(0,s.yk)(),[b,h]=(0,n.g)(l.Zv,l.Xd),{limitPrice:f,qty:g,amendedField:S}=m,k="BUY"===o?"buy":"sell",T=(({side:e,positionSide:t,getFutI18n:a,positionMode:r})=>{const i=a("buyLong",{defaultValue:"Buy/Long"}),o=a("sellShort",{defaultValue:"Sell/Short"}),n=a("OpenLong",{defaultValue:"Open Long"}),l=a("OpenShort",{defaultValue:"Open Short"}),s=a("CloseShort",{defaultValue:"Close Short"}),c=a("CloseLong",{defaultValue:"Close Long"});let u;return u=r?"BUY"===e?"SHORT"===t?s:n:"SHORT"===t?l:c:"BUY"===e?i:o,u})({side:o,positionSide:d,getFutI18n:p,positionMode:y}),w=(0,i.useCallback)((()=>{const e=(0,r.Z)((0,r.Z)({},b),{},{needConfirm:!1});h(e)}),[h,b]);return u(c.Z,{symbol:a,title:T,color:k,amendedField:S,isMarket:!1,limitPrice:f,qty:g,isClose:!1,onClose:t,onConfirm:v,closeTip:w})},m=o().memo(d)},"Ozc/":(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});a("meeu"),a("wgY5"),a("AHTf"),a("Feu0");const r={init(){},log(e,t="inner"){},async report(){}}}}]);