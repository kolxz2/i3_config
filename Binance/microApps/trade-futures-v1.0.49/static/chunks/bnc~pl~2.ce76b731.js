(self["webpackJsonp_trade-futures"]=self["webpackJsonp_trade-futures"]||[]).push([[666],{"B+uY":(e,n,t)=>{"use strict";t.d(n,{Z:()=>ee});var a=t("D57K"),o=t("/SIk"),i=t.n(o),r=t("Vg22"),l=t("XHG8"),c=t("O94r"),u=t.n(c),s=t("nsO7"),d=t("wZts"),m="RELEASED",v="NONE",f="WEB",p="H5",h="ALL",g="ALL",b=t("e5RN"),w=t("OV9X"),x=t("KM4q"),_=t("7kyn"),y=t("Uqe+"),E=t("t8ft"),T=t("JCmj");const k=function(e,n){return void 0===e&&(e=[]),e.reduce((function(e,t){return e[t[n]]=t,e}),{})};const C=function(e){var n=(0,E.Oz)().i18n.language,t=(0,r.useDispatch)(),a=(0,o.useRef)();(0,o.useEffect)((function(){return a.current=(0,T.Z)(e+"/market?channel="+n),a.current.onmessage((function(e){var n=(e||{}).data;if(n&&n.size&&n instanceof Blob){var a=new FileReader;a.onload=function(){var e,n=JSON.parse(a.result)||{},o=n.announcement,i=n.announcementDevices,r=n.announcementLanguage;o&&(null===i||void 0===i?void 0:i.length)&&(null===r||void 0===r?void 0:r.announcementId)&&t.announcementTool.updateState({announcement:o,announcementDevice:k(i,"announcementId"),announcementLanguage:(e={},e[null===r||void 0===r?void 0:r.announcementId]=r,e)})},a.readAsText(n,"utf-8")}})),a.current.open(),function(){var e;return null===(e=a.current)||void 0===e?void 0:e.close()}}),[t.announcementTool,e,n])};var S=function(e){return e.announcementTool},N={annShow:!1,annId:"",annType:"NONE",annLang:"en",annTitle:"",annContent:"",annBtnText:"",annUrl:""};const I=function(e,n,t){var i=(0,r.useDispatch)(),l=(0,_.F)().isMobile,c=(0,E.Oz)().i18n.language,u=(0,r.useSelector)(S),s=u.announcement,d=u.announcementDevice,v=u.announcementLanguage;return C(t),(0,o.useEffect)((function(){i.announcementTool.queryAnnouncement(c)}),[i.announcementTool,c]),(0,o.useMemo)((function(){var t=s||{},o=t.announcementId,i=t.status,r=t.type,u=t.expiryTime,b=void 0===u?0:u,w=t.hiddenTime,x=void 0===w?0:w,_=t.releaseTime,y=void 0===_?0:_,E=(null===d||void 0===d?void 0:d[o])||{},T=E.device,k=E.business,C=E.scope,S=E.url,I=(null===v||void 0===v?void 0:v[o])||{},Z=I.language,A=I.title,L=I.contents,z=I.actionButton;return i===m&&Z===c&&function(e){var n=e.device,t=e.isMobile;return!t&&n===f||t&&n===p}({device:T,isMobile:l})&&function(e){var n=e.business,t=e.scope,a=e.invokerBusiness,o=e.invokerScope;return(n===h||n===a)&&(t===g||t===o)}({business:k,scope:C,invokerBusiness:e,invokerScope:n})&&function(e){var n=e.releaseTime,t=e.expiryTime,a=e.hiddenTime,o=Date.now();return o>n&&(o<t||o<a)}({releaseTime:y,expiryTime:b,hiddenTime:x})?(0,a.__assign)((0,a.__assign)({},N),{annShow:!0,annId:""+o,annType:r,annLang:Z,annTitle:A,annContent:L,annBtnText:z,annUrl:S}):N}),[s,d,v,e,n,l,c])};var Z=t("frZ3");const A=function(e,n,t){void 0===t&&(t=1e3);var a=(0,o.useState)(!1),i=a[0],r=a[1],l=(0,y.Z)("annToolAlerted",{}),c=l[0],u=l[1];return(0,Z.Z)((function(){var t=null===c||void 0===c?void 0:c[e];n?r(t&&Date.now()<=t):t&&u({})}),t),(0,o.useMemo)((function(){return{isAlerted:i,setAlertedAnnTool:u}}),[i,u])};var L=t("d5gM"),z=t("/bvR"),D=function(e){var n=e._track,t=e.elementSelector,a=e.elementId,o=e.elementTargetUrl;n&&n("WebClick",{module:"announcement_tool",elementSelector:t,elementId:a,elementTargetUrl:o})};function R(e){var n=e.i18nInstance,t=e.language,o=e.i18nHost,i=e.namespace;return(0,a.__awaiter)(this,void 0,void 0,(function(){var e,r,l;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return(null===n||void 0===n?void 0:n.hasResourceBundle(t,i))?[2]:null!==n&&void 0!==n?[3,1]:(void 0,[3,3]);case 1:return r=(e=n).addResourceBundle,l=[t,i],[4,(0,z.Ux)({basePath:o,locale:t,namespace:i,fallback:"en"})];case 2:r.apply(e,l.concat([a.sent(),!0,!0])),a.label=3;case 3:return[2]}}))}))}const M=function(e){var n=L.Z.language||"undefined"!==typeof window&&window.localStorage.i18nextLng;(0,o.useEffect)((function(){!function(){(0,a.__awaiter)(this,void 0,void 0,(function(){return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,R({language:n,i18nInstance:L.Z,i18nHost:e,namespace:"announcement-tool"})];case 1:return t.sent(),[2]}}))}))}()}),[e,n])};var H=t("XGcN"),O={updateState:function(e,n){return(0,a.__assign)((0,a.__assign)({},e),n)}};var B={announcementTool:{name:"announcementTool",state:{announcement:{},announcementDevice:{},announcementLanguage:{}},reducers:(0,a.__assign)({},O),effects:function(e){return{queryAnnouncement:function(n){return(0,a.__awaiter)(this,void 0,void 0,(function(){var t,o,i,r,l,c,u,s;return(0,a.__generator)(this,(function(m){switch(m.label){case 0:return[4,(v={rows:1,page:1,language:n},(0,a.__awaiter)(void 0,void 0,void 0,(function(){return(0,a.__generator)(this,(function(e){return[2,(0,d.v_)("/bapi/futures/v1/public/future/announcement/announcement-history",v)]}))})))];case 1:return t=m.sent()||{},o=t.success,i=t.data,r=i[0],c=(l=r||{}).announcement,u=l.announcementDevices,s=l.announcementLanguages,o&&c&&e.announcementTool.updateState({announcement:c,announcementDevice:k(u||[],"announcementId"),announcementLanguage:k(s||[],"announcementId")}),[2]}var v}))}))}}}}},V=(0,H.init)({name:"AnnouncementTool",models:B}),q=t("RdyI");const P=function(e){return i().createElement(q.Z,(0,a.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 2h12v3h4v5.41l-5.757 5.833A5.988 5.988 0 0113 17.917V20h5v2H6v-2h5v-2.083a5.984 5.984 0 01-3.247-1.68L2 10.41V5h4V2zm6 14a3.984 3.984 0 002.829-1.172A3.984 3.984 0 0016 12V4H8v8a4 4 0 004 4zm6-4.366l2-2.044V7h-2v4.634zM6 7v4.635L4 9.59V7h2z",fill:"#76808F"}))};const U=function(e){return i().createElement(q.Z,(0,a.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.341 19H2v-3l2-2v-4a8 8 0 1116 0v4l2 2v3h-4.341A6.003 6.003 0 016.34 19zM20 17l-2-2v-5a6 6 0 00-12 0v5l-2 2h16zm-4.535 2h-6.93A3.998 3.998 0 0012 21c1.48 0 2.773-.805 3.465-2z",fill:"#76808F"}))};const F=function(e){return i().createElement(q.Z,(0,a.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),i().createElement("path",{d:"M22 2h-6.414l-5 5h-5l-5 5 3.707 3.707 1.414-1.414L3.414 12l3-3h5l5-5H20v3.586l-5 5v5l-3 3-2.293-2.293-1.414 1.414L12 23.414l5-5v-5l5-5V2z",fill:"#76808F"}),i().createElement("path",{d:"M4.707 20.707l7-7-1.414-1.414-7 7 1.414 1.414z",fill:"#76808F"}))};var W={topLeft:{top:"70px",bottom:"unset",left:"20px",right:"unset"},topRight:{top:"70px",bottom:"unset",left:"unset",right:"20px"},bottomLeft:{top:"unset",bottom:"24px",left:"20px",right:"unset"},bottomRight:{top:"unset",bottom:"24px",left:"unset",right:"20px"},topCenter:{top:"14px",bottom:"unset",left:"8px",right:"8px"},bottomCenter:{top:"unset",bottom:"14px",left:"8px",right:"8px"}},X={CAMPAIGN:{icon:i().createElement(P,{size:16}),key:"HotCampaign",defaultValue:"Hot Campaign",dfTheme:"hotCampaign"},ANNOUNCEMENT:{icon:i().createElement(U,{size:16}),key:"ImportantNotice",defaultValue:"Important Notice",dfTheme:"announcement"},NEW_TRADING_PAIR:{icon:i().createElement(F,{size:16}),key:"NewTradingPair",defaultValue:"New Trading Pair",dfTheme:"newTradingPairs"}};const j=(0,o.memo)((function(e){var n=e.annData,t=(0,E.Oz)().getI18n,a=n.annType,o=void 0===a?"":a,r=X[o]||{},l=r.icon,c=r.key,u=r.defaultValue;return o===v?null:i().createElement(b.Z,{className:"ann-tool-header"},l,i().createElement(w.Z,{variant:"captionSub"},t(c,{defaultValue:u})))}));var G=t("GEp0"),J=t("HWFi"),K=t("X46w");const Y=(0,o.memo)((function(e){var n=e.annData,t=e.showCheckbox,a=e.checked,r=e.setChecked,l=e.onClose,c=e.sensorsTrack,s=e.elementSelector,d=e.elementTargetUrl,m=(0,E.Oz)().t,v=n.annBtnText,f=void 0===v?"":v,p=n.annUrl,h=void 0===p?"":p,g=n.annLang,x=void 0===g?"":g,_=(0,o.useCallback)((function(e){D({_track:c,elementSelector:s,elementId:e,elementTargetUrl:d})}),[s,d,c]),y=(0,o.useCallback)((function(e){r(e.currentTarget.checked),_("popup_hideforever")}),[_,r]),T=(0,o.useCallback)((function(){_("action_btn"),l(),h&&window.open("/"+x+"/"+h,"_blank")}),[h,_,x,l]);return t||f?i().createElement(b.Z,{className:u()("ann-tool-action-bar",{"flex-end":!t})},t&&i().createElement(G.Z,null,i().createElement(J.Z,{checked:a,onChange:y}),i().createElement(w.Z,{variant:"caption",className:"checkbox-label"},m("annTool_DontShowAgain"))),f&&i().createElement(K.Z,{sz:"tiny",variant:"default",className:"action-button",onClick:T},f)):null}));var Q={position:"fixed",zIndex:1002,width:["auto","345px"],flexDirection:"column",pt:"ls",bg:"modalBg",boxShadow:"elevation3",borderRadius:"4px","& .ann-tool-header":{pb:"10px",pl:"sm",pr:"14px",color:"t.yellow",svg:{mr:"5px"},path:{fill:"t.yellow"}},"& .ann_close":{position:"absolute",top:"ls",right:"14px",color:"t.third",cursor:"pointer"},"& .ann-tool-title":{pl:"sm",pr:"40px",mb:"ls"},"& .one-line-title":{pr:"sm",color:"t.primary",cursor:"default"},"& .hidden-title":{display:"none"},"& .ann-main":{px:"sm",opacity:0,maxHeight:0,pb:0,transition:"opacity 1s ease-out",overflow:"hidden",cursor:"default","&.show":{opacity:1,maxHeight:"300px",pb:"ls"},"& .two-line-title":{mr:"20px",color:"t.primary",overflow:"hidden",display:"-webkit-box"}},"& .ann-tool-content":{mt:"xs",color:"t.third",overflow:"hidden",display:"-webkit-box"},"& .ann-tool-action-bar":{mt:"sm",justifyContent:"space-between",".checkbox-label":{color:"t.third",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},".action-button":{ml:"xs",px:"xs",minWidth:76}},"& .flex-end":{justifyContent:"flex-end"}},$=(0,o.memo)((function(e){var n=e.i18nHost,t=void 0===n?"":n,r=e.business,c=void 0===r?h:r,d=e.scope,m=void 0===d?g:d,v=e.showCheckbox,f=void 0!==v&&v,p=e.WS_HOST,E=void 0===p?"":p,T=e.placement,k=void 0===T?"bottomRight":T,C=e.sx,S=e.sensorsTrack,N=(0,_.F)(),Z=N.isMobile,L=N.isIPad,z=(0,o.useState)(!1),R=z[0],H=z[1],O=(0,o.useState)(!Z&&!L),B=O[0],V=O[1],q=(0,o.useState)(!1),P=q[0],U=q[1],F=I(c,m,E),G=F.annShow,J=F.annId,K=F.annTitle,$=F.annContent,ee=(0,a.__rest)(F,["annShow","annId","annTitle","annContent"]),ne=A(J,G),te=ne.isAlerted,ae=ne.setAlertedAnnTool,oe=(0,y.Z)("annToolDontShowAgain",{}),ie=oe[0],re=oe[1],le=(0,o.useMemo)((function(){return{elementSelector:c+"_"+m,elementTargetUrl:J}}),[J,c,m]),ce=(0,o.useMemo)((function(){return(0,a.__assign)((0,a.__assign)((0,a.__assign)({},Q),W[k]),C)}),[k,C]);M(t);var ue=(0,o.useCallback)((function(){var e;re((0,a.__assign)((0,a.__assign)({},ie),((e={})[J]=!0,e)))}),[J,ie,re]),se=(0,o.useCallback)((function(){H(!1),f&&!P||ue()}),[P,ue,f]),de=(0,s.debounce)((function(){return V(!1)}),50),me=(0,s.debounce)((function(){return V(!0)}),100);return(0,o.useEffect)((function(){if(R){var e=(X[ee.annType]||{}).dfTheme;S&&S("PopupView",{df_ClientType:Z?"h5":"web",df_theme:e,df_PageName:c+"_"+m,df_CampaignID:J})}}),[J,c,Z,ee.annType,m,S,R]),(0,o.useEffect)((function(){var e;G&&!(null===ie||void 0===ie?void 0:ie[J])&&(f?te||(H(!0),ae(((e={})[J]=(new Date).setHours(23,59,59),e))):H(!0))}),[G,J,ie,te,ae,f]),(0,o.useEffect)((function(){!G&&(null===ie||void 0===ie?void 0:ie[J])&&re({})}),[J,G,ie,re]),(null===ie||void 0===ie?void 0:ie[J])?null:R?i().createElement(b.Z,{sx:ce},i().createElement("div",{onMouseEnter:de,onMouseLeave:me},i().createElement(j,{annData:ee}),i().createElement(w.Z,{className:u()("ann-tool-title",{"hidden-title":!B}),variant:"subtitle2"},i().createElement(l.Z,{pauseOnHover:!0,gradient:!1,delay:3},i().createElement("div",{className:"one-line-title"},K))),i().createElement("div",{className:u()("ann-main",{show:!B})},i().createElement(w.Z,{className:"two-line-title",variant:"subtitle2",sx:{"-webkit-box-orient":"vertical","-webkit-line-clamp":"2"}},K),i().createElement(w.Z,{className:"ann-tool-content",variant:"body2",sx:{"-webkit-box-orient":"vertical","-webkit-line-clamp":"3"}},$),i().createElement(Y,(0,a.__assign)({annData:ee,showCheckbox:f,checked:P,setChecked:U,onClose:se,sensorsTrack:S},le)))),i().createElement(x.Z,{className:"ann_close",size:16,onClick:function(){se(),D((0,a.__assign)({_track:S,elementId:"popup_cancel"},le))}})):null}));const ee=function(e){return i().createElement(r.Provider,{store:V},i().createElement($,(0,a.__assign)({},e)))}},XHG8:(e,n,t)=>{var a=t("/SIk");function o(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var i=o(a),r=function(){return(r=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)};!function(e){if(e&&"undefined"!==typeof window){var n=document.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=e,document.head.appendChild(n)}}('.marquee-container {\n  overflow-x: hidden !important;\n  display: flex !important;\n  flex-direction: row !important;\n  position: relative;\n  width: 100%;\n}\n.marquee-container:hover div {\n  animation-play-state: var(--pause-on-hover);\n}\n.marquee-container:active div {\n  animation-play-state: var(--pause-on-click);\n}\n\n.overlay {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n.overlay::before, .overlay::after {\n  background: linear-gradient(to right, var(--gradient-color));\n  content: "";\n  height: 100%;\n  position: absolute;\n  width: var(--gradient-width);\n  z-index: 2;\n}\n.overlay::after {\n  right: 0;\n  top: 0;\n  transform: rotateZ(180deg);\n}\n.overlay::before {\n  left: 0;\n  top: 0;\n}\n\n.marquee {\n  flex: 0 0 auto;\n  min-width: 100%;\n  z-index: 1;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);\n  animation-play-state: var(--play);\n  animation-delay: var(--delay);\n  animation-direction: var(--direction);\n}\n@keyframes scroll {\n  0% {\n    transform: translateX(0%);\n  }\n  100% {\n    transform: translateX(-100%);\n  }\n}');n.Z=function(e){var n,t,o,l,c=e.style,u=void 0===c?{}:c,s=e.className,d=void 0===s?"":s,m=e.play,v=void 0===m||m,f=e.pauseOnHover,p=void 0!==f&&f,h=e.pauseOnClick,g=void 0!==h&&h,b=e.direction,w=void 0===b?"left":b,x=e.speed,_=void 0===x?20:x,y=e.delay,E=void 0===y?0:y,T=e.gradient,k=void 0===T||T,C=e.gradientColor,S=void 0===C?[255,255,255]:C,N=e.gradientWidth,I=void 0===N?200:N,Z=e.children,A=e.loop,L=void 0===A?0:A,z=a.useState(0),D=z[0],R=z[1],M=a.useState(0),H=M[0],O=M[1],B=a.useState(0),V=B[0],q=B[1],P=a.useState(!1),U=P[0],F=P[1],W=a.useRef(null),X=a.useRef(null),j=function(){X.current&&W.current&&(R(W.current.getBoundingClientRect().width),O(X.current.getBoundingClientRect().width)),q(H<D?D/_:H/_)};a.useEffect((function(){return j(),window.addEventListener("resize",j),function(){window.removeEventListener("resize",j)}})),a.useEffect((function(){F(!0)}),[]);var G="rgba("+S[0]+", "+S[1]+", "+S[2];return i.default.createElement(a.Fragment,null,U?i.default.createElement("div",{ref:W,style:r(r({},u),(n={},n["--pause-on-hover"]=p?"paused":"running",n["--pause-on-click"]=g?"paused":"running",n)),className:d+" marquee-container"},k&&i.default.createElement("div",{style:(t={},t["--gradient-color"]=G+", 1), "+G+", 0)",t["--gradient-width"]="number"===typeof I?I+"px":I,t),className:"overlay"}),i.default.createElement("div",{ref:X,style:(o={},o["--play"]=v?"running":"paused",o["--direction"]="left"===w?"normal":"reverse",o["--duration"]=V+"s",o["--delay"]=E+"s",o["--iteration-count"]=L?""+L:"infinite",o),className:"marquee"},Z),i.default.createElement("div",{style:(l={},l["--play"]=v?"running":"paused",l["--direction"]="left"===w?"normal":"reverse",l["--duration"]=V+"s",l["--delay"]=E+"s",l["--iteration-count"]=L?""+L:"infinite",l),className:"marquee"},Z)):null)}}}]);