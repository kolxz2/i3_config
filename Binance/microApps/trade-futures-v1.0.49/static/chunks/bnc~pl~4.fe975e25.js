(self["webpackJsonp_trade-futures"]=self["webpackJsonp_trade-futures"]||[]).push([[149],{JTEK:(e,r,t)=>{"use strict";t.d(r,{Z:()=>g});var l=t("/SIk"),n=t.n(l),a=t("c2re"),i=t.n(a),c=t("Vg22"),o=t("pVAJ"),u=t("AHTf"),s=t("XdEc"),d=t("krVE"),m=t("hTQS"),y=t("FOuV"),p=t("V/Fe"),f=n().createElement;const k=({i18n:e,contractInfo:r,name:t,curSymbol:n,currentProduct:a={},type:k})=>{const[g]=(0,p.c4)(n,a),b=(0,o.AM)(),h=(0,c.useDispatch)(),S=b[g]||{},{deliveryDate:T,contractType:P="",pair:x}=S,{chartSymbol:v,currentProductList:I}=(0,p.Kb)(),[E,N]=t.split("-"),V=(0,c.useSelector)((e=>e.products.products)),C=i()(I),F=JSON.parse(JSON.stringify(v)),A=JSON.parse(localStorage.getItem(y.PV)),J=JSON.parse(localStorage.getItem("symbolType"));(0,l.useEffect)((()=>{const{symbol:e,contractStatus:t}=r;if(g===e&&"DELIVERED"===(null===t||void 0===t?void 0:t.toUpperCase())){const{curSymbol:e,currentProduct:r}=(0,d.Ib)(V,y.L6,"delivery");C[E][N]=r,F[E][N]=e,A[E][N]=y.L6,J[E][N]="delivery",h.chartType.updateFuturesSymbols({symbolList:F}),localStorage.setItem("symbolType",JSON.stringify(J)),localStorage.setItem(y.PV,JSON.stringify(A)),h.chartType.updateCurrentProductList(C)}}),[E,V,E,v,I,r,x,b,g]);const{loading:Z,value:L}=(0,p.sF)(T,g,P,k),M=e("TimeLeftForDelivery",{defaultValue:"Time left for delivery"}),O=(0,l.useMemo)((()=>Z||!L?"00:00:00":L>24?`${Math.ceil(L/24)} ${e("daysLeft",{defaultValue:"days left"})}`:f(s.A,{timer:3600*L*1e3,i18n:e})),[L,e,Z]);return P.toUpperCase()===u.Yp.PERPETUAL?null:f(m.j7,{label:M,price:O})},g=(0,l.memo)(k)},lzQt:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>N});var l=t("5vwO"),n=t("GpFh"),a=t("/SIk"),i=t.n(a),c=t("XhNN"),o=t("e5RN"),u=t("kXC2"),s=t("z/Z1"),d=t("4xt1"),m=t("pVAJ"),y=t("AHTf"),p=t("kZs2"),f=t("y5Ng"),k=t("8Kyu"),g=t("GA2I"),b=t("rdEq"),h=t("nJ+u"),S=t("tjpQ"),T=t("JTEK"),P=t("Gbz3"),x=i().createElement;function v({curSymbol:e,currentProduct:r,name:t}){const{getI18n:l}=(0,P.yk)(),n=(0,P.gN)();return x(T.Z,{i18n:l,contractInfo:n,name:t,curSymbol:e,currentProduct:r,type:"futures"})}var I=t("V/Fe"),E=i().createElement;const N=e=>{var r,t;let{children:i,curSymbol:T,name:x="",currentProduct:N={}}=e,V=(0,n.Z)(e,["children","curSymbol","name","currentProduct"]);const[C]=(0,I.c4)(T,N),{contractType:F}=N,A=F!==y.Yp.PERPETUAL,{tickProps:J}=(0,I.kP)((0,y.BN)(),T,N||{}),{lastPrice:Z=0,tickSize:L=1e-7,diffPrice:M,difference:O,bigThan:R}=J,{getI18n:w,i18n:{language:K}}=(0,P.yk)(),{getI18n:U}=(0,m.ZK)("trd-ticker",""),D=(0,s.Fg)(),_=(0,h.Z)({lastPrice:Z}),j=(0,m.U1)(L),z=(0,d.uf)(Z,j),G=R?D.colors.buy:D.colors.sell,{formatTk:W}=(0,m.mC)(N),{markPrice:Q,lastFundingRate:X,nextFundingTime:Y}=(0,I._n)()[C]||{},$=null===(r=(0,I.oC)()[C])||void 0===r?void 0:r.indexPrice,H=(0,a.useRef)(null),q=null===(t=H.current)||void 0===t?void 0:t.clientWidth,B={mark:W(Q),index:W($),fund:(0,g.Y)(X),nextFundingTime:Y},ee=(0,a.useMemo)((()=>[{label:E(b.m,{learnMoreLink:(0,p.CN)(y.Wh.UM_MARK_PRICE,{locale:K}),tip:w("header-mark-markPriceTip")},w("header-mark",{defaultValue:"mark"})),key:"mark"},{label:E(S.C,{symbol:null===N||void 0===N?void 0:N.symbol}),render:e=>E("div",{style:{marginTop:-1}},e),key:"index"},{label:E(b.m,{learnMoreLink:(0,p.CN)(y.Wh.FUNDING,{locale:K}),tip:w("header-mark-fundingTip")},w("header-funding",{defaultValue:"Funding/8h"})),timeKey:"nextFundingTime",timeTips:w("header-mark-countdownTimeTip"),key:"fund"},{label:U("change",{defaultValue:"24h Change"}),render:e=>E("span",{style:{color:G}},[(0,d.uf)(M||0,j),`${O}%`].join(" ")),key:"change"}]),[G,null===N||void 0===N?void 0:N.symbol,M,O,w,U,K,j]),re=(0,a.useMemo)((()=>A?ee.filter((e=>"fund"!==e.key)):ee),[A,ee]),te=(0,a.useMemo)((()=>q<=483&&q>=339?re.filter((e=>"change"===e.key)):q<=579&&q>=484?re.filter((e=>"index"!==e.key&&"mark"!==e.key)):re),[q,re]);return E(c.Z,{sx:(0,l.Z)({pl:"16px",display:"flex",justifyContent:"space-between"},V),className:"ticker-wrap",ref:H},E(o.Z,null,E(c.Z,{sx:{display:"flex"}},E(u.Ar,{sx:{mr:"xs",flex:"none"}},E(c.Z,{sx:{display:"flex",alignItems:"center",flex:1}},i),E(f.A,{price:z,priceColor:_}))),E(u.Ar,{sx:{flex:[1],flexWrap:"wrap",display:"flex",alignItems:"center"}},E(k.Z,{list:te,dataSource:B,layout:"multiChart"},A&&E(v,{curSymbol:T,currentProduct:N,name:x})))))}}}]);