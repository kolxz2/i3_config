(self["webpackJsonp_trade-futures"]=self["webpackJsonp_trade-futures"]||[]).push([[606,416],{fcuc:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var o=r("D57K"),n=r("/SIk"),a=r.n(n),i=r("RdyI");const l=function(e){return a().createElement(i.Z,(0,o.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4c4.411 0 8 3.589 8 8s-3.589 8-8 8-8-3.589-8-8 3.589-8 8-8zm0-2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm.997 9.004h-2.009v6h2.009v-6zm-2.009-4h2.009v2.009h-2.009v-2.01z",fill:"currentColor"}))}},Du7o:(e,t,r)=>{"use strict";r.d(t,{y:()=>l});var o=r("D57K"),n=r("/SIk"),a=r.n(n),i=r("XhNN"),l=(0,n.forwardRef)((function(e,t){var r=e.children,n=(0,o.__rest)(e,["children"]);return a().createElement(i.Z,(0,o.__assign)({},n,{ref:t,__css:{position:["fixed","static"],zIndex:[1,"auto"],left:["0px","unset"],bottom:["0px","unset"],pt:"md",pb:["md","0px"],px:["md","0px"],width:["100%","unset"],boxShadow:["0px 2px 4px rgba(0, 0, 0, 0.08), 0px 0px 4px rgba(0, 0, 0, 0.08)","none"],bg:"popupBg"}}),r)}))},XPyD:(e,t,r)=>{"use strict";r.d(t,{Z:()=>T});var o=r("D57K"),n=r("/SIk"),a=r.n(n),i=r("Enqy"),l=function(){if(Object.keys)return Object.keys;var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=r.length;return function(n){if("object"!==typeof n&&"function"!==typeof n||null===n)throw new TypeError("Object.keys called on non-object");var a=[];for(var i in n)e.call(n,i)&&a.push(i);if(t)for(var l=0;l<o;l++)e.call(n,r[l])&&a.push(r[l]);return a}}(),s=r("+DvX"),c=r("BY6O"),u=r("e5RN");const d=a().memo((function(e){var t=e.anchorOrigin,r=e.position,n=e.enablePortal,i=e.container,l=(0,o.__rest)(e,["anchorOrigin","position","enablePortal","container"]),s={position:r,zIndex:"notification"};return"top"===t.vertical?s.top=12:s.bottom=12,"left"===t.horizontal?s.left=12:"center"===t.horizontal?(s.left="50%",s.transform="translateX(-50%)"):s.right=12,n||i?a().createElement(c.ZP,{container:i},a().createElement(u.Z,(0,o.__assign)({flexDirection:"top"===t.vertical?"column-reverse":"column"},l,{__css:s}))):a().createElement(u.Z,(0,o.__assign)({flexDirection:"top"===t.vertical?"column-reverse":"column"},l,{__css:s}))}));var p=r("XhNN"),m=r("OV9X"),y=r("J37u"),g=r("aZzm"),f=r("+o9S"),h=r("peb7"),b=r("RdyI");const x=function(e){return a().createElement(b.Z,(0,o.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor"},e),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4.791a.723.723 0 00.716-.729V2.729c0-.402-.32-.729-.716-.729a.723.723 0 00-.716.73v1.332c0 .402.32.73.716.73zM6.884 6.51a.713.713 0 01-.716.72.733.733 0 01-.508-.2l-.936-.94a.713.713 0 01-.212-.515c0-.197.076-.385.212-.515a.734.734 0 011.016 0l.932.934c.136.13.212.319.212.516zm4.436 14.032h1.336c.396 0 .716.326.716.729 0 .402-.32.729-.716.729h-1.332a.723.723 0 01-.716-.73c0-.38.32-.707.712-.729zM2.716 10.268h1.332c.388 0 .716.335.716.73 0 .401-.32.728-.716.728H2.716A.723.723 0 012 10.998c0-.394.328-.73.716-.73zm16.776-4.694a.696.696 0 00-.212-.511.701.701 0 00-1.02 0l-.932.934a.713.713 0 00-.212.516c0 .197.076.386.212.515.14.135.324.202.508.202a.719.719 0 00.508-.206l.932-.934a.73.73 0 00.216-.516zm.46 4.694h1.332c.388 0 .716.335.716.73 0 .401-.32.728-.716.728h-1.332a.723.723 0 01-.716-.729c0-.402.32-.73.716-.73zm-5.964 8.294h-3.976a.723.723 0 00-.716.73c0 .402.32.729.716.729h3.976a.723.723 0 00.716-.73c0-.402-.32-.729-.716-.729zM12 5.981c1.612 0 3.124.625 4.26 1.76A5.984 5.984 0 0118.024 12c0 1.61-.628 3.122-1.764 4.258a5.982 5.982 0 01-4.26 1.76 5.982 5.982 0 01-4.26-1.76A5.984 5.984 0 015.976 12c0-1.61.628-3.123 1.764-4.258A5.982 5.982 0 0112 5.982z",fill:"currentColor"}))};var v=r("KM4q"),k={info:y.Z,error:g.Z,warning:f.Z,success:h.Z,tips:x},O=(0,n.forwardRef)((function(e,t){var r=e.message,i=e.header,l=e.footer,s=e.icon,c=e.variant,d=void 0===c?"tips":c,y=e.closable,g=void 0!==y&&y,f=e.showIcon,h=void 0===f||f,b=e.onClose,x=(0,o.__rest)(e,["message","header","footer","icon","variant","closable","showIcon","onClose"]),O=k[d],Z="toast."+d,C=(0,n.isValidElement)(s)?a().cloneElement(s,(0,o.__assign)({size:20,display:"block"},s.props),[]):O?a().createElement(O,{size:20,display:"block"}):null;return a().createElement(u.Z,(0,o.__assign)({ref:t,tx:"toast",variant:d},x),a().createElement(u.Z,{alignItems:"flex-start",__css:{width:"100%"}},h?a().createElement(p.Z,{color:Z,__css:{mr:"ls",pt:"2px",flexShrink:0}},C):null,a().createElement(u.Z,{className:"bn-notification-body-wrapper",__css:{maxHeight:"146px",flexDirection:"column",width:"100%"}},i?a().createElement(m.Z,{sx:{color:"t.primary",mb:"2px",flexShrink:0},variant:"subtitle1"},i):null,r?a().createElement(m.Z,{className:"bn-notification-msg-wrapper",variant:"body2",sx:{color:"t.secondary",overflow:"auto",maxHeight:120}},r):null,l?a().createElement(m.Z,{variant:"label5",sx:{color:"toast.content",flexShrink:0}},l):null)),g?a().createElement(p.Z,{p:"minor",__css:{alignItems:"flex-start",flexShrink:0,ml:"8px"}},a().createElement(v.Z,{size:16,onClick:b,display:"block",cursor:"pointer",color:"toast.closeColor"})):null)}));O.displayName="Toast";const Z=O,C=function(e){var t=e.onClose,r=e.item,n=e.style,i=r.autoHideDuration,l=r.open,s=r.key,c=r.onClose,u=(0,o.__rest)(r,["autoHideDuration","open","key","onClose"]),d=a().useRef(),p=a().useCallback((function(e,r){c&&c(e,r,s),t(e,r,s)}),[s]),m=a().useCallback((function(){i&&(clearTimeout(d.current),d.current=setTimeout((function(){i&&p(null,"timeout")}),i))}),[i,p]);return a().useEffect((function(){return l&&m(),function(){clearTimeout(d.current)}}),[l,m]),l?a().createElement(Z,(0,o.__assign)({mb:"xs",onClose:p},u,{style:n})):null};var S={vertical:"top",horizontal:"center"},P=function(e,t){var r;return"object"!==typeof t[0]||n.isValidElement(t[0])?(r=t[1]||e).message=r.message||t[0]:r=t[0]||e,r};const T=function(e){var t=e.anchorOrigin,r=void 0===t?S:t,a=e.autoHideDuration,c=void 0===a?5e3:a,u=e.closable,p=void 0!==u&&u,m=e.disableAnimate,y=void 0!==m&&m,g=e.position,f=void 0===g?"fixed":g,h=e.children,b=e.queueSize,x=void 0===b?10:b,v=e.container,k=e.enablePortal,O=n.useState(k),Z=O[0],T=O[1],w=n.useMemo((function(){return[]}),[]),_=n.useState([]),V=_[0],E=_[1],I=n.useCallback((function(t,r,o){e.onClose&&e.onClose(t,r,o),E(void 0!==o&&null!==o?function(e){return e.filter((function(e){return e.key!==o.toString()}))}:[])}),[e]),M=n.useCallback((function(){E((function(t){var r=t.length-x+1;if(r>=1){for(var n=t.splice(0,r),a=0;a<n.length;++a){var i=n[a];i&&(i.onClose&&i.onClose(null,"max",i.key),e.onClose&&e.onClose(null,"max",i.key))}var l=w.splice(0,Math.min(r-1,w.length));if(l.length>0)return(0,o.__spreadArray)((0,o.__spreadArray)([],t),l)}return(0,o.__spreadArray)([],t)}))}),[e,w,x]),A=n.useCallback((function(){w.length>0&&E((function(e){var t=w.shift();return t?(0,o.__spreadArray)((0,o.__spreadArray)([],e),[t]):e}))}),[w]),N=n.useCallback((function(){return M(),A()}),[M,A]),R=V.reduce((function(e,t){var n,a,i=(a=t.anchorOrigin||r).vertical+"-"+a.horizontal,l=e[i]||[];return(0,o.__assign)((0,o.__assign)({},e),((n={})[i]=(0,o.__spreadArray)((0,o.__spreadArray)([],l),[t]),n))}),{}),L=n.useMemo((function(){return{enqueueNotification:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(void 0!==e[0]||void 0!==e[1]){var n=P({anchorOrigin:r,autoHideDuration:c,closable:p,enablePortal:k},e);n.enablePortal&&T(n.enablePortal);var a=n.key,i=n.anchorOrigin,l=void 0===i?r:i,s=n.autoHideDuration,u=void 0===s?c:s,d=n.closable,m=void 0===d?p:d,y=n.persist,g=n.message,f=(0,o.__rest)(n,["key","anchorOrigin","autoHideDuration","closable","persist","message"]),h=a&&a.toString()||(new Date).getTime().toString()+Math.random().toString(),b=(0,o.__assign)((0,o.__assign)({key:h},f),{persist:Boolean(y),autoHideDuration:y?0:u,closable:m,open:!0,message:g,anchorOrigin:l});return w.push(b),N(),h}},closeNotification:function(e){I(null,null,e)}}}),[w,r,c,p,k,I,N]);return n.createElement(s.Z.Provider,{value:L},h,function(e){if(Object.entries)return Object.entries(e);for(var t=l(e),r=t.length,o=new Array(r);r--;)o[r]=[t[r],e[t[r]]];return o}(R).map((function(e){var t=e[0],r=e[1],o=r[0].anchorOrigin,a="top"===o.vertical?-1:1;return y?n.createElement(d,{key:t,anchorOrigin:o,position:f,container:v,enablePortal:Z},V.map((function(e){return n.createElement(C,{key:e.key,item:e,onClose:I})}))):n.createElement(i.bg,{key:t,defaultStyles:V.map((function(e){return{key:e.key,data:e,style:{opacity:0,translateY:60*a}}})),styles:V.map((function(e){return{key:e.key,data:e,style:{translateY:(0,i.ST)(0,i.um.gentle),opacity:(0,i.ST)(1,i.um.gentle)}}})),willLeave:function(e){var t=e.key;return{translateY:(0,i.ST)(-60*a*(r[0].key===t?1:-1)),opacity:(0,i.ST)(0)}},willEnter:function(){return{translateY:60*a,opacity:1}}},(function(e){return n.createElement(d,{key:t,anchorOrigin:o,position:f,container:v,enablePortal:Z,style:{transform:"translate3d("+("center"===o.horizontal?"-50%":"0")+", "+e[e.length-1].style.translateY+"px, 0)"}},e.map((function(e){var t=e.key,r=e.style.opacity,o=e.data;return n.createElement(C,{key:t,item:o,onClose:I,style:{opacity:r}})})))}))})))}},rZ8U:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var o=r("/SIk");const n=(0,o.createContext)({symbol:"",changeSymbol:e=>{console.info(e)},useColumn:e=>({}),actionModifyOrder:e=>Promise.resolve(),actionCancel:(e,t)=>Promise.resolve(),actionModifyConfirmModal:(e,t,r)=>!1,actionStrategyModal:e=>!1,useStrategyOrder:(...e)=>({}),checked:!0,handleHideOtherPairs:e=>!0,emptyText:"You have no open orders.",headers:[]})},Xvf3:(e,t,r)=>{"use strict";r.d(t,{f8:()=>u,HU:()=>d,ZP:()=>m});var o=r("/SIk"),n=r.n(o),a=r("NJWl"),i=r("e5RN"),l=r("rZ8U"),s=r("+Nt9"),c=n().createElement;const u={bg:"modalBg",p:0,py:"4px",mt:"8px"},d={alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"12px",lineHeight:"16px",p:"minor",whiteSpace:"nowrap",height:"24px",minWidth:"96px",color:"t.primary",":hover":{bg:"line"}},p=()=>{const{getI18n:e}=(0,s.Z)(),{actionCancel:t}=(0,o.useContext)(l.Z);return c(a.Z,{sx:u},[{text:e("actionAll",{defaultValue:"All"}),message:e("actionAllMsg",{defaultValue:"Are you sure you want to cancel all?"})},{text:e("actionLimit",{defaultValue:"Limit"}),message:e("actionLimitMsg",{defaultValue:"Are you sure to cancel all Limit orders?"})},{text:e("actionStopLimit",{defaultValue:"Stop-Limit"}),message:e("actionStopLimitMsg",{defaultValue:"Are you sure to cancel all Stop-Limit orders?"})}].map(((e,r)=>c(i.Z,{key:r,sx:d,onClick:()=>{t(r,e.message)}},e.text))))},m=n().memo(p)},SKkT:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var o=r("5vwO"),n=r("/SIk"),a=r.n(n),i=r("xpv6"),l=r("FOuV"),s=r("Gbz3"),c=r("B+lg"),u=a().createElement;const d=({order:e,onClose:t})=>{const{symbol:r,side:a,positionSide:d,modifyParams:p={},onConfirm:m}=e,{positionMode:y=!1}=(0,s.F7)(),{getI18n:g}=(0,s.yk)(),[f,h]=(0,i.g)(l.Zv,l.Xd),{limitPrice:b,qty:x,amendedField:v}=p,k="BUY"===a?"buy":"sell",O=(({side:e,positionSide:t,getFutI18n:r,positionMode:o})=>{const n=r("buyLong",{defaultValue:"Buy/Long"}),a=r("sellShort",{defaultValue:"Sell/Short"}),i=r("OpenLong",{defaultValue:"Open Long"}),l=r("OpenShort",{defaultValue:"Open Short"}),s=r("CloseShort",{defaultValue:"Close Short"}),c=r("CloseLong",{defaultValue:"Close Long"});let u;return u=o?"BUY"===e?"SHORT"===t?s:i:"SHORT"===t?l:c:"BUY"===e?n:a,u})({side:a,positionSide:d,getFutI18n:g,positionMode:y}),Z=(0,n.useCallback)((()=>{const e=(0,o.Z)((0,o.Z)({},f),{},{needConfirm:!1});h(e)}),[h,f]);return u(c.Z,{symbol:r,title:O,color:k,amendedField:v,isMarket:!1,limitPrice:b,qty:x,isClose:!1,onClose:t,onConfirm:m,closeTip:Z})},p=a().memo(d)},"+Nt9":(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var o=r("U0yl");const n=e=>(0,o.Z)("trd-openOrder",e)},DHzs:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a});var o=r("/SIk"),n=r("Vg22");const a=()=>{const e=(0,n.useSelector)((e=>e.loading.effects.orders.queryOpenOrder)),t=(0,n.useSelector)((e=>e.orders.openOrder.apiError)),r=(0,n.useDispatch)(),a=(0,o.useCallback)((()=>{e||r.orders.queryOpenOrder()}),[e,r.orders]);return(0,o.useMemo)((()=>({loading:e,apiError:t,onRefresh:a})),[e,t,a])}},"7cvD":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Te});var o=r("5vwO"),n=r("/SIk"),a=r.n(n),i=r("Vg22"),l=r("TeQN"),s=r("XhNN"),c=r("e5RN"),u=r("X46w"),d=r("MwrP"),p=r.n(d),m=r("qNjr"),y=r("MvZp"),g=r("pVAJ"),f=r("lv1b"),h=r("6Afj"),b=r("Gbz3"),x=r("AHTf"),v=r("Qa1J"),k=r("Scox"),O=r("4xt1"),Z=r("tsUn"),C=r("XXmh"),S=r("EPGa"),P=r("FOuV"),T=r("H3aL"),w=r("GG68"),_=r("869M"),V=r("+Nt9"),E=r("Tfqf");const I=(0,x.nM)(),M=e=>I?(({symbol:e,insertTime:t,side:r,origType:o,type:n,price:a,origQty:i,executedQty:l,stopPrice:s,workingType:c,activatePrice:u,avgPrice:d,priceRate:p})=>{var m;const{getI18n:y}=(0,V.Z)(),{isCoinUnit:f}=(0,E.Q)(),{getI18n:h}=(0,_.yk)(),b=(0,g.iB)()[e]||{},{equalQtyPrecision:w,pricePrecision:I,quantityPrecision:M,marginAsset:A,contractVal:N=100}=b,{tickers:R={}}=(0,v.s)((0,x.l6)(!0))||{},{lastPrice:L}=R[e]||{},{getFormatSize:F}=(0,g.dd)(),{ts:z}=F(e),B=(0,k.i)({side:r,type:o}),D=Number(s)||Number(a),H=(0,O.uf)(D,z);let $=B&&D&&H?`${y(null===(m=P.HZ[c])||void 0===m?void 0:m.replace(/\s/g,"-"),{defaultValue:P.HZ[c]})} \r\n${[B,H].join(" ")}`:x.GR;Number(u)&&($=`${h("activationPrice",{defaultValue:"Activation Price"})} \r\n${["BUY"===r?"<=":">=",+u].join(" ")}`);const q=P.Y1.includes(n)?x.GR:(0,O.uf)(a,I),Y=h("Cont",{defaultValue:"Cont"}),K=P.cQ.includes(n)?s:n===S.Jm.TRAILING_STOP_MARKET?u||L:a;let Q,j=e;return b&&(Q=(0,Z.H)(b,h),j=Q.shortName),{nextDate:(0,C.v)(new Date(t),"yyyy-MM-dd hh:mm:ss"),nextPair:j,symbolName:Q,nextType:y(`type-${n}`,{defaultValue:n})||n,nextPrice:q,nextAmount:f?`${(0,T.unitChangeCoinQty)({quantity:i,contractVal:N,price:K,precision:w})} ${A}`:`${(0,O.uf)(i,M)} ${Y}`,nextFilled:f?`${(0,T.unitChangeCoinQty)({quantity:l,contractVal:N,price:d,precision:w})} ${A}`:`${(0,O.uf)(l,M)} ${Y}`,nextTriggerConditions:$}})(e):(({symbol:e,insertTime:t,side:r,origType:o,type:n,price:a,origQty:i,executedQty:l,stopPrice:s,workingType:c,activatePrice:u,avgPrice:d,priceRate:p})=>{var m;const{getI18n:y}=(0,V.Z)(),{getI18n:f}=(0,_.yk)(),h=(0,g.iB)()[e]||{},{getFormatedQuantity:b}=(0,w.s7)(h),{pricePrecision:T,quantityPrecision:E}=h,{tickers:I={}}=(0,v.s)((0,x.l6)(!0))||{},{lastPrice:M}=I[e]||{},{getFormatSize:A}=(0,g.dd)(),{ts:N}=A(e),R=(0,k.i)({side:r,type:o}),L=Number(s)||Number(a),F=(0,O.uf)(L,N);let z=R&&L&&F?`${y(null===(m=P.HZ[c])||void 0===m?void 0:m.replace(/\s/g,"-"),{defaultValue:P.HZ[c]})} \r\n${[R,F].join(" ")}`:x.GR;Number(u)&&(z=`${f("activationPrice",{defaultValue:"Activation Price"})} \r\n${["BUY"===r?"<=":">=",+u].join(" ")}`);const B=P.Y1.includes(n)?x.GR:(0,O.uf)(a,T),D=P.cQ.includes(o)?s:n===S.Jm.TRAILING_STOP_MARKET?u||M:a;let H,$=e;return h&&(H=(0,Z.H)(h,f),$=H.shortName),{nextDate:(0,C.v)(new Date(t),"yyyy-MM-dd hh:mm:ss"),nextPair:$,symbolName:H,nextType:y(`type-${n}`,{defaultValue:n})||n,nextPrice:B,nextAmount:b({quantity:i,price:D,qtyPrecision:E}),nextFilled:b({quantity:l,price:d,qtyPrecision:E}),nextTriggerConditions:z}})(e);var A=r("Uqe+"),N=r("Xvf3"),R=a().createElement;var L=r("Kwub"),F=r("R89y");const z=()=>{const[{loading:e},t]=(0,L.Z)((async(e={})=>(e=>"batch"in e?(0,F.O9)({type:e.type,symbol:e.symbol}):(0,F.Ce)(e))(e)),[]);return{loading:e,delOpenOrders:t}},B=()=>{const[{loading:e},t]=(0,L.Z)((async(e={})=>(e=>"batch"in e?(0,F.y)({type:e.type,symbol:e.symbol}):(0,F.r7)(e))(e)),[]);return{loading:e,delOpenOrders:t}},D=(0,x.nM)();const H=(0,x.nM)(),$=e=>H?function({symbol:e,side:t,quantity:r,type:o,price:n,stopPrice:a,avgPrice:i,closePosition:l}){const{getI18n:s}=(0,V.Z)(),{getI18n:c}=(0,_.yk)(),{isCoinUnit:u}=(0,E.Q)(),d=(0,g.iB)()[e]||{},{equalQtyPrecision:p,marginAsset:m,contractVal:y=100,quantityPrecision:f,close:h}=d,b=c("Cont",{defaultValue:"Cont"}),x=s("closePosition",{defaultValue:"Close Positioin"}),v=P.cQ.includes(o)?a:o===S.Jm.MARKET?i||h:n,k=u?`${(0,T.unitChangeCoinQty)({quantity:r,contractVal:y,price:v,precision:p})} ${m}`:`${(0,O.uf)(r,f)} ${b}`;return{amount:l?x:k,sideProps:"BUY"===t?{color:"buy",children:s("sideBuy",{defaultValue:"Buy"})}:{color:"sell",children:s("sideSell",{defaultValue:"Sell"})}}}(e):function({symbol:e,side:t,quantity:r,type:o,price:n,stopPrice:a,avgPrice:i,closePosition:l}){const{getI18n:s}=(0,V.Z)(),c=(0,g.iB)()[e]||{},{getFormatedQuantity:u}=(0,w.s7)(c),{quantityPrecision:d,close:p}=c,m=s("closePosition",{defaultValue:"Close Positioin"}),y=u({quantity:r,price:P.cQ.includes(o)?a:o===S.Jm.MARKET?i||p:n,qtyPrecision:d});return{amount:l?m:y,sideProps:"BUY"===t?{color:"buy",children:s("sideBuy",{defaultValue:"Buy"})}:{color:"sell",children:s("sideSell",{defaultValue:"Sell"})}}}(e);r("DHzs");var q=r("Wx6g"),Y=r("8RC1"),K=r("rZ8U"),Q=r("OV9X"),j=r("Rhv4"),U=r("Du7o"),G=r("Fidm"),X=r("fcuc"),J=r("zZ5f"),W=r("jQmP"),ee=a().createElement;const te=({mainOrder:e,subOrders:t})=>{const{isLight:r}=(0,g.Fg)(),o=2===(null===t||void 0===t?void 0:t.length);return ee(a().Fragment,null,e,ee("svg",{width:"100%",height:"100%",viewBox:"0 0 504 54",fill:"none",style:{margin:"0 auto -5px"},xmlns:"http://www.w3.org/2000/svg"},o?ee(a().Fragment,null,ee("path",{d:"M252 0 L252 27 L122 27 L122 54",style:{stroke:r?"#F5F5F5":"#474D57",strokeWidth:"3px"}}),ee("path",{d:"M252 27 L382 27 L382 54",style:{stroke:r?"#F5F5F5":"#474D57",strokeWidth:"3px"}})):ee("path",{d:"M252 0 L252 54",style:{stroke:r?"#F5F5F5":"#474D57",strokeWidth:"3px"}})),ee(c.Z,{justifyContent:o?"space-between":"center"},t))},re=({mainOrder:e,subOrders:t})=>{const r=2===t.length?380:190,{isLight:o}=(0,g.Fg)();return ee(a().Fragment,null,e,ee(c.Z,{justifyContent:"start"},ee("svg",{width:"30",height:"100%",fill:"none",viewBox:`0 0 30 ${r}`,xmlns:"http://www.w3.org/2000/svg"},2===(null===t||void 0===t?void 0:t.length)?ee(a().Fragment,null,ee("path",{d:`M15 0 L15 ${r/4} L30 ${r/4}`,style:{stroke:o?"#F5F5F5":"#474D57",strokeWidth:"4px"}}),ee("path",{d:`M15 ${r/4} L15 ${3*r/4} L30 ${3*r/4}`,style:{stroke:o?"#F5F5F5":"#474D57",strokeWidth:"4px"}})):ee("path",{d:`M15 0 L15 ${r/2} L30 ${r/2}`,style:{stroke:o?"#F5F5F5":"#474D57",strokeWidth:"4px"}})),ee(s.Z,{sx:{width:"calc(100% - 30px)"}},t)))},oe=e=>ee(q.Z,null,(({isMobile:t})=>ee(t?re:te,e)));var ne=r("O94r"),ae=r.n(ne),ie=r("Bb2c"),le=r("kjyE"),se=r("7Q68"),ce=a().createElement;const{LAST_PRICE:ue,MARK_PRICE:de}=P.gu,pe=e=>{var t;return null===e||void 0===e||null===(t=e.toLowerCase())||void 0===t?void 0:t.replace(/_/g,"-")},me=[S.Jm.LIMIT,S.Jm.STOP_LIMIT,S.Jm.TAKE_PROFIT_LIMIT],ye={mx:"auto",display:"flex",flexDirection:"column",alignItems:"center",".description":{color:"t.primary",mb:"10px",display:"inline-block"},".card":{width:["100%","284px"],borderRadius:"2px",border:"1px solid",borderColor:"lines.border",fontSize:"14px",lineHeight:"16px","&.orderA":{".orderType":{mt:"0px",mb:"0px",".type":{color:"t.third"}}},"&.orderB":{mr:"auto",ml:"0px","&.only":{ml:"auto"}},"&.orderC":{mr:"0px",ml:"auto"}},".title":{px:"16px",py:"8px",backgroundColor:"dialog.panelBg",color:"primary"},".content":{px:"16px",paddingTop:"8px",paddingBottom:"16px"},".row":{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center",marginTop:"xs","&.editable":{marginTop:"4px"}},".orderType":{mt:"sm",mb:"sm",lineHeight:"19px",".type":{color:"t.primary"},".status":{color:"t.third"}}},ge=({order:e={},subOrderLength:t})=>{const{getI18n:r}=(0,V.Z)(),{getI18n:o}=(0,b.yk)(),{type:a,status:i,price:l,reduceOnly:c}=e,{useStrategyOrder:u}=(0,n.useContext)(K.Z),{amount:d,sideProps:p}=u(e);return ce(s.Z,{sx:ye},ce("div",{className:"description"},1===t?r("orderA-OTO-description",{defaultValue:"If order A executes, orders B will be placed."}):r("orderA-OTOCO-description",{defaultValue:"If order A executes, orders B and C will be placed."})),ce("div",{className:"card orderA"},ce("div",{className:"title"},r("orderA",{defaultValue:"Order A"})),ce("div",{className:"content"},ce("div",{className:"row orderType"},ce(Q.Z,{color:"t.third",className:"type"},r(`type-${a}`,{defaultValue:a})),ce(Q.Z,{fontSize:0,color:"t.third",className:"status"},r(`status-${pe(i)}`,{defaultValue:i}))),ce("div",{className:"row"},ce(Q.Z,{color:"t.third"},r("side",{defaultValue:"Side"})),ce(Q.Z,p)),ce("div",{className:"row"},ce(Q.Z,{color:"t.third"},r("amount",{defaultValue:"Amount"})),ce(Q.Z,{color:"t.primary"},d)),me.includes(a)&&ce("div",{className:"row"},ce(Q.Z,{color:"t.third"},r("price",{defaultValue:"Price"})),ce(Q.Z,{color:"t.primary"},l)),ce("div",{className:"row"},ce(Q.Z,{color:"t.third"},r("reduceOnly",{defaultValue:"Reduce Only"})),ce(Q.Z,{color:"t.primary"},o(c?"openOrder-true":"openOrder-false",{defaultValue:c?"True":"False"}))))))},fe=({step:e,tickSizePrecision:t,order:r,changeOrder:a,index:i,subOrderLength:l})=>{const{getI18n:c}=(0,V.Z)(),{getI18n:u}=(0,b.yk)(),{type:d,status:p,stopPrice:m,workingType:y,price:g,reduceOnly:f}=r||{},{useStrategyOrder:h}=(0,n.useContext)(K.Z),{amount:x,sideProps:v}=h(r),k=c("Last-Price",{defaultValue:"Last Price"}),O=c("Mark-Price",{defaultValue:"Mark Price"}),Z="PENDING"===p,C={[ue]:k,[de]:O},S=(0,n.useCallback)((e=>{(0,le._p)(e,(e=>a((0,o.Z)((0,o.Z)({},r),{},{stopPrice:e}),i)),"",t)}),[a,r,t,i]),P=(0,n.useCallback)((e=>a((0,o.Z)((0,o.Z)({},r),{},{workingType:e}),i)),[a,r,i]);return ce(s.Z,{sx:ye},0===i&&ce("div",{className:"description"},2===l?c("orderB-OTOCO-description",{defaultValue:"If order B executes cancel order C."}):""),1===i&&ce("div",{className:"description"},2===l?c("orderC-OTOCO-description",{defaultValue:"If order C executes cancel order B."}):""),ce("div",{className:ae()({orderB:0===i,orderC:1===i,only:1===l,card:!0})},ce("div",{className:"title"},c(0===i?"orderB":"orderC",{defaultValue:0===i?"Order B":"Order C"})),ce("div",{className:"content"},ce("div",{className:"row orderType"},ce(Q.Z,{fontSize:2,color:"t.primary"},c(`type-${d}`,{defaultValue:d})),ce(Q.Z,{fontSize:0,color:"t.third"},c(`status-${pe(p)}`,{defaultValue:p}))),ce("div",{className:"row"},ce(Q.Z,{color:"t.third"},c("side",{defaultValue:"Side"})),ce(Q.Z,v)),ce("div",{className:"row"},ce(Q.Z,{color:"t.third"},c("amount",{defaultValue:"Amount"})),ce(Q.Z,{color:"t.primary"},x)),me.includes(d)&&ce("div",{className:"row"},ce(Q.Z,{color:"t.third"},c("price",{defaultValue:"Price"})),ce(Q.Z,{color:"t.primary"},g)),ce("div",{className:"row "+(Z?"editable":"")},ce(Q.Z,{color:"t.third"},c("triggerPrice",{defaultValue:"Trigger Price"})),Z?ce(ie.Z,{type:"number",variant:"outline",step:e,value:m,onChange:S,boxProps:{sx:{height:"24px",lineHeight:1,mt:0,pl:[0,"minor"],fontSize:"12px",border:"none",backgroundColor:"dialog.panelBg"}},sx:{textAlign:"right"}}):ce(Q.Z,{color:"t.primary"},m)),ce("div",{className:"row "+(Z?"editable":"")},ce(Q.Z,{color:"t.third"},c("trigger",{defaultValue:"Trigger"})),Z?ce(se.Z,{sx:{height:"16px",minHeight:"16px",py:"3px",border:"none",color:"t.primary",svg:{height:"16px",right:"-6px",marginTop:"4px"}},workingType:y,changeWorkingType:P}):ce(Q.Z,{color:"t.primary"},C[y])),ce("div",{className:"row"},ce(Q.Z,{color:"t.third"},c("reduceOnly",{defaultValue:"Reduce Only"})),ce(Q.Z,{color:"t.primary"}," ",u(f?"openOrder-true":"openOrder-false",{defaultValue:f?"True":"False"}))))))};var he=a().createElement;const be=e=>{const{getI18n:t,i18n:{language:r}}=(0,V.Z)(),{isMobile:a,visible:i,order:l={},onClose:d}=e,m=(0,g.iB)()[l.symbol]||{},y=(0,W.p)(m.tickSize),f=m.tickSize,h=!p()(l)&&i,{0:b,1:x}=(0,n.useState)(!1),{0:v,1:k}=(0,n.useState)({}),{0:O,1:Z}=(0,n.useState)({}),{0:C,1:P}=(0,n.useState)([]),T=(0,n.useCallback)(((e,t)=>{const r=C.map(((r,o)=>o===t?e:r));P(r)}),[C]),w=(0,n.useCallback)((async()=>{const{strategyId:e,strategyType:t}=l;x(!0);const r=await(0,G.Su)({strategyId:e,strategyType:t});x(!1);const{success:o,data:n}=r;o&&n&&(k(n),Z(n.subOrders[0]),"OTOCO"===n.strategyType?P(n.subOrders.slice(1,3)):P(n.subOrders.slice(1,2)))}),[l]);(0,n.useEffect)((()=>{h?w():(k({}),Z({}),P([]))}),[w,h]);const{setMessageInfo:_}=(0,g.YT)(),E=(0,n.useCallback)((async e=>{e.type!==S.Jm.STOP_MARKET&&e.type!==S.Jm.TAKE_PROFIT_MARKET||delete e.price,delete e.status;const{success:o,message:n}=await(0,G.ZX)(e,{language:r});o&&_({message:t("update-strategy-suc"),variant:"success"})}),[t,r,_]),I=(0,n.useCallback)((()=>{const{strategyType:e}=v,t=[];C.forEach(((r,n)=>{(function(e,t){return Number(t.stopPrice)!==Number(e.stopPrice)||t.workingType!==e.workingType})(r,v.subOrders[n+1])&&t.push(E((0,o.Z)((0,o.Z)({},r),{},{strategyType:e})))})),Promise.all(t).finally(d)}),[d,v,C,E]);return he(j.Z,{open:h,onCloseIconClick:d,sx:{width:["100%","640px"],height:["100%","auto"]},contentSx:{height:["100%","auto"],p:0}},he(s.Z,{as:"h3",__css:{borderBottom:["none","2px solid"],borderBottomColor:["transparent","primary"],px:"md",pt:["50px","sm"],pb:["6px","sm"],textAlign:["unset","center"],fontSize:["xp","md"],lineHeight:"20px",fontWeight:"medium"}},t("strategyOrder",{defaultValue:"Strategy Order"})),he(s.Z,{sx:{height:"calc(100% - 76px)",overflowY:"auto",p:"md"}},he(s.Z,{sx:{minHeight:"400px"}},he(J.Z,{inner:!0,show:b}),he(oe,{mainOrder:he(ge,{order:O,subOrderLength:C.length}),subOrders:C.map(((e,t)=>he(fe,{key:e.strategySubId,index:t,tickSizePrecision:y,step:Number(f),order:e,changeOrder:T,subOrderLength:C.length})))}),he(c.Z,{alignItems:"start",mt:"md",color:"t.third"},he(X.Z,{size:32,mr:"xs",height:"0.5em"}),he(Q.Z,{fontSize:"14px",lineHeight:"16px"},"OTOCO"===v.strategyType?t("strategyOrderTip"):t("strategyOrderTip2")))),a&&he(s.Z,{sx:{width:"100%",height:"64px"}}),he(U.y,{sx:{bg:"popupBg"}},he(c.Z,null,he(u.Z,{flex:"auto",variant:"outline",sx:{boxShadow:"outlineBtnShadow",color:"t.primary",mr:"md",height:"40px"},onClick:d},t("cancel",{defaultValue:"Cancel"})),he(u.Z,{flex:"auto",onClick:I,height:"40px"},t("confirm",{defaultValue:"Confirm"}))))))},xe=a().memo(be);var ve=r("SKkT"),ke=a().createElement;const Oe=(0,h.ck)("mobile",(()=>Promise.all([r.e(374),r.e(712),r.e(162)]).then(r.bind(r,"c/hh")))),Ze=(0,h.ck)("pc",(()=>Promise.all([r.e(374),r.e(712),r.e(773)]).then(r.bind(r,"60qa")))),Ce=(0,x.nM)(),Se=[null,"LIMIT","STOP"],Pe=()=>{const{isLight:e}=(0,g.Fg)(),[t,{onCheckHeader:r,onSortHeader:d}]=(()=>{const{getI18n:e}=(0,V.Z)(),{getI18n:t}=(0,b.yk)(),r=(0,b.C3)()===x.UW,[a,i]=(0,A.Z)(x.rR,["reduceOnly","postOnly","strategy"]),[l,s]=(0,A.Z)(x.sx,["time","symbol","type","side","price","amount","filled","reduceOnly","postOnly","conditions","strategy","action"]);return[(0,n.useMemo)((()=>{const n=[{key:"time",text:e("time",{defaultValue:"Time"}),checkable:!1,sortable:!0},{key:"symbol",text:e("symbol",{defaultValue:"Symbol"}),checkable:!1,sortable:!0},{key:"type",text:e("type",{defaultValue:"Type"}),checkable:!1,sortable:!0},{key:"side",text:e("side",{defaultValue:"Side"}),checkable:!1,sortable:!0},{key:"price",text:e("price",{defaultValue:"Price"}),checkable:!1,sortable:!0},{key:"amount",text:e("amount",{defaultValue:"Amount"}),checkable:!1,sortable:!0},{key:"filled",text:e("filled",{defaultValue:"Filled"}),checkable:!1,sortable:!0},{key:"reduceOnly",text:e("reduceOnly",{defaultValue:"Reduce Only"}),checkable:!0,sortable:!0},{key:"postOnly",text:t("orderType-postOnly",{defaultValue:"Post Only"}),checkable:!0,sortable:!0},{key:"conditions",text:e("triggerConditions",{defaultValue:"Trigger"}),checkable:!1,sortable:!0},{key:"strategy",text:e("strategy",{defaultValue:"Strategy"}),checkable:!0,sortable:!0},{key:"action",text:e("action",{defaultValue:"Cancel All"}),overlay:R(N.ZP,null),checkable:!1,sortable:!0}];if(r)return n.map((e=>(0,o.Z)((0,o.Z)({},e),{},{checkable:!1,sortable:!1,defaultChecked:!0})));const i=n.map((e=>(0,o.Z)((0,o.Z)({},e),{},{defaultChecked:!e.checkable||(null===a||void 0===a?void 0:a.includes(e.key))||!1})));return l&&i.sort(((e,t)=>l.indexOf(e.key)-l.indexOf(t.key))),i}),[e,t,r,a,l]),{onCheckHeader:i,onSortHeader:s}]})(),[h]=(0,g.z4)(),v=(0,i.useDispatch)(),{enqueueNotification:k}=(0,y.Z)(),{getI18n:O}=(0,b.yk)(),{getI18n:Z}=(0,V.Z)(),{0:C,1:S}=(0,n.useState)(""),{0:P,1:T}=(0,n.useState)({}),{preOrders:w}=(0,g.E)(),_=(0,i.useSelector)((e=>e.loading.effects.orders.queryOpenOrder));(0,n.useEffect)((()=>{v.orders.queryOpenOrder()}),[]);const{loading:E,delOpenOrders:I}=D?B():z(),{isOrderHideOtherPairs:L}=(0,g.VX)(),{0:F,1:H}=(0,n.useState)(L),Q=(0,n.useCallback)((e=>{H(e),v.userProfile.save({key:"isOrderHideOtherPairs",value:e})}),[v.userProfile]),j=(0,f.Nm)(w,F,h),U=(0,b.d0)(Ce),G=(0,n.useCallback)((async e=>{const t="number"===typeof e?{batch:!0,type:Se[e],symbol:F?h:null}:j.filter((t=>e(t)))[0];p()(t)||await I(t)}),[F,h,j,I]),X=(0,n.useCallback)((async(t,r)=>{r?Y.ZP.show({isLight:e,showCloseIcon:!1,sx:{width:["300px","360px"],height:"auto"},children:ke(s.Z,null,ke(s.Z,{px:1,pt:[0,"16px"],sx:{textAlign:"center"}},ke(l.Z,{size:[60,96]}),ke("div",null,r)),ke(c.Z,{mt:"24px"},ke(u.Z,{sx:{width:.5,mr:3},sz:"l",flexGrow:1,colorStyle:"secondary",onClick:()=>Y.ZP.close()},Z("dialog-cancel",{defaultValue:"Cancel"})),ke(u.Z,{sx:{width:.5},sz:"l",flexGrow:1,onClick:()=>{G(t),Y.ZP.close()}},Z("dialog-confirm",{defaultValue:"Confirm"}))))}):G(t)}),[G,Z,e]),J=(0,n.useCallback)((async e=>{const{success:t}=await(0,m.nC)(e,{});t&&k({header:O("amendmentOrderSubmitted",{defaultValue:"Amendment Order Submitted"})})}),[O,k]),W=!j.length&&_,ee=(0,n.useCallback)((()=>{S(""),T({})}),[S,T]),te=(0,n.useCallback)((e=>{S("STRATEGY_ORDER"),T(e)}),[S,T]),re=(0,n.useCallback)(((e,t,r)=>{S("MODIFY_ORDER"),T((0,o.Z)((0,o.Z)({},e),{},{modifyParams:t,onConfirm:r}))}),[S,T]),oe=Z("nodata",{defaultValue:"You have no open orders."}),ne=(0,n.useMemo)((()=>({symbol:h,emptyText:oe,actionCancel:X,actionModifyOrder:J,actionStrategyModal:te,actionModifyConfirmModal:re,changeSymbol:U,handleHideOtherPairs:Q,checked:F,useColumn:M,useStrategyOrder:$,headers:t})),[X,J,te,re,U,F,oe,Q,h,t]);return ke(K.Z.Provider,{value:ne},ke(q.Z,null,(({isMobile:e,isIPad:o})=>ke(a().Fragment,null,o?ke(Oe,{isMobile:e,items:j,girdLoading:W,outLoading:_||E}):ke(Ze,{headers:t,onCheckHeader:r,onSortHeader:d,items:j,loading:_||E}),"STRATEGY_ORDER"===C&&ke(xe,{isMobile:e,visible:!0,order:P,onClose:ee}),"MODIFY_ORDER"===C&&ke(ve.Z,{order:P,onClose:ee})))))},Te=a().memo(Pe)},Scox:(e,t,r)=>{"use strict";r.d(t,{i:()=>o});const o=({side:e,type:t})=>"BUY"===e&&"STOP"===t?">=":"SELL"===e&&"STOP"===t?"<=":"BUY"===e&&"STOP_MARKET"===t?">=":"SELL"===e&&"STOP_MARKET"===t||"BUY"===e&&"TAKE_PROFIT"===t?"<=":"SELL"===e&&"TAKE_PROFIT"===t?">=":"BUY"===e&&"TAKE_PROFIT_MARKET"===t?"<=":"SELL"===e&&"TAKE_PROFIT_MARKET"===t?">=":""}}]);