(self["webpackJsonp_trade-futures"]=self["webpackJsonp_trade-futures"]||[]).push([[398,282,465],{alyV:(e,t,a)=>{"use strict";a.d(t,{Yo:()=>n,XC:()=>s,H8:()=>l,QE:()=>c,YW:()=>u,rV:()=>d,K$:()=>m,_K:()=>v,Zc:()=>p,mk:()=>y,eq:()=>b});var r=a("D57K"),o=a("wZts"),i=a("ffDY"),n=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,o.U2)("/bapi/futures/v1/public/delivery/data/openInterestHist?"+(0,i.DT)(e))];case 1:return t=a.sent(),[3,3];case 2:return a.sent(),t=[],[3,3];case 3:return[2,t]}}))}))},s=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,o.U2)("/bapi/futures/v1/public/delivery/data/topLongShortAccountRatio?"+(0,i.DT)(e))];case 1:return t=a.sent(),[3,3];case 2:return a.sent(),t=[],[3,3];case 3:return[2,t]}}))}))},l=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,o.U2)("/bapi/futures/v1/public/delivery/data/topLongShortPositionRatio?"+(0,i.DT)(e))];case 1:return t=a.sent(),[3,3];case 2:return a.sent(),t=[],[3,3];case 3:return[2,t]}}))}))},c=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,o.U2)("/bapi/futures/v1/public/delivery/data/globalLongShortAccountRatio?"+(0,i.DT)(e))];case 1:return t=a.sent(),[3,3];case 2:return a.sent(),t=[],[3,3];case 3:return[2,t]}}))}))},u=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,o.U2)("/bapi/futures/v1/public/delivery/data/takerBuySellVol?"+(0,i.DT)(e))];case 1:return t=a.sent(),[3,3];case 2:return a.sent(),t=[],[3,3];case 3:return[2,t]}}))}))},d=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,o.U2)("/bapi/futures/v1/public/delivery/data/basis?"+(0,i.DT)(e))];case 1:return t=a.sent(),[3,3];case 2:return a.sent(),t=[],[3,3];case 3:return[2,t]}}))}))},m=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,o.U2)("/futures/data/openInterestHist?"+(0,i.DT)(e))];case 1:return t=a.sent(),[3,3];case 2:return a.sent(),t={success:!1},[3,3];case 3:return[2,t]}}))}))},v=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,o.U2)("/futures/data/globalLongShortAccountRatio?"+(0,i.DT)(e))];case 1:return t=a.sent(),[3,3];case 2:return a.sent(),t={success:!1},[3,3];case 3:return[2,t]}}))}))},p=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,o.U2)("/futures/data/topLongShortAccountRatio?"+(0,i.DT)(e))];case 1:return t=a.sent(),[3,3];case 2:return a.sent(),t={success:!1},[3,3];case 3:return[2,t]}}))}))},y=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,o.U2)("/futures/data/topLongShortPositionRatio?"+(0,i.DT)(e))];case 1:return t=a.sent(),[3,3];case 2:return a.sent(),t={success:!1},[3,3];case 3:return[2,t]}}))}))},b=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,o.U2)("/futures/data/takerlongshortRatio?"+(0,i.DT)(e))];case 1:return t=a.sent(),[3,3];case 2:return a.sent(),t={success:!1},[3,3];case 3:return[2,t]}}))}))}},fn8a:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>P});var r=a("/SIk"),o=a.n(r),i=a("GuU3"),n=a.n(i),s=a("/MJE"),l=a("0MIW"),c=a("d92h"),u=a("6u/I"),d=a("v5rq"),m=a("WBfh"),v=a("pVAJ"),p=a("I/SI"),y=a("RuXq"),b=a("5vwO"),h=a("t3Ex"),f=a("alyV"),g=a("kZs2");const S=["5m","15m","30m","1h","2h","4h","6h","12h","1d"],k=({symbol:{pair:e,contractType:t},period:a})=>({pair:e,period:a,contractType:t,limit:500}),T=(0,b.Z)((0,b.Z)({},(0,h.r)({availableIntervals:S,transform:e=>e.map((({timestamp:e,sumOpenInterest:t,sumOpenInterestValue:a})=>({time:e,sum:+t,sumValue:+a}))),makeRequest:e=>async()=>(0,f.Yo)(k(e))})),{},{defaultProps:{id:"@OI-CM",title:"O.I",isHistBase:!1,isScaleCenter:!0,isDiffSource:!0},getResult(e,t,a){a([{data:e.map((({time:e,sumValue:t})=>({time:e,value:t}))),chartType:"BAR",color:"@OI-CM.bar.color"}])},getLabel(e,t){const[{data:a}={}]=t;return[{key:"title",label:"Open Interest"},{key:"noi-text",label:"Notional Value of Open Interest"},{key:"noi-value",label:`${(0,g.XR)((0,h.W)(e,a),2)}`,styles:{color:"@OI-CM.bar.color"}}]},getMobileLabel:()=>[{key:"title",label:"Open Interest"}]}),w=(0,b.Z)((0,b.Z)({},(0,h.r)({availableIntervals:S,transform:e=>e.map((({timestamp:e,longAccount:t,shortAccount:a,longShortRatio:r})=>({time:e,long:+t,short:+a,longShortRatio:+r}))),makeRequest:e=>async()=>(0,f.XC)((0,b.Z)((0,b.Z)({},k(e)),{},{contractType:"ALL"}))})),{},{defaultProps:{id:"@LS-Acco",title:"L.S Acco.",isHistBase:!1,isScaleCenter:!0,isDiffSource:!0},getResult(e,t,a){const r=e.map((({time:e,longShortRatio:t})=>({time:e,value:t})));a([{data:e.map((({time:e,long:t})=>({time:e,value:t}))),chartType:"BAR",color:"candle.upBarColor",yAxisIndex:"bar",name:"bar",min:0,max:1,visible:!1},{data:e.map((({time:e,short:t})=>({time:e,value:t}))),chartType:"BAR",color:"candle.downBarColor",yAxisIndex:"bar",stack:"bar",min:0,max:1,visible:!1},{data:r,chartType:"LINE",color:"@LS-Acco.color",lineWidth:"@LS-Acco.lineWidth"},{data:r,chartType:"AREA",color:"LSratio.area"}])},getLabel(e,t){const[{data:a}={},{data:r}={},{data:o}={}]=t;return[{key:"title",label:"Long/Short Account Ratio"},{key:"ratio-value",label:`${(0,g.JX)((0,h.W)(e,o),2)}`,styles:{color:"@LS-Acco.color"}},{key:"long-text",label:"Long"},{key:"long-value",label:`${(0,g.JX)(100*(0,h.W)(e,a),2)}%`,styles:{color:"candle.upBarColor"}},{key:"short-text",label:"Short"},{key:"short-value",label:`${(0,g.JX)(100*(0,h.W)(e,r),2)}%`,styles:{color:"candle.downBarColor"}}]},getMobileLabel:()=>[{key:"title",label:"Long/Short Account Ratio"}]}),R=(0,b.Z)((0,b.Z)({},(0,h.r)({availableIntervals:S,transform:e=>e.map((({timestamp:e,longPosition:t,shortPosition:a,longShortRatio:r})=>({time:e,long:+t,short:+a,longShortRatio:+r}))),makeRequest:e=>async()=>(0,f.H8)((0,b.Z)((0,b.Z)({},k(e)),{},{contractType:"ALL"}))})),{},{defaultProps:{id:"@LS-Posit",title:"L.S Posit.",isHistBase:!1,isScaleCenter:!0,isDiffSource:!0},getResult(e,t,a){const r=e.map((({time:e,longShortRatio:t})=>({time:e,value:t})));a([{data:e.map((({time:e,long:t},a)=>({time:e,value:t}))),chartType:"BAR",color:"candle.upBarColor",yAxisIndex:"bar",name:"bar",min:0,max:1,visible:!1},{data:e.map((({time:e,short:t})=>({time:e,value:t}))),chartType:"BAR",color:"candle.downBarColor",yAxisIndex:"bar",stack:"bar",min:0,max:1,visible:!1},{data:r,chartType:"LINE",color:"@LS-Posit.color",lineWidth:"@LS-Posit.lineWidth"},{data:r,chartType:"AREA",color:"LSratio.area"}])},getLabel(e,t){const[{data:a}={},{data:r}={},{data:o}={}]=t;return[{key:"title",label:"Long/Short Position Ratio"},{key:"ratio-value",label:`${(0,g.JX)((0,h.W)(e,o),2)}`,styles:{color:"@LS-Posit.color"}},{key:"long-text",label:"Long"},{key:"long-value",label:`${(0,g.JX)(100*(0,h.W)(e,a),2)}%`,styles:{color:"candle.upBarColor"}},{key:"short-text",label:"Short"},{key:"short-value",label:`${(0,g.JX)(100*(0,h.W)(e,r),2)}%`,styles:{color:"candle.downBarColor"}}]},getMobileLabel:()=>[{key:"title",label:"Long/Short Position Ratio"}]}),Z=(0,b.Z)((0,b.Z)({},(0,h.r)({availableIntervals:S,transform:e=>e.map((({timestamp:e,longAccount:t,shortAccount:a,longShortRatio:r})=>({time:e,long:+t,short:+a,longShortRatio:+r}))),makeRequest:e=>async()=>(0,f.QE)((0,b.Z)((0,b.Z)({},k(e)),{},{contractType:"ALL"}))})),{},{defaultProps:{id:"@LS-Ratio",title:"L.S Ratio",isHistBase:!1,isScaleCenter:!0,isDiffSource:!0},getResult(e,t,a){const r=e.map((({time:e,longShortRatio:t})=>({time:e,value:t})));a([{data:e.map((({time:e,long:t},a)=>({time:e,value:t}))),chartType:"BAR",color:"candle.upBarColor",yAxisIndex:"bar",name:"bar",min:0,max:1,visible:!1},{data:e.map((({time:e,short:t})=>({time:e,value:t}))),chartType:"BAR",color:"candle.downBarColor",yAxisIndex:"bar",stack:"bar",min:0,max:1,visible:!1},{data:r,chartType:"LINE",color:"@LS-Ratio.color",lineWidth:"@LS-Ratio.lineWidth"},{data:r,chartType:"AREA",color:"LSratio.area"}])},getLabel(e,t){const[{data:a}={},{data:r}={},{data:o}={}]=t;return[{key:"title",label:"Long/Short Ratio"},{key:"ratio-value",label:`${(0,g.JX)((0,h.W)(e,o),2)}`,styles:{color:"@LS-Ratio.color"}},{key:"long-text",label:"Long"},{key:"long-value",label:`${(0,g.JX)(100*(0,h.W)(e,a),2)}%`,styles:{color:"candle.upBarColor"}},{key:"short-text",label:"Short"},{key:"short-value",label:`${(0,g.JX)(100*(0,h.W)(e,r),2)}%`,styles:{color:"candle.downBarColor"}}]},getMobileLabel:()=>[{key:"title",label:"Long/Short Ratio"}]}),I=(0,b.Z)((0,b.Z)({},(0,h.r)({availableIntervals:S,transform:e=>e.map((({timestamp:e,takerBuyVol:t,takerBuyVolValue:a,takerSellVol:r,takerSellVolValue:o})=>({time:e,buy:+t,buyValue:+a,sell:+r,sellValue:+o}))),makeRequest:e=>async()=>(0,f.YW)(k(e))})),{},{defaultProps:{id:"@BSVol",title:"B.S Vol.",isHistBase:!1,isScaleCenter:!0,isDiffSource:!0,barWeight:.5},getResult(e,t,a){a([{data:e.map((({time:e,buyValue:t})=>({time:e,value:t}))),chartType:"BAR",color:"BS.buy"},{data:e.map((({time:e,sellValue:t})=>({time:e,value:t}))),chartType:"BAR",color:"BS.sell",yAxisIndex:"bar"}])},getLabel(e,t){const[{data:a}={},{data:r}={}]=t;return[{key:"title",label:"Taker Buy/Sell Volume"},{key:"buy-text",label:"Buy"},{key:"buy-value",label:`${(0,g.XR)((0,h.W)(e,a),2)}`,styles:{color:"candle.upBarColor"}},{key:"sell-text",label:"Sell"},{key:"sell-value",label:`${(0,g.XR)((0,h.W)(e,r),2)}`,styles:{color:"candle.downBarColor"}}]},getMobileLabel:()=>[{key:"title",label:"Taker Buy/Sell Volume"}]}),L=["1m","3m","8h","3d","1w","1M",...S],B=(0,b.Z)((0,b.Z)({},(0,h.r)({availableIntervals:L,transform:e=>e.map((({timestamp:e,indexPrice:t,basisRate:a,futuresPrice:r,basis:o})=>({time:e,indexPrice:+t,basisRate:+a,futuresPrice:+r,basis:+o}))),makeRequest:e=>async()=>(0,f.rV)(k(e))})),{},{defaultProps:{id:"@Basis",title:"Basis",isHistBase:!1,isScaleCenter:!0,isDiffSource:!0},getResult(e,t,a){a([{data:e.map((({time:e,basis:t})=>({time:e,value:t}))),chartType:"AREA",color:"basis.area"},{data:e.map((({time:e,basisRate:t})=>({time:e,value:t}))),chartType:"LINE",color:"@Basis.basisColor",visible:!1},{data:e.map((({time:e,futuresPrice:t})=>({time:e,value:t}))),chartType:"LINE",color:"@Basis.futurePriceColor",yAxisIndex:"line"},{data:e.map((({time:e,indexPrice:t})=>({time:e,value:t}))),chartType:"LINE",color:"@Basis.priceIndexColor",yAxisIndex:"line"}])},getLabel(e,t){const[{data:a}={},{data:r}={},{data:o}={},{data:i}={}]=t;return[{key:"title",label:"Basis"},{key:"basis-value",label:`${(0,g.XR)((0,h.W)(e,a),2)}`,styles:{color:"candle.upBarColor"}},{key:"basisRate-text",label:"Basis Rate"},{key:"basisRate-value",label:`${(0,g.JX)(100*(0,h.W)(e,r),2)}%`,styles:{color:"@Basis.basisColor"}},{key:"futuresPrice-text",label:"Futures Price"},{key:"futuresPrice-value",label:`${(0,g.XR)((0,h.W)(e,o),2)}`,styles:{color:"@Basis.futurePriceColor"}},{key:"priceIndex-text",label:"Price Index"},{key:"priceIndex-value",label:`${(0,g.XR)((0,h.W)(e,i),2)}`,styles:{color:"@Basis.priceIndexColor"}}]},getMobileLabel:()=>[{key:"title",label:"Basis"}]});var C=o().createElement;const D=[{name:T.defaultProps.id,indicator:T},{name:w.defaultProps.id,indicator:w},{name:R.defaultProps.id,indicator:R},{name:Z.defaultProps.id,indicator:Z},{name:I.defaultProps.id,indicator:I},{name:B.defaultProps.id,indicator:B}],{storage:A}=s.Z,P=({showTradingView:e,namespace:t,symbol:a,isContUnit:i,useMiniTicker:s,isShowDrawPanel:b,isShowAnnotationPanel:h,candleRef:f})=>{const g=(0,r.useMemo)((()=>n().createInstance({name:t})),[t]),{0:S,1:k}=(0,r.useState)(1),{0:T,1:w}=(0,r.useState)(1),{0:R,1:Z}=(0,r.useState)(!1),{0:I,1:L}=(0,r.useState)(!1),{0:B,1:P}=(0,r.useState)(0),{0:x,1:_}=(0,r.useState)(!1),V=(0,r.useRef)(!0),M=(0,r.useRef)(),E=(0,d.H9)(t)(m.Hs),W=(0,d.Qy)(t)(m.VW),[q]=(0,d.kH)(t)(m.J$),[,O]=(0,d.gq)(t)(m.gW),U=(0,v.Vh)()[a],{pair:$="",contractType:H="",isDelivery:X,contractVal:J}=U||{};(0,r.useEffect)((()=>{const e=()=>{P(Date.now()),w((e=>-1*e)),k((e=>-1*e))};return window.addEventListener("online",e),()=>{window.removeEventListener("online",e)}}),[]),(0,r.useEffect)((()=>{A.onStorageEvent((({key:e,newValue:t,oldValue:a})=>{"customIndicatorPassFilesTime"!==e&&"customIndicatorPassFiles"!==e||t===a||k((e=>-1*e))}))}),[]),(0,r.useEffect)((()=>(E===u.vm.tradingView&&V.current&&(V.current=!1),E===u.vm.tradingView?(L(!1),clearTimeout(M.current),M.current=window.setTimeout(Z,6e5,!0),x&&(P(Date.now()),_(!1))):E===u.vm.basic?(Z(!1),clearTimeout(M.current),M.current=window.setTimeout(L,6e5,!0),x&&(w((e=>-1*e)),_(!1))):E===u.vm.depth&&(clearTimeout(M.current),M.current=window.setTimeout((()=>{Z(!0),L(!0),_(!0)}),6e5)),()=>{clearTimeout(M.current)})),[E]);const F=(0,r.useMemo)((()=>(0,p.B)()),[B]),K=(0,r.useCallback)((()=>{setTimeout((()=>{var e;const t=null===f||void 0===f||null===(e=f.current)||void 0===e?void 0:e.getCandlestick(),a=null===t||void 0===t?void 0:t.getCurrentItemByTime(Date.now()),r=(null===t||void 0===t?void 0:t.getSeriesData())||[];O([a,r[r.length-2]])}),0)}),[O,f]),N=(0,r.useMemo)((()=>F({pair:$,contractType:H,symbol:a,interval:W,priceType:q,useMiniTicker:s,isDelivery:X,dataTransformer:i?(0,y.D)(J):(0,y.V)(J),onNewDataArrived:K})),[$,H,J,a,W,q,X,i,s,F,K]);(0,v.M9)(a,s,"CM"),(0,v.jT)({pair:$,symbol:a,contractType:H,interval:W,business:"CM",priceType:q}),(0,r.useEffect)((()=>{k((e=>-1*e)),E===u.vm.tradingView?w((e=>-1*e)):L(!0)}),[q]),(0,r.useEffect)((()=>{k((e=>-1*e)),w((e=>-1*e))}),[i]);const Y=(0,r.useMemo)((()=>({pair:$,contractType:H})),[$,H]);return a&&W&&H&&$?C(o().Fragment,null,R?null:C(c.Z,{key:`bk-${S}`,symbol:Y,storeSymbol:a,namespace:t,dataProvider:N,customIndicators:D,isShowDrawPanel:b,isShowAnnotationPanel:h,candleRef:f}),V.current&&E!==u.vm.tradingView||!e||I?null:C(l.Z,{key:`tv-${T}`,symbol:a,storage:g,namespace:t})):null}},U0mH:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var r=a("/SIk"),o=a.n(r),i=a("rI7q"),n=a("pVAJ"),s=a("6u/I"),l=a("HEA0"),c=a("Mnnb"),u=a("v5rq"),d=a("WBfh"),m=o().createElement;const v=e=>{const[t]=(0,u.PH)(s.A4)(d._9),{isMobile:a}=(0,n.Fs)();return a?m(c.Z,e):t===i.k.Dropdowns.MultiChartDropdownType.Four?m(l.e,{singleChartNamespace:e.namespace,multiChartNamespace:s.A4,onRemove:e.onRemove,isPro:e.isPro}):m(c.Z,e)}},Mnnb:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var r=a("/SIk"),o=a.n(r),i=a("nZi1"),n=a("fn8a"),s=o().createElement;const l=({symbol:e,useMiniTicker:t,showTradingView:a,namespace:o,height:l,tabKeys:c,onRemove:u,headerSlot:d,showFullscreenIcon:m,showMultiChartDropdown:v,isPro:p,isContUnit:y})=>{const b=(0,r.useRef)(null);return s(i.K,{namespace:o,height:l,tabKeys:c,onRemove:u,headerSlot:d,showMultiChartDropdown:v,showFullscreenIcon:m,isPro:p,symbol:e},s(n.default,{symbol:e,namespace:o,useMiniTicker:t,showTradingView:a,isContUnit:y,candleRef:b,isShowDrawPanel:!0,isShowAnnotationPanel:!0}))}},t3Ex:(e,t,a)=>{"use strict";a.d(t,{W:()=>l,r:()=>c});var r=a("5vwO"),o=a("HvGN"),i=a.n(o),n=a("kZs2");const s=({transform:e,request:t})=>a=>{(async()=>{try{a(e(await t()))}catch(r){Sentry.captureException(r)}})()},l=(e,t=[])=>{var a;return(null===(a=t.find((t=>(null===t||void 0===t?void 0:t.time)===e)))||void 0===a?void 0:a.value)||0},c=({availableIntervals:e,transform:t,makeRequest:a})=>{let o=[];return{paramMetas:[],getData:function(i,l){const c=(0,n.xR)(e,i.interval)||(0,n.uC)(e),u=a((0,r.Z)((0,r.Z)({},i),{},{period:c}));s({transform:t,request:u})((e=>{o=e,l({data:e})}))},subscribe:function(l,c){const u=(0,n.xR)(e,l.interval)||(0,n.uC)(e),d=(0,n.nJ)(l.interval),m=setInterval((()=>{const e=a((0,r.Z)((0,r.Z)({},l),{},{period:u}));s({transform:t,request:e})((e=>{const t=i()(e,o,((e,t)=>e.time===t.time));o.push(...t),t.forEach((e=>c(e)))}))}),d>=2147483647?2147483647:d);return()=>clearInterval(m)}}}},Sav6:(e,t,a)=>{"use strict";a.d(t,{b0:()=>n});var r=a("5vwO"),o=a("wZts"),i=a("ffDY");const n=({symbol:e,pair:t,contractType:a,interval:n,isDelivery:s,priceType:l})=>c=>s&&"last"===l?(e=>(0,o.U2)(`/dapi/v1/continuousKlines?${(0,i.DT)(e)}`))((0,r.Z)((0,r.Z)({},c),{},{pair:t,contractType:a,interval:n})):s&&"mark"===l?(e=>(0,o.U2)(`/dapi/v1/markPriceKlines?${(0,i.DT)(e)}`))((0,r.Z)((0,r.Z)({},c),{},{symbol:e,interval:n})):s&&"index"===l?(e=>(0,o.U2)(`/dapi/v1/indexPriceKlines?${(0,i.DT)(e)}`))((0,r.Z)((0,r.Z)({},c),{},{pair:t,interval:n})):"mark"===l?(e=>(0,o.U2)(`/fapi/v1/markPriceKlines?${(0,i.DT)(e)}`))((0,r.Z)((0,r.Z)({},c),{},{symbol:e,interval:n})):"index"===l?(e=>(0,o.U2)(`/fapi/v1/indexPriceKlines?${(0,i.DT)(e)}`))((0,r.Z)((0,r.Z)({},c),{},{pair:t,interval:n})):(e=>(0,o.U2)(`/fapi/v1/continuousKlines?${(0,i.DT)(e)}`))((0,r.Z)((0,r.Z)({},c),{},{pair:t,contractType:a,interval:n}))},"I/SI":(e,t,a)=>{"use strict";a.d(t,{B:()=>c});var r=a("5vwO"),o=a("m92i"),i=a("kZs2"),n=a("EHEI"),s=a("+WBH"),l=a("Sav6");const c=()=>{let e=0;return({symbol:t,pair:a,contractType:c,interval:u,priceType:d,useMiniTicker:m,isDelivery:v,onNewDataArrived:p=(()=>null),dataTransformer:y=(e=>e),disconnectCallback:b=(()=>null)})=>{e+=1;let h=0,f=null;const g={klineDataQueue:[]},S=(k=e,()=>k===e);var k;const T=(0,l.b0)({symbol:t,pair:a,contractType:c,interval:u,isDelivery:v,priceType:d});return{trackingData:g,getData:async({startTime:e=0,endTime:t=0},a=(()=>!1))=>{try{const i=(await(0,n.M)({onFetchKlineData:T,startTime:e,endTime:t})).map(y);(e=>{var t;const a=null===(t=e[e.length-1])||void 0===t?void 0:t.time;a&&a>h&&(h=a)})(i),g.klineDataQueue=i.slice(-100).map((e=>(0,r.Z)((0,r.Z)({},e),{},{id:(0,o.Z)()}))),a({data:i,isLoadAll:0===i.length})}catch(i){}},subscribe:(e,n)=>(f=(0,s.Ld)({symbol:t,pair:a,contractType:c,interval:u,priceType:d,isDelivery:v,useMiniTicker:m,checkIfInSync:S,callback:(e,t)=>{const a=(0,r.Z)((0,r.Z)({},t),{},{id:(0,o.Z)()});var s,l;s=g.klineDataQueue,l=a,s.push(l),s.length>100&&s.splice(0,1);const c=y(e),{time:d}=c;(e=>{if(0===h)return;const t=(0,i.nJ)(u);e-h>=2*t&&(null===b||void 0===b||b())})(d),d>h&&(h=d),n(c),p(c)}}),f),unsubscribe:()=>{var e;null===(e=f)||void 0===e||e(),f=null},getBarDatas:()=>null,subcribe:()=>null,unSubcribe:()=>null}}}},EHEI:(e,t,a)=>{"use strict";a.d(t,{M:()=>o});var r=a("5vwO");const o=async({onFetchKlineData:e,startTime:t,endTime:a,limit:o=1e3})=>{const i=[];let n=[],s=a;const l=0!==a;do{if(n=await e((0,r.Z)((0,r.Z)({},0===s?{}:{endTime:s}),{},{limit:o})),0===n.length)break;n.forEach((([e,t,a,r,o,n,,s])=>{i.push({time:+e,open:+t,high:+a,low:+r,close:+o,volume:+n,quantity:+s})})),s=n[0][0]-1}while(n.length===o&&s>t&&l);return i.sort(((e,t)=>e.time-t.time)),i}},RuXq:(e,t,a)=>{"use strict";a.d(t,{V:()=>o,D:()=>i});var r=a("5vwO");const o=e=>t=>(0,r.Z)((0,r.Z)({},t),{},{volume:t.quantity,quantity:t.volume*e}),i=e=>t=>(0,r.Z)((0,r.Z)({},t),{},{volume:t.volume,quantity:t.volume*e})},"+WBH":(e,t,a)=>{"use strict";a.d(t,{Ld:()=>l});var r=a("5vwO"),o=a("AHTf"),i=a("kZs2");const n=e=>e,s=e=>e,l=({symbol:e,pair:t,contractType:a,interval:l,priceType:c,isDelivery:u,useMiniTicker:d,callback:m,checkIfInSync:v=(()=>!0)})=>{const p=u?(0,o.RU)():(0,o.BN)(),y="mark"===c?e:t,b=p.getContinuousKlineStream(y,a,l,{priceType:c,symbol:e});b.selector=n;const h=d?p.getStreamTickers():p.getStreamTradeSnap(e);h.selector=d?(e=>t=>t[e])(e):s;const f=(0,i.yv)([b,h]);return f.subscribe((([e,t])=>{if(!t||!e||!v())return;const a=(0,r.Z)({},e);if("last"===c){const e=Array.isArray(t)?t.slice(-1).pop():t,n=(0,i.nJ)(l),s=+(e.price||e.lastPrice),c=+(e.quantity||e.quoteVolume),u=e.tradeTime||e.eventTime;try{if("1M"===l){const e=new Date(u),t=new Date(a.time).getMonth();if(e.getMonth()>t){const e=+new Date(a.time).setMonth(t+1);Object.assign(a,(0,r.Z)({time:e,open:s,high:s,low:s,close:s},d?{volume:0,quantity:0}:{volume:c,quantity:c}))}}else if(u-a.time>n){const e=a.time+Math.floor((u-a.time)/n)*n;Object.assign(a,(0,r.Z)({time:e,open:s,high:s,low:s,close:s},d?{volume:0,quantity:0}:{volume:c,quantity:c}))}}catch(o){console.error(o)}a.close=s}m(a,e)})),f}},SKkT:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var r=a("5vwO"),o=a("/SIk"),i=a.n(o),n=a("xpv6"),s=a("FOuV"),l=a("Gbz3"),c=a("B+lg"),u=i().createElement;const d=({order:e,onClose:t})=>{const{symbol:a,side:i,positionSide:d,modifyParams:m={},onConfirm:v}=e,{positionMode:p=!1}=(0,l.F7)(),{getI18n:y}=(0,l.yk)(),[b,h]=(0,n.g)(s.Zv,s.Xd),{limitPrice:f,qty:g,amendedField:S}=m,k="BUY"===i?"buy":"sell",T=(({side:e,positionSide:t,getFutI18n:a,positionMode:r})=>{const o=a("buyLong",{defaultValue:"Buy/Long"}),i=a("sellShort",{defaultValue:"Sell/Short"}),n=a("OpenLong",{defaultValue:"Open Long"}),s=a("OpenShort",{defaultValue:"Open Short"}),l=a("CloseShort",{defaultValue:"Close Short"}),c=a("CloseLong",{defaultValue:"Close Long"});let u;return u=r?"BUY"===e?"SHORT"===t?l:n:"SHORT"===t?s:c:"BUY"===e?o:i,u})({side:i,positionSide:d,getFutI18n:y,positionMode:p}),w=(0,o.useCallback)((()=>{const e=(0,r.Z)((0,r.Z)({},b),{},{needConfirm:!1});h(e)}),[h,b]);return u(c.Z,{symbol:a,title:T,color:k,amendedField:S,isMarket:!1,limitPrice:f,qty:g,isClose:!1,onClose:t,onConfirm:v,closeTip:w})},m=i().memo(d)},"Ozc/":(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});a("meeu"),a("wgY5"),a("AHTf"),a("Feu0");const r={init(){},log(e,t="inner"){},async report(){}}}}]);