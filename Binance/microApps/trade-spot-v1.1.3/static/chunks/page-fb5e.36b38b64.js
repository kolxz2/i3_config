(self["webpackJsonp_trade-spot"]=self["webpackJsonp_trade-spot"]||[]).push([[852],{tpzV:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r("D57K"),a=r("/SIk"),o=r.n(a),i=r("8SST"),u=function(e){return Array.isArray(e)?e.map(u):!!e&&"repeat(auto-fit, minmax("+(("number"===typeof(t=e)?t+"px":t)+", 1fr))");var t},l=function(e){return Array.isArray(e)?e.map(l):!!e&&"repeat("+e+", 1fr)"},s=(0,a.forwardRef)((function(e,t){var r=e.width,a=e.columns,s=e.gap,c=void 0===s?3:s,d=e.gridTemplateColumnsWidth,p=(0,n.__rest)(e,["width","columns","gap","gridTemplateColumnsWidth"]),f=d||(r?u(r):l(a));return o().createElement(i.Z,(0,n.__assign)({ref:t,tx:"layout",variant:"tiles"},p,{__css:{display:"grid",gridGap:c,gridTemplateColumns:f}}))}));s.displayName="Tiles";const c=s},"IX9/":(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r("D57K"),a=r("/SIk"),o=r.n(a),i=r("SH2D");const u=function(e){return o().createElement(i.Z,(0,n.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o().createElement("path",{d:"M5 18h14.5v2H3V5h2v5.6l3.7-3.7 4.6 4.5 5.5-5.5 1.4 1.4-7 6.9-4.5-4.5L5 13.4V18z",fill:"currentColor"}))}},J6nC:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r("D57K"),a=r("/SIk"),o=r.n(a),i=r("SH2D");const u=function(e){return o().createElement(i.Z,(0,n.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o().createElement("path",{d:"M15.11 5.63L6 6.89 15.11 4v1.63zM17.61 6.89v11.2h-1.25V8.33L6 6.89h11.61z",fill:"currentColor"}),o().createElement("path",{d:"M6 6.89v11.16l.1.01.07.01.17.03h-.27l9.04 2.86V9.77L6 6.89zm3.4 3.2l1.87.6v1.84l-1.87-.59v-1.85zm1.87 7.66l-1.87-.59.03-3.85 1.88.59-.04 3.85z",fill:"currentColor"}))}},SSyJ:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Bt});var n=r("ODTw"),a=r.n(n),o=r("d7QQ"),i=r("q7Ka"),u=r("/SIk"),l=r.n(u),s=r("RggP"),c=r("9q06"),d=r("Iw3s"),p=r("ImIg"),f=r("yJMB"),m=r("mg8H"),g=r("F/NM"),h=r("Fwk2"),x=l().createElement;const v=function(){var e=(0,u.useContext)(h.I).metaData,t=void 0===e?{}:e;return x(g.Fb,null,x("meta",{charSet:"utf-8"}),x("title",null,t&&t.title?t.title:""),x("meta",{name:"keywords",content:t.keywords}),x("meta",{name:"description",content:t.description}),x("meta",{property:"og:type",content:"website"}),x("meta",{property:"og:title",content:t.title}),x("meta",{property:"og:site_name",content:s.cg}),x("meta",{property:"og:image",content:s.Ez}),x("meta",{property:"twitter:title",content:t.title}),x("meta",{property:"twitter:site",content:s.cg}),x("meta",{property:"twitter:image",content:s.Ez}),x("meta",{property:"twitter:image:src",content:s.Ez}),x("meta",{property:"twitter:card",content:"summary_large_image"}),x("meta",{name:"apple-mobile-web-app-status-bar-style",content:"black"}),x("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),x("meta",{name:"format-detection",content:"telephone=no"}),x("meta",{name:"format-detection",content:"email=no"}),x("meta",{name:"viewport",content:"width=device-width,minimum-scale=1,maximum-scale=1.0,initial-scale=1,user-scalable=no,viewport-fit=true"}))};var b=r("yN48"),y=r("G++5"),k=r("7nDh"),w=r("B5d+"),Z=l().createElement,S=function(e){var t=e.children;(0,k.TF)(),(0,w.r5)(),(0,w.Vr)();var r=(0,p.useDispatch)();return(0,u.useEffect)((function(){r.userCenter.checkLogin()}),[r.userCenter]),Z(b.$D,null,t)},T=function(e){var t=e.render,r=(0,k.Fs)().isMobile,n=(0,p.useSelector)((function(e){return e.setting.layout})),a=n===s.rh||n===s.UW||r,o=(0,k.wh)(),i=(0,u.useContext)(h.I).i18nLoaded,c=t?t():null;return Z(l().Fragment,null,Z(v,null),Z(y.Z,null,Z(f.Z,{queueSize:2,closable:!0,autoHideDuration:1500,anchorOrigin:{vertical:a?"top":"bottom",horizontal:"right"},disableAnimate:!0},Z(S,null,!i&&Z(m.Z,{fixed:!0}),!o&&c))))};const E=(0,u.memo)(T);var A=r("vHOA"),C=r("AtVG"),L=r("n+Sc"),D=r("0m7K"),I=r("D6f2"),_=I.Z.onLogin,P=I.Z.onLogout,M=r("5vwO"),O=r("N8Nh"),R=I.Z.onUserSettingsChange,H=I.Z.getUserSettings,F=I.Z.constants,N=I.Z.onAppEvent,V=!1,W=r("l3yP"),z=r("BmbW"),B=r("LnXM"),X=r("A8bc"),G={i:"orderbook",x:12,y:0,w:4,h:45,minW:3,minH:14,setIndex:3,getTitle:function(e){return e("trd-layout-orderBookTle")}},K={i:"trades",x:12,y:45,w:4,h:45,minW:3,minH:6,setIndex:4,getTitle:function(e){return e("trd-layout-tradesTle")}},U={i:"userinfo",x:0,y:33,w:12,h:45,minW:11,minH:14,setIndex:5,getTitle:function(e){return"".concat(e("trd-layout-tabOpenOrder",{defaultValue:"Open Orders"})," ")}},Y={i:"chart",x:0,y:0,w:12,h:45,minW:5,minH:20,setIndex:2,getTitle:function(e){return e("trd-layout-chartTle")}},Q={i:"orderform",x:16,y:0,w:4,h:55,minW:4,minH:3,maxW:8,setIndex:7,getTitle:function(e){return"".concat(e("trd-layout-orderform"))}},j={i:"asset",x:20,y:55,w:4,h:35,minW:3,minH:3,setIndex:8,getTitle:function(e){return"".concat(e("trd-orderForm-assets"))}},J=[Y,G,K,U,Q,j],q=[{i:"market",x:0,y:0,w:4,h:45,minW:3,minH:14,setIndex:1,getTitle:function(e){return e("trd-layout-MarketTle")}},Y,U,G,K,Q,j],$=function(e){var t=e.find((function(e){return"chart"===e.i}));return t&&4===t.x&&t.y===Y.y&&8===t.w&&(t.x=0,t.w=12),e.filter((function(e){return"market"!==e.i}))},ee=r("8SST"),te=r("43Rv"),re=r("hULL"),ne=(r("nKma"),r("PLrP")),ae=r("SNB8"),oe=r("NHWx"),ie=l().createElement,ue=I.Z.onAppEvent,le=I.Z.constants;const se=function(e){var t=e.sx,r=e.callback,n=e.children,a=(0,u.useState)(!1),o=a[0],i=a[1],l=(0,u.useState)(!1),s=l[0],c=l[1];(0,u.useEffect)((function(){return ue(le.APPEVENT_ADD_TAB,(function(){i(!o),r&&r()}))}),[r,o]);return(0,oe.Z)({callback:function(){return i(!1)},id:"marketCard"}),o?ie(ae.Z,{sx:t,onMouseEnter:function(){c(!0)},onMouseLeave:function(){s&&i(!o)},id:"marketCard"},n):null};var ce=l().createElement,de=(0,ne.SA)((function(){return Promise.all([r.e(567),r.e(16),r.e(639),r.e(786),r.e(210),r.e(871),r.e(651),r.e(858),r.e(789)]).then(r.bind(r,"PQjq"))}),"csr");const pe=function(e){var t=e.changeLayout;return ce(se,{sx:{position:"fixed",top:"5px",left:"10px",bg:"commonDialog.deepBg",pl:0,pt:0,pr:0,pb:"xs",width:400,maxWidth:"calc(100vw - 32px)",height:[680,480],maxHeight:"100vh",zIndex:9999},callback:t},ce(de,{showCoinInfo:!1,noFiat:!0,noMargin:!s.Vz,electronUpdateTabs:!0}))};var fe=r("eXOl"),me=I.Z.onAppEvent,ge=I.Z.constants;const he=function(){var e=(0,p.useDispatch)(),t=(0,fe.AM)();(0,u.useEffect)((function(){return me(ge.APPEVENT_TRADE_CHNAGE_SYMBOL,(function(r){!function(r){e.pageStore.updateState({data:r}),e.products.updateState({currentProduct:t[r]||t[r.split("_").join("")]})}(r.symbol)}))}),[e.pageStore,e.products,t])};var xe=r("BXxt"),ve=r("sZfd"),be=r("fZgh"),ye=r("+oCo"),ke=r("WXpQ"),we=r("83wg"),Ze=r("92J2"),Se=r("NWSL"),Te=l().createElement,Ee=I.Z.registerActionHandle,Ae=I.Z.constants;const Ce=function(){var e=function(){var e=(0,k.z4)(),t=(0,o.Z)(e,1)[0],r=(0,xe.ZK)().getI18n,n=(0,k.uT)(),l=(0,o.Z)(n,1)[0],s=(0,we.aM)(l).preOrders,c=(0,Ze.H)(l).delOpenOrders,d=(0,ye.Nm)(s,!1,t),p=(0,k.YT)().setMessageInfo,f=(0,u.useRef)({}),m=(0,u.useCallback)(function(){var e=(0,i.Z)(a().mark((function e(t){var r,n,o,i,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],n=[],d.forEach((function(e){e&&t(e)&&(r.push(e.symbol),n.push(e.orderId))})),!r.length||!n.length){e.next=10;break}return e.next=6,c({symbols:r,orderIds:n});case 6:o=e.sent,i=o.success,u=o.message,i||p(new Error(u));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[d,c,p]),g=function(e){var t=e.message,r=e.onOk,n=e.okText,a=e.cancelText,o=(0,te.u_)({content:Te(be.Z,{message:t,onOk:function(){r(),o()},onCancel:function(){return o()},okText:Te(ve.Z,{"data-testid":"confirmButton"},n),cancelText:a}),sx:{bg:"commonDialog.bg",color:"t.primary"}}).close;f.current.close=o,f.current.confirm=function(){r(),o()}},h=(0,u.useCallback)(function(){var e=(0,i.Z)(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n?g({message:n,onOk:function(){return m(t)},cancelText:r("dialog-cancel",{defaultValue:"Cancel"}),okText:r("dialog-confirm",{defaultValue:"Confirm"})}):m(t);case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[m,r]);return Ee((function(e){var t,n,a,o,i,u,l,s;switch(e.name){case Ae.ACTION_TRADE_ORDER_CANCEL_LAST:var c=(d.length&&d[0]).orderId;h((function(e){var t=e.orderId;return c===t}));break;case Ae.ACTION_TRADE_ORDER_CANCEL_ALL:h((function(){return!0}),r("actionAllMsg",{defaultValue:"Are you sure you want to cancel all?"}));break;case Ae.COMMON_CANCEL:null===(t=f.current)||void 0===t||null===(n=t.close)||void 0===n||n.call(t),null===ke.r||void 0===ke.r||null===(a=ke.r.close)||void 0===a||a.call(ke.r),null===ke.X||void 0===ke.X||null===(o=ke.X.close)||void 0===o||o.call(ke.X);break;case Ae.COMMON_OK:null===(i=f.current)||void 0===i||null===(u=i.confirm)||void 0===u||u.call(i),null===ke.r||void 0===ke.r||null===(l=ke.r.confirm)||void 0===l||l.call(ke.r),null===ke.X||void 0===ke.X||null===(s=ke.X.confirm)||void 0===s||s.call(ke.X)}}))}(),t=function(){var e=s.x.LEVERAGED_TOKENS_URL,t=(0,k.rX)(),r=(0,p.useSelector)((function(e){return e.market.netValue})).leverageTokenName,n=void 0===r?"":r,a=(0,k.tZ)()||"",o=(0,k.Z4)().name,i="".concat(s.$g).concat((0,Se.CN)(e,{locale:a,name:n})),l="".concat((0,Se.Qj)(a),"/projects/").concat((0,Se.lV)(o)),c=(0,u.useMemo)((function(){return t?i:l}),[i,t,l]);return Ee((function(e){switch(e.name){case Ae.ACTION_TRADE_COIN_INFO:window.open(c,"_blank")}}))}();(0,u.useEffect)((function(){return function(){e(),t()}}),[e,t])};var Le=r("0+iz"),De=r("Zr/2"),Ie=r("QaB0"),_e=r("DLum"),Pe=r("X4cY"),Me=r("wKfk"),Oe=r("d2he"),Re=r("JwA9"),He=r("PqO2"),Fe=l().createElement,Ne=function(){return Fe(ee.Z,{sx:{height:"100%",width:"100%",bg:"componentBg",gridArea:"subHeader",fontSize:1,color:"t.primary",pt:"10px",pb:"10px"}},Fe(Le.Z,{sx:{position:"relative",px:3,height:"100%",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap"}},Fe(Ie.default,null,Fe(_e.Z,null)),Fe(He.Z,null)))},Ve=function(){return Fe(Re.Z,{sx:{gridArea:"tradenews"},name:"tradenews"},Fe(Oe.Z,null))},We=function(){return Fe(l().Fragment,null,Fe(Ve,null),Fe(Ne,null),Fe(Pe.Yi,{type:"basicScreen"}),Fe(Me.Y,null),Fe(Pe.sN,{showCoinInfo:!1,placement:"left",withVolume:!0,type:"basic"}),Fe(Pe.kv,{limit:20}),Fe(De.Z,null))};const ze=function(){return(0,p.useSelector)(W.makeFullscreen)?Fe(Pe.P_,{isTablet:!1}):Fe(l().Fragment,null,Fe(Pe.kc,{overlayDirection:"right"}),Fe(Pe.P_,{isTablet:!1}),Fe(We,null))};var Be=r("Ueig"),Xe=l().createElement,Ge=function(){return Xe(ee.Z,{sx:{width:"100%",bg:"componentBg",display:"flex",paddingLeft:"16px",height:"48px",alignItems:"center"}},Xe(Ie.default,null,Xe(Be.default,null)))},Ke=function(){return Xe(l().Fragment,null,Xe(ee.Z,{sx:{gridArea:"subHeader"}},Xe(Ge,null)),Xe(ee.Z,{sx:{gridArea:"trades"}},Xe(Pe.Eu,null)),Xe(Pe.Yi,{type:"fullScreen"}),Xe(Pe.mF,null))};const Ue=function(){return Xe(l().Fragment,null,Xe(Pe.kc,null),Xe(Pe.P_,{isTablet:!1}),Xe(Ke,null))};var Ye={bg:"board",display:"grid",width:"100vw",height:"100vh",minHeight:"680px"},Qe=(0,M.Z)((0,M.Z)({},Ye),{},{gridTemplateColumns:"100vw",gridTemplateRows:"100vh",gridTemplateAreas:'"chart"',overflow:"hidden"}),je={bg:"board",display:"grid",gridGap:"4px",gridTemplateColumns:"minmax(253px,280px) minmax(445px,1fr) minmax(253px,320px)",gridTemplateRows:"minmax(48px,auto) 64px 320px 160px 1.15fr auto 285px",gridTemplateAreas:'\n        "tradenews tradenews tradenews"\n        "subHeader subHeader market "\n          " orderbook chart market "\n          " orderbook chart trades "\n          " orderbook orderform trades "\n          "orderbook orderform marketActivity "\n          "basictable basictable basictable "'},Je=(0,M.Z)((0,M.Z)({},Ye),{},{gridGap:"4px",gridTemplateColumns:"1fr 280px 288px",gridTemplateRows:"48px 1fr auto",gridTemplateAreas:'\n        "subHeader orderbook trades"\n        "chart orderbook trades"\n        "userinfo orderform orderform"'}),qe=(0,M.Z)((0,M.Z)({},Ye),{},{gridGap:"4px",gridTemplateColumns:"3fr 5fr 340px 4fr",gridTemplateRows:"48px 1fr 1fr",gridTemplateAreas:'\n        "market subHeader subHeader subHeader"\n        "market chart chart orderbook"\n        "userinfo userinfo orderform trades"'}),$e=(0,M.Z)((0,M.Z)({},Ye),{},{gridGap:"4px",gridTemplateColumns:"5fr 340px 4fr",gridTemplateRows:"48px 1fr 1fr",gridTemplateAreas:'\n        "subHeader subHeader subHeader"\n        "chart chart orderbook"\n        "userinfo orderform trades"'}),et=(0,M.Z)((0,M.Z)({},Ye),{},{gridGap:"4px",gridTemplateColumns:"3fr 5fr 340px",gridTemplateRows:"48px 1fr 1fr",gridTemplateAreas:'\n    "market subHeader subHeader"\n    "market chart chart"\n    "userinfo userinfo orderform"'}),tt=(0,M.Z)((0,M.Z)({},Ye),{},{gridGap:"4px",gridTemplateColumns:"5fr 340px",gridTemplateRows:"48px 1fr 1fr",gridTemplateAreas:'\n    "subHeader subHeader"\n    "chart chart"\n    "userinfo orderform"'}),rt=(0,M.Z)((0,M.Z)({},Ye),{},{minHeight:"100vh",height:"100%",gridGap:"4px",gridTemplateColumns:"1fr",gridTemplateRows:"minmax(48px, auto) 1fr",gridTemplateAreas:'\n          "subHeader"\n          "content"'}),nt=((0,M.Z)((0,M.Z)({},Ye),{},{gridGap:"4px",gridTemplateColumns:"minmax(253px,320px) minmax(502px,1fr) minmax(226px,288px) 288px",gridTemplateRows:"1.15fr 285px",gridTemplateAreas:'\n                "market chart orderbook orderform"\n                "userinfo userinfo trades orderform"'}),(0,M.Z)((0,M.Z)({},Ye),{},{display:"grid",overflowY:"hidden",overflowX:"hidden",width:"100%",height:"100%",minHeight:"855px",bg:"board",gridArea:"content",gridGap:"2px",gridTemplateColumns:"3fr 1fr 288px",gridTemplateRows:"2fr 1fr 1fr",gridTemplateAreas:'"chart orderbook orderform"\n          "userinfo trades asset"'})),at=r("kO20"),ot=r.n(at),it=r("DVVj"),ut=r("5MFU"),lt=r("QrOX"),st=l().createElement,ct=I.Z.updateUserSettings,dt=(0,ne.ck)("afterLogin",(function(){return Promise.all([r.e(16),r.e(639),r.e(651),r.e(685)]).then(r.bind(r,"ZM/O"))})),pt=(0,ne.ck)("afterLogin",(function(){return Promise.all([r.e(16),r.e(639),r.e(651),r.e(685)]).then(r.bind(r,"NEpM"))})),ft=function(e,t){var r=t.getI18n,n=t.widgetLayout,a=t.setWidgetLayout,o=t.deleteElectronFlag,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];switch(e.i){case"market":return i?st(it.hM,{area:"market",title:r("trd-layout-MarketTle"),onRemove:function(){o({market:!1}),a($(n))}},st(Pe.sN,{h:e.h})):null;case"chart":return st(it.hM,{area:"chart"},st(Pe.P_,{onRemove:i?function(){o({chart:!1}),a(n.filter((function(e){return"chart"!==e.i})))}:null,isElectronPro:!0}));case"orderbook":return st(it.hM,{area:"orderbook",title:r("trd-layout-orderBookTle",{defaultValue:"Order Book"}),onRemove:i?function(){o({orderbook:!1}),a(n.filter((function(e){return"orderbook"!==e.i})))}:null},st(Pe.kc,{hasSize:!0}));case"trades":return st(it.hM,{area:"trades",title:r("trd-layout-tradesTle",{defaultValue:"Trades"}),onRemove:i?function(){o({trades:!1}),a(n.filter((function(e){return"trades"!==e.i})))}:null},st(Pe.Eu,null));case"userinfo":return st(Pe.mF,{area:"userinfo",onRemove:i?function(){o({userinfo:!1}),a(n.filter((function(e){return"userinfo"!==e.i})))}:null});case"orderform":return st(it.hM,{area:"orderform",title:"",onRemove:i?function(){}:null},st(Pe.cE,null));case"asset":return st(it.hM,{area:"asset",title:r("trd-orderForm-assets"),onRemove:i?function(){return a(n.filter((function(e){return"asset"!==e.i})))}:null,renderExtra:function(){return st(lt.MarginBar,null)}},st(Pe.er,null));default:return null}},mt=(0,at.WidthProvider)(ot()),gt=l().memo((function(e){var t=e.gridProps,r=(0,p.useDispatch)(),n=(0,k.ZK)().getI18n,a=(0,p.useSelector)((function(e){return e.setting.spotLayoutDetail})),i=(0,u.useState)(3),l=i[0],s=i[1],c=(0,u.useContext)(B.VY),d=c.widgetLayout,f=c.setWidgetLayout,m=(0,ut.xG)((function(e){return[e.disableMouse,e.setDisableMouse]})),g=(0,o.Z)(m,2),h=g[0],x=g[1],v=(0,k.gm)(),b=function(e){ct({trade:{spotLayoutDetail:{components:(0,M.Z)({},e)}}}),r.setting.updateState({spotLayoutDetail:(0,M.Z)((0,M.Z)({},a),e)})};return d?"rtl"!==v?st(mt,{className:"layout",layout:d,cols:20,rowHeight:8,margin:[4,4],draggableCancel:".draggableCancel",draggableHandle:".draggableHandle",containerPadding:[0,0],onLayoutChange:function(e){f(e)},onStart:function(){return s((function(e){return e+1}))},onEnd:function(){return s((function(e){return e-1}))},onResizeStart:function(){x(!0)},onResizeStop:function(){x(!1)}},d.map((function(e){return st("div",{key:e.i,className:h&&"chart"===e.i?"disable-mouse":"",style:{zIndex:l}},ft(e,{getI18n:n,widgetLayout:d,setWidgetLayout:f,deleteElectronFlag:b},!0))}))):st(ee.Z,{sx:t},d.map((function(e){return ft(e,{getI18n:n,widgetLayout:d,setWidgetLayout:f},!1)}))):null}));const ht=function(e){var t=e.isLeastWebSize,r=(0,p.useSelector)(W.makeFullscreen),n=(0,p.useSelector)((function(e){return e.setting.flashOrder})),a=(0,u.useMemo)((function(){return r?"none":"block"}),[r]);return st(l().Fragment,null,r&&st(Pe.P_,null),r&&st(ee.Z,{sx:{display:a}},st(Pe.cE,null)),!r&&st(l().Fragment,null,st(ee.Z,{sx:{gridArea:"subHeader"}},st(t?Pe.v0:Pe.BN,null),st(dt,{isPro:!0})),st(ee.Z,{sx:{gridArea:"content",height:"100%",width:"100%"}},st(gt,{gridProps:nt}))),n&&st(pt,{changeZIndex:r}))};var xt=r("AYAd"),vt=r("6u/I"),bt=r("D57K"),yt=r("SH2D");const kt=function(e){return l().createElement(yt.Z,(0,bt.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),l().createElement("path",{d:"M9 12.24L13.24 8l1.41 1.42-2.82 2.82 2.82 2.82-1.41 1.42L9 12.24z",fill:"currentColor"}))};var wt=l().createElement,Zt=function(e){var t=e.expand,r=e.market,n=e.setExpand,a=e.sx,o=(0,k.Fg)().isLight;return wt("div",{style:(0,M.Z)({zIndex:10,boxSizing:"border-box",width:"10px",height:"32px",background:o?"#fff":"#0B0E11",display:"flex",justifyContent:"center",alignItems:"center",border:o?"solid 1px #e6e8ea":"none",position:"absolute",bottom:"15px",cursor:"pointer",borderTopLeftRadius:t?"3px":"0px",borderTopRightRadius:t?"0px":"3px",borderBottomRightRadius:t?"0px":"3px",borderBottomLeftRadius:t?"3px":"0px",transform:r?"rotate(0deg)":"rotate(180deg)"},a),onClick:function(){return n(!t)}},wt(kt,{size:12,color:o?"#76808F":"t.primary",sx:{transform:t?"rotate(0deg)":"rotate(180deg)"}}))},St=(0,u.createContext)({marketExpand:!0,orderbookExpand:!0,setMarketExpand:function(){},setOrderbookExpand:function(){}}),Tt=l().createElement,Et=(0,ne.SA)((function(){return Promise.all([r.e(567),r.e(16),r.e(639),r.e(210),r.e(335)]).then(r.bind(r,"UUIA"))}),"chart"),At=(0,ne.SA)((function(){return Promise.all([r.e(567),r.e(16),r.e(639),r.e(786),r.e(210),r.e(871),r.e(651),r.e(858),r.e(789)]).then(r.bind(r,"uI+W"))}),"csr"),Ct=(0,ne.SA)((function(){return Promise.all([r.e(567),r.e(16),r.e(639),r.e(786),r.e(210),r.e(871),r.e(651),r.e(858),r.e(789)]).then(r.bind(r,"N/Bo"))}),"csr"),Lt=function(e){var t=e.isTablet,r=void 0!==t&&t,n=e.onRemove,a=void 0===n?function(){}:n,i=e.isPro,l=void 0!==i&&i,c=e.isElectronPro,d=void 0!==c&&c,f=(0,u.useContext)(St),m=f.marketExpand,g=f.orderbookExpand,h=f.setMarketExpand,x=f.setOrderbookExpand,v=(0,k.uT)(),b=(0,o.Z)(v,1)[0],y=(0,p.useSelector)(W.makeFullscreen),w=(0,p.useSelector)((function(e){return e.setting.layout})),Z=b===s.xy.SPOT,S=!Z&&!y,T=(0,k.z4)(),E=(0,o.Z)(T,1)[0],A=(0,k.j2)();return Tt(Re.Z,{sx:{width:"100%",height:"100%",bg:"componentBg",gridArea:"chart",position:"relative"},name:"chart"},Tt(Et,{height:r?Z?"100%":"calc(100% - 36px)":S?"calc(100% - 36px)":"100%",tabKeys:[vt.vm.basic,vt.vm.tradingView,vt.vm.depth],showTradingView:!0,showFullscreenIcon:!0,onRemove:a,symbol:E,namespace:vt.P3,product:A,isPro:l||d}),Tt(ee.Z,{sx:{position:"relative"}},S&&Tt(At,{isTablet:r}),w===s.rh&&!r&&Tt(ee.Z,{sx:{position:"absolute",top:0,left:0,right:0}},Tt(Ct,null))),Tt(Zt,{expand:m,setExpand:h,market:!0,sx:{left:m?"-10px":"0px"}}),Tt(Zt,{expand:g,setExpand:x,sx:{right:g?"-10px":"0px"}}))},Dt=l().createElement,It=(0,ne.SA)((function(){return Promise.all([r.e(567),r.e(16),r.e(639),r.e(786),r.e(210),r.e(871),r.e(651),r.e(858),r.e(789)]).then(r.bind(r,"QDy1"))}),"csr"),_t=function(){return Dt(ee.Z,{sx:{width:"100%",bg:"componentBg",display:"flex",paddingLeft:"16px",height:"48px",alignItems:"center"}},Dt(ee.Z,{sx:{flex:1}},Dt(Ie.default,{mode:"pro"},Dt(Be.default,null))),Dt(xt.ZP,{sx:{marginRight:"16px"},itemProps:{height:"24px"}}))},Pt=function(){var e=(0,k.ZK)().getI18n,t=[[e("trd-layout-MarketTle",{defaultValue:"Market"}),Dt(Pe.sN,{key:"market",showCoinInfo:!1,placement:"left",withVolume:!0,bg:"transparent",marginLeft:"-16px"})],[e("trd-layout-tabMarketActivity",{defaultValue:"Market Activities"}),Dt(It,{key:"marketActivity",limit:20})]];return Dt(it.oZ,{area:"market",name:"trades",panes:t})},Mt=function(){var e=(0,u.useContext)(St),t=e.marketExpand,r=e.orderbookExpand;return Dt(l().Fragment,null,Dt(ee.Z,{sx:{gridArea:"subHeader"}},Dt(_t,null)),r&&Dt(ee.Z,{sx:{gridArea:"trades"}},Dt(Pe.Eu,null)),r&&Dt(Pe.kc,null),Dt(Lt,null),t&&Dt(Pt,null),Dt(Pe.iD,null),Dt(Pe.mF,null))},Ot=function(e,t){switch((e?"1":"0")+(t?"1":"0")){case"11":return qe;case"01":return $e;case"10":return et;case"00":return tt;default:return qe}};const Rt=function(){var e=(0,O.Z)("standard-market",!0),t=(0,o.Z)(e,2),r=t[0],n=t[1],a=(0,O.Z)("standard-orferform",!0),i=(0,o.Z)(a,2),u=i[0],s=i[1];return(0,p.useSelector)(W.makeFullscreen)?Dt(Lt,null):Dt(ee.Z,{sx:Ot(r,u)},Dt(St.Provider,{value:{marketExpand:r,orderbookExpand:u,setMarketExpand:n,setOrderbookExpand:s}},Dt(l().Fragment,null,Dt(Mt,null))))};var Ht=l().createElement,Ft=function(e){var t=e.layout,r=e.spotLayoutDetail,n=e.spotDefaultSetFlag,a=(0,p.useDispatch)(),i=(0,p.useSelector)(W.makeFullscreen),l=(0,b.KO)().showCoachMark,c=(0,O.Z)("tradeAlreadyView"),d=(0,o.Z)(c,2),f=d[0],m=d[1],g=(0,O.Z)("trade-layout",J),h=(0,o.Z)(g,2),x=h[0],v=h[1],y=(0,O.Z)(s.f_,5),w=(0,o.Z)(y,2),Z=w[0],S=w[1],T=(0,u.useState)(!1),E=T[0],A=T[1],C=(0,k.Fs)().isLeastWebSize,L=(0,k.lr)(),D=L.radar,I=L.performance;Ce(),(0,u.useEffect)((function(){a.pageStore.updateState({isLayoutChanging:!1}),f||I||setTimeout((function(){l("tradeGuide",0),m(!0)}),3e3)}),[t,f,m,I]);var _=r&&JSON.stringify(r);(0,k.N7)((function(){var e=q.filter((function(e){return r[e.i]}));e=r.market?function(e){var t=e.find((function(e){return"chart"===e.i})),r=e.find((function(e){return"chart"!==e.i&&0===e.y}));return t&&t.x===Y.x&&t.y===Y.y&&(t.x=4,t.w===Y.w&&r&&(t.w=8)),(0,X.Z)(e)}(e):$(e),v(e)}),[_,n]);var P=(0,u.useMemo)((function(){return i?Qe:t===s.rh?je:t===s.UW?Je:t===s.b2?{}:rt}),[i,t]);return he(),(0,u.useEffect)((function(){5!==Z&&(S(5),v(J))}),[Z,S,v]),Ht(z.Z,{type:"desktop"},Ht(ee.Z,{sx:P},Ht(B.VY.Provider,{value:{widgetLayout:x,setWidgetLayout:v}},t===s.$f&&Ht(ht,{isLeastWebSize:C}),t===s.rh&&Ht(ze,null),t===s.UW&&Ht(Ue,null),t===s.b2&&Ht(Rt,null),void 0!==D&&Ht(re.Z,null))),te.Sq,Ht(pe,{changeLayout:function(){return A(!E)}}))},Nt=l().memo((function(e){var t=e.layout,r=e.spotLayoutDetail,n=e.spotDefaultSetFlag;return Ht(Ft,{layout:t,spotLayoutDetail:r,spotDefaultSetFlag:n})})),Vt=l().createElement;function Wt(){!function(){var e=(0,p.useDispatch)(),t=(0,O.Z)(s.Lp),r=(0,o.Z)(t,2)[1];(0,u.useEffect)((function(){var t=function(t){e.userCenter.updateState({userSetting:(0,M.Z)((0,M.Z)({},t),{},{userPreferredCurrency:(null===t||void 0===t?void 0:t.currency)||""})}),e.setting.updateState({color:t.colorScheme,theme:t.theme,layout:t.trade.spotLayout,spotLayoutDetail:t.trade.spotLayoutDetail.components,flashOrder:t.trade.spotLayoutDetail.components.flashOrder}),e.userCenter.updateCurrentFiat(null===t||void 0===t?void 0:t.currency),r(t.trade.spotLayout)};function n(){return(n=(0,i.Z)(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:r=e.sent,t(r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}(),R(t)}),[])}(),function(){var e=(0,p.useDispatch)();(0,u.useEffect)((function(){var t=N(F.APPEVENT_RESET_SPOT_LAYOUT,(function(t){V=!V,e.setting.updateState({spotDefaultSetFlag:V})}));return function(){t()}}),[])}(),function(){var e=(0,p.useDispatch)();(0,u.useEffect)((function(){var t=function(){e.userCenter.checkLogin()};_(t),P(t)}),[])}(),(0,A.useSpotInitState)(),(0,A.useMarginInitState)(),(0,A.useTradeInitState)();var e=(0,p.useDispatch)(),t=(0,p.useSelector)((function(e){return e.setting.color})),r=(0,p.useSelector)((function(e){return e.setting.layout})),n=(0,p.useSelector)((function(e){return e.setting.spotLayoutDetail})),l=(0,p.useSelector)((function(e){return e.setting.spotDefaultSetFlag}));(0,u.useEffect)((function(){s.sk||e.setting.updateState({color:t||s.Pe,layout:r})}),[s.sk]);var c=(0,u.useCallback)((function(){return r?Vt(Nt,{layout:r,spotLayoutDetail:n,spotDefaultSetFlag:l}):null}),[r,n,l]);return Vt(E,{render:c})}function zt(){return(0,p.useSelector)((function(e){return e.pageStore.init}))?Vt(Wt,null):null}s.sk||(window.__WS_PING__=!0),zt.getInitialProps=function(){var e=(0,i.Z)(a().mark((function e(t){var r,n,i,u,l,p,f,m,g,h,x,v,b,y,k,w,Z,S,T,E;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.params,i=n.lng,u=n.symbol,l=t.appContext.store,p=l.dispatch,f=l.getState,null===(m=f())||void 0===m||null===(r=m.pageStore)||void 0===r||!r.init){e.next=6;break}return p.pageStore.updateState({symbol:(0,C.Y)(u)}),e.abrupt("return");case 6:return e.next=8,Promise.all([(0,d.xD)(),(0,d.yE)(),(0,d._7)(),(0,d.vF)(i),p.tradeNews.getTradeNews({lang:i})]);case 8:g=e.sent,h=(0,o.Z)(g,4),x=h[0],v=h[1],b=h[2],y=h[3],k=(0,D.eW)(b,u),w=k.filterProducts,Z=k.curSymbol,S=(0,c.getExchangeInfo)(w),T=(0,D.U4)(w[0])||{},E=(0,L.Qs)(x,Z),p.products.updateState({currentProduct:T}),p.exchangeInfo.updateState(S),p.pageStore.updateState({init:!0,info:E,symbol:(0,C.Y)(Z),currency:v,tradeType:s.xy.SPOT,page:s.qX.TRADE,marketTags:y||{list:[],riskys:[],listMap:{}}});case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();const Bt=zt}}]);