(self.webpackJsonp_launchpad=self.webpackJsonp_launchpad||[]).push([[391],{oiEf:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>F});var r=a("cJ43"),n=a("7/s2"),i=a("/SIk"),l=a.n(i),d=a("gPXT"),s=a("Am2c"),o=a("bCka"),c=a("KnJo"),u=a("uJnp"),p=a("Tr4L");const m={lottery:"lpd-v1-purchaseRecord-lottery",flashSale:"lpd-v1-purchaseRecord-FlashSale",launchpool:"lpd-v1-purchaseRecord-launchpoolOrder",stackSchema:"launchpad2.0:Subscription Order"},h=[{tab:"launchpad2.0:Subscription Order",tabKey:"stackSchema"},{tab:"lpd-v1-purchaseRecord-lotteryProcessing",tabKey:"PROCESSING",tabType:"lottery"},{tab:"lpd-v1-purchaseRecord-lotteryCompleted",tabKey:"COMPLETED",tabType:"lottery_comp"},{tab:"lpd-v1-purchaseRecord-FlashSale",tabKey:"flashSale"},{tab:"lpd-records-rewardHistory",tabKey:"rewards"},{tab:"lpd-records-distributionHistory",tabKey:"distribute"}];var y=a("YRuS"),f=a("D57K"),v=a("n2bT"),b=a("fR/Q");const x=function(e){return l().createElement(b.Z,(0,f.__assign)({width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"none"},e),l().createElement("path",{d:"M6.175 8l4.875-4.95L10 2 4 8l6 6 1.05-1.05L6.175 8z",fill:"currentColor"}))};const k=function(e){return l().createElement(b.Z,(0,f.__assign)({width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"none"},e),l().createElement("path",{d:"M8.825 8L3.95 12.95 5 14l6-6-6-6-1.05 1.05L8.825 8z",fill:"currentColor"}))};var g=function(e){var t=e.isCurrent,a=(0,f.__rest)(e,["isCurrent"]);return i.createElement(v.Z,(0,f.__assign)({as:"button","data-bn-type":"button",tx:"pagination",variant:t?"current":"default"},a,{__css:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"14px",border:"none",outline:"none",minWidth:"28px",height:"28px"}}))},S=i.forwardRef((function(e,t){var a=e.total,r=e.current,n=e.onMoveToPage,l=e.abbreviatedNumber,d=e.offset,s=(0,f.__rest)(e,["total","current","onMoveToPage","abbreviatedNumber","offset"]),o=function(e,t,a,r){if(void 0===a&&(a=10),void 0===r&&(r=2),t<a)return(0,f.__spread)(Array(t)).map((function(e,t){return t+1}));for(var n=e-r,i=e+r,l=[],d=1;d<=t;d++)1===d||d===t||d>=n&&d<=i?l.push(d):-1!==l[l.length-1]&&l.push(-1);return l}(r,a,l,d);return i.createElement(v.Z,(0,f.__assign)({ref:t,as:"div"},s,{__css:{display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"center"}}),i.createElement(g,{className:"mirror",onClick:function(){return n(r-1)},disabled:1===r,color:1===r?"line":"t.secondary","aria-label":"Previous page",sx:{minWidth:"16px"}},i.createElement(x,{size:16})),o.map((function(e,t){return i.createElement(g,{key:e+" - "+t,outline:!0,isCurrent:e===r,onClick:function(){return n(e)},"aria-label":"Page number "+e,disabled:-1===e||e===r},-1===e?"...":e)})),i.createElement(g,{className:"mirror",onClick:function(){return n(r+1)},disabled:r===a,color:r===a?"line":"t.secondary","aria-label":"Next page",sx:{minWidth:"16px"}},i.createElement(k,{size:16})))}));S.displayName="Pagination";const I=S;var C=a("ImIg"),w=a("I0Hr");a("BQ33"),l().createElement;var R=l().createElement;const N=e=>[{title:e("lpd-v1-purchaseRecord-lotteryProjectName"),dataIndex:"projectName",key:"projectName"},{title:e("lpd-v1-purchaseRecord-lotteryNoofTickets"),dataIndex:"",key:"tickets",render:e=>{var t;return null===(t=e.processingTickets)||void 0===t?void 0:t.length}},{title:e("lpd-v1-purchaseRecord-lotterySessionPrice"),dataIndex:"distributePrice",key:"distributePrice"},{title:e("lpd-v1-purchaseRecord-lotteryOrderDate"),dataIndex:"",key:"OrderDate",render:e=>(0,w.v)(new Date(+e.orderDate),"yyyy-MM-dd hh:mm:ss")}],P=e=>[{title:e("lpd-v1-purchaseRecord-lotteryProjectName"),dataIndex:"projectName",key:"Project Name",width:"250px"},{title:e("lpd-v1-purchaseRecord-lotteryWinningTickets"),dataIndex:"",key:"Winning Tickets",render:e=>e.winTickets.length},{title:e("lpd-v1-purchaseRecord-lotteryQuantiy"),dataIndex:"",key:"quantiy",render:e=>e.winTickets.length*e.ticketSize},{title:e("lpd-v1-purchaseRecord-lotterySessionPrice"),dataIndex:"distributePrice",key:"Session Price"},{title:e("lpd-v1-purchaseRecord-lotteryAmountBNB"),dataIndex:"",key:"Amount BNB",render:e=>{const t=e.winTickets.length*e.ticketSize*e.distributePrice;return R("div",null,R("span",{className:"td-sum-num"},t))}},{title:e("lpd-lpd6-koukuan"),dataIndex:"",key:"lpd-lpd6-koukuan",render:t=>{const a=t.winTickets;if(a.length<=0)return e("lpd-v1-noresult-1");try{return a.forEach((e=>{if(e.status<3)throw Error("less than 3")})),e("lpd-lpd6-koukuan-yikoukuan")}catch(r){return e("lpd-lpd6-koukuan-daikoukuan")}}},{title:e("lpd-v1-purchaseRecord-lotteryOrderDate"),dataIndex:"",key:"Order Date",render:e=>(0,w.v)(new Date(+e.orderDate),"yyyy-MM-dd hh:mm:ss")}],E=e=>[{title:e("lpd-v1-purchaseRecord-flashSaleProjectName"),dataIndex:"projectName",key:"Project Name"},{title:e("lpd-v1-purchaseRecord-flashSaleQuantity"),dataIndex:"purchaseNum",key:"Quantity"},{title:e("lpd-v1-purchaseRecord-flashSalePrice(BNB)"),dataIndex:"distributePrice",key:"Price (BNB)"},{title:e("lpd-v1-purchaseRecord-flashSaleAmount(BNB)"),dataIndex:"",key:"Amount(BNB)",render:e=>e.purchaseNum*e.distributePrice},{title:e("lpd-v1-purchaseRecord-flashSaleOrderDate"),dataIndex:"",key:"Order Date",render:e=>(0,w.v)(new Date(+e.createTimestamp),"yyyy-MM-dd hh:mm:ss")}],_=e=>[{title:e("lpd-records-distributionTime"),dataIndex:"",key:"timestamp",render:e=>(0,w.v)(new Date(+e.timestamp),"yyyy-MM-dd hh:mm:ss")},{title:e("lpd-records-coinName"),dataIndex:"rebateCoin",key:"rebateCoin"},{title:e("lpd-records-distributionNumber"),dataIndex:"coins",key:"coins"},{title:e("lpd-records-deposited"),dataIndex:"",key:"snapshotAmount",render:e=>`${e.snapshotAmount} ${e.asset}`}],T=e=>[{title:e("lpd-records-rewardTime"),dataIndex:"",key:"timestamp",render:e=>(0,w.v)(new Date(+e.timestamp),"yyyy-MM-dd hh:mm:ss")},{title:e("lpd-records-coinName"),dataIndex:"rebateCoin",key:"rebateCoin"},{title:e("lpd-records-rewardNumber"),dataIndex:"coins",key:"coins"}],D=e=>[{title:e("launchpad2.0:Time"),dataIndex:"createTime",key:"createTime",render:e=>(0,w.v)(new Date(+e),"yyyy-MM-dd hh:mm:ss")},{title:e("launchpad2.0:Project Name"),dataIndex:"projectName",key:"projectName"},{title:e("launchpad2.0:Commited amount"),dataIndex:"amount",key:"amount",render:(e,t)=>`${+e||"--"} ${null===t||void 0===t?void 0:t.asset} `},{title:e("launchpad2.0:Price"),dataIndex:"distributePrice",key:"distributePrice",render:(e,t)=>`${+e||"--"} ${(null===t||void 0===t?void 0:t.asset)||""}`},{title:e("launchpad2.0:Deducted"),dataIndex:"cost",key:"cost",render:(e,t)=>`${+e||"--"} ${(null===t||void 0===t?void 0:t.asset)||""}`},{title:e("launchpad2.0:Tokens Purchased"),dataIndex:"rebateCoins",key:"rebateCoins",render:(e,t)=>`${+e||"--"} ${(null===t||void 0===t?void 0:t.coin)||""}`},{title:e("launchpad2.0:Status"),dataIndex:"status",key:"status",render:t=>e(`launchpad2.0:${t}`)}];var M=a("XYC/"),j=a("LK8z");const K=function(e){var t=e.children;return l().createElement(v.Z,{as:"span",__css:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",width:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"}},t)};var Z=(0,i.forwardRef)((function(e,t){e.variant;var a=e.itemsColor,r=void 0===a?"primary":a,n=e.label,i=(0,f.__rest)(e,["variant","itemsColor","label"]),d=Array(4).fill(1).map((function(e,t){return"-"+t/10+"s"})).reverse();return l().createElement(v.Z,(0,f.__assign)({ref:t},i,{__css:{display:"flex",width:"30px",height:"30px",alignItems:"center",justifyContent:"space-between"}}),n&&l().createElement(K,null,n),d.map((function(e,t){return l().createElement($,{key:t,delay:e,color:r})})))})),O=(0,j.keyframes)(z||(z=(0,f.__makeTemplateObject)(["\n  0%, 40%, 100% {\n    transform: scaleY(0.4);\n  }\n  20% {\n    transform: scaleY(1.0);\n  }\n"],["\n  0%, 40%, 100% {\n    transform: scaleY(0.4);\n  }\n  20% {\n    transform: scaleY(1.0);\n  }\n"]))),$=function(e){var t=e.delay,a=e.color;return l().createElement(v.Z,{__css:{backgroundColor:a,height:"100%",width:"3px",animation:O+" 1.2s infinite ease-in-out",animationDelay:t}})};Z.displayName="Spinner";const B=Z;var z,L=l().createElement;const A=()=>L(d.Z,{sx:{minHeight:"284px",justifyContent:"center",alignItems:"center"}},L(B,null));var q=l().createElement;const W=({activeKey:e})=>{const{t:t,i18n:{language:a}}=(0,p.$)(),r=(0,C.useDispatch)().recordsList,{0:n,1:l}=(0,i.useState)([]),{0:s,1:o}=(0,i.useState)([]),{0:c,1:u}=(0,i.useState)(!1),{0:m,1:h}=(0,i.useState)(1),{0:f,1:v}=(0,i.useState)(1),b={PROCESSING:{getColum:N,fetchRequest:r.fetchProcessingData},COMPLETED:{getColum:P,fetchRequest:r.fetchCompletedData},flashSale:{getColum:E,fetchRequest:r.fetchFlashSaleList},rewards:{getColum:T,fetchRequest:r.fetchRewardRecords},distribute:{getColum:_,fetchRequest:r.fetchDistubutionRecords},stackSchema:{getColum:D,fetchRequest:r.fetchStackSchemaList}},x=(0,i.useCallback)((async(a=1)=>{var r,n;o([]),u(!0),v(a);let i=["rewards","distribute"].includes(e)?{pageIndex:a||f,pageSize:10}:{page:a||f,pageSize:10};const{data:d,total:s}=await(null===(r=b[e])||void 0===r?void 0:r.fetchRequest(i))||{data:[],total:0};h(Math.ceil(s/10)),u(!1);let c=null===(n=b[e])||void 0===n?void 0:n.getColum(t);l(c),o(d)}),[e,a]);return(0,i.useEffect)((()=>{x()}),[x]),q(d.Z,{flex:1,flexDirection:"column",justifyContent:"space-between",pb:"md"},q(y.Z,{columns:n,data:s,rowKey:(e,t)=>t,emptyText:q(c?A:M.Z,null)}),m>0&&q(I,{total:m,current:f,onMoveToPage:e=>{x(e)},sx:{justifyContent:"flex-start",color:"black.text",alignSelf:"flex-end",mt:"md","& button":{fontSize:"14px"}}}))};var Y=l().createElement;const J=()=>{const{locale:e,order:t,type:a}=(0,u.UO)(),{t:r}=(0,p.$)(["launchpad","launchpad2.0"]),{0:n,1:l}=(0,i.useState)(""),y=(0,u.tv)();return(0,i.useEffect)((()=>{var e;let r=a||h&&(null===(e=h[0])||void 0===e?void 0:e.tabKey)||"";l("lottery"!==t||a?r:"PROCESSING")}),[l,t]),Y(d.Z,{px:"sm",flex:1,flexDirection:"column"},Y(s.Z,{variant:"title4",as:"h4",mt:"sm"},r(m[t])),Y(o.Z,{mb:"sm",width:"100%",variant:"standard",key:n,defaultActiveKey:n,onChange:a=>{l(a),y.push(`/${e}/history/${t}/${a}`)}},h.map((e=>Y(c.Z,{tab:r(e.tab),tabKey:e.tabKey,key:e.tabKey})))),Y(W,{activeKey:n}))};var Q=l().createElement;const H=()=>Q(d.Z,null,Q(d.Z,{sx:{flex:1,flexDirection:"column"}},Q(J,null)));H.namespaces=["launchpad2.0"],H.getInitialProps=async e=>{console.log("ctx",e)};const F=(0,r.b)((0,n.X)(H))}}]);