!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=42)}([function(e,t,n){"use strict";n(7);var o="undefined"!=typeof chrome&&chrome.runtime&&chrome.runtime.id||!self.CONFIG.iframeUrl?navigator.userAgent.indexOf("Firefox")>-1?chrome.extension.getURL("/dist/"):"chrome-extension://"+chrome.runtime.id+"/dist/":self.CONFIG.iframeUrl;"undefined"!=typeof safari&&safari.extension&&safari.extension.baseURI&&(o=safari.extension.baseURI+"extension/");var r=n(13),i=function(){var e=["EN","FR","ES","DE","RU","IT"],t=navigator.userLanguage||navigator.language;return t.length>2&&(t=t.slice(0,2)),e.indexOf(t.toUpperCase())>-1?t.toLowerCase():e[0].toLowerCase()}(),a=function(){var e=navigator.userLanguage||navigator.language;return e.length>2&&(e=e.slice(0,2)),e}(),s=navigator.userAgent.indexOf("Firefox")>-1?"ffextension":navigator.userAgent.indexOf("Chrome")>-1?"chromeextension":navigator.userAgent.indexOf("Safari")>-1?"safariextension":"mobileweb",l=function(e,t){var n=self.CONFIG.server.indexOf("preprod")>-1?".preprod":"",o=encodeURIComponent("https://"+s+".cps"+n+".reverso.net/users/"+i);return"https://account"+n+e+"?lang="+i+"&returnUrl="+o+(t||"")},c={isExtension:!("undefined"==typeof chrome||!chrome.runtime||!chrome.runtime.id)||!("undefined"==typeof safari||!safari.extension||!safari.extension.baseURI),server:self.CONFIG.server,version:self.CONFIG.version,prefixStorage:self.CONFIG.prefixStorage,apiVersion:self.CONFIG.apiVersion,wordCountLimit:self.CONFIG.wordCountLimit,limitWholeText:self.CONFIG.limitWholeText,gaTrackingId:self.CONFIG.gaTrackingId,limitWordForReverso:self.CONFIG.limitWordForReverso,limitWordForReversoHieroglyph:self.CONFIG.limitWordForReversoHieroglyph,direction:o,extensionId:o+"index.html",keyCode_RR:84,typeHighlight:"background",settings_type_iframe:"window",positionClick:{top:100,left:100,height:36,width:36},settings_interface_lang:i,widthIframe:668,widthIframeForSub:320,heightIframe:525,heightIframeMini:90,openPdf:!1,miniView:!0,APP_LANG:i,siteLang:null,displayControlsInterfaceLanguage:!1,nativeLang:a,activation_mode:self.CONFIG.activation_mode?self.CONFIG.activation_mode:"showButtonTransl",viewerUrl:"undefined"!=typeof chrome&&chrome.extension&&chrome.extension.getURL?chrome.extension.getURL("content/web/viewer.html"):null,oneClick:{className:"reverso-reader__oneclick",nodeName:"oneclick",childNodesName:"oneclickelement",doNotWrap:["ONECLICK","SCRIPT","IFRAME","STYLE","PRE","tool-tip-for-link_RR","ONECLICK","ONECLICKELEMENT"],limitTags:17e3},origin:s,subtitleSelectors:r.default,subtitleSelector:null,directions:null,links:void 0!==self.CONFIG.GAS2&&self.CONFIG.GAS2?{login:l(".reverso.net/Account/Login"),logout:l(".reverso.net/Account/Logout"),register:l(".reverso.net/Account/Register"),facebookLogin:l(".reverso.net/Account/ExternalLogin","&handler=Challenge&provider=Facebook"),googleLogin:l(".reverso.net/Account/ExternalLogin","&handler=Challenge&provider=Google")}:{login:"https://account.reverso.net/login/"+s+"/"+i+"?returnUrl="+self.CONFIG.server+"/users/"+i+"/Home/RecommendedSites",register:"https://account.reverso.net/register/"+s+"/"+i+"?returnUrl="+self.CONFIG.server+"/users/"+i+"/Home/RecommendedSites",logout:"",facebookLogin:self.CONFIG.server+"/"+i+"/gas/FacebookLogin?origin="+s,googleLogin:self.CONFIG.server+"/"+i+"/gas/GoogleLogin?origin="+s},sitesForInstallSession:["domprog.com","reverso.net",".netflix.com",".primevideo.com",".youtube.com",".ted.com"],ignoreSitesReadabilty:[".reverso.net","www.netflix.com","www.primevideo.com","www.youtube.com",".ted.com"],translateParagraph:self.CONFIG.translateParagraph,translatePage:self.CONFIG.translatePage,update:function(){return new Promise(function(e,t){if("undefined"!=typeof chrome&&chrome.runtime&&chrome.runtime.id&&chrome.runtime.sendMessage)chrome.runtime.sendMessage({getSettings:!0},function(t){for(var n in t)t.hasOwnProperty(n)&&(c[n]=t[n]);c.settings_activation_mode_native_lang||c.settings_native_lang!==c.siteLang||(c.settings_activation_mode="none");var o=sessionStorage.getItem(c.prefixStorage+"settings_activation_mode");o&&(c.settings_activation_mode=o),e(c)});else{c.settings_activation_mode=c.activation_mode;try{var n=localStorage.getItem(c.prefixStorage+"GASUserProfile");n&&(c.gas_profile=JSON.parse(n).data)}catch(e){}c.settings_activation_mode_native_lang||c.settings_native_lang!==c.siteLang||(c.settings_activation_mode="none");var o=sessionStorage.getItem(c.prefixStorage+"settings_activation_mode");o&&(c.settings_activation_mode=o),e(c)}})}};e.exports=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(){function e(){}return e.send=function(e){void 0===e&&(e="");var t=localStorage.getItem("SelectionForReversoReader"),n={method:"POST",mode:"cors",cache:"default",body:JSON.stringify({deviceId:o.cid_extension,origin:o.origin,uiLang:o.nativeLang,accessToken:o.gas_auth?o.gas_auth.accessToken:"",Email:"",Url:location.href||"",UserAgent:navigator.userAgent||"",FeedbackType:5,Comment:e,SrcLang:t?t.lang:"",TrgLang:t?t.langTarget:"",Word:t?t.word:"",Sentence:t?t.sentence:"",version:o.version,Rating:-1}),headers:new Headers({"Content-Type":"application/json"})};fetch(o.server+"/api"+o.apiVersion+"/AddUserFeedback/",n).then(function(e){return e.json()}).then(function(t){throw new Error(e)}).catch(console.error)},e}();t.ErrorHandling=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMobile=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},t.isIframe=function(){try{return top.location!==self.location}catch(e){return window.top===window}},t.convertToDocFragment=function(e){var t=document.createRange();return t.selectNode(document.body),t.createContextualFragment(e)},t.isEditBox=function(e){try{if("INPUT"===e.nodeName.toUpperCase()||"TEXTAREA"===e.nodeName.toUpperCase())return!0;var t=function(e,n){return!!(e<4&&n)&&(!(!n.getAttribute("data-editor")&&!n.getAttribute("contenteditable"))||!!n.parentNode&&t(++e,n.parentNode))};return t(0,e)}catch(e){return!1}},t.isTouchScreen=function(){try{return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch}catch(e){return!1}},t.insertAfter=function(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},t.browser=navigator.userAgent.indexOf("Firefox")>-1?"Firefox":navigator.userAgent.indexOf("Chrome")>-1?"Chrome":navigator.userAgent.indexOf("Safari")>-1?"Safari":"mobileweb",t.origin=navigator.userAgent.indexOf("Firefox")>-1?"ffextension":navigator.userAgent.indexOf("Chrome")>-1?"chromeextension":navigator.userAgent.indexOf("Safari")>-1?"safariextension":"mobileweb",t.$_get=function(e){var t=window.location.hash.match(new RegExp(e+"=([^&=]+)"));return!!t&&t[1]},t.getIframes=function(){return document.querySelectorAll("iframe")},t.createGuid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}(),t.getLangPairInfo=function(e,t,n){try{if(!n)return null;if(n=n.data.directions,!e||!t)return null;for(var o={source:null,target:null},r=0,i=n;r<i.length;r++){var a=i[r];if(a.id.trim()===e.trim()){o.source=a;for(var s=0,l=n;s<l.length;s++){var c=l[s];if(c.id.trim()===t.trim()){o.target=c;break}}break}}return o}catch(e){return console.error("Error getNotification parse history: ",e),null}},t.getMostUsedLangByHistory=function(e,t){var n;if(e)try{var o={};e.forEach(function(e){e.langSource!==t&&(o[e.langSource]=o[e.langSource]?o[e.langSource]+1:1)});var r=0;for(var i in o)o.hasOwnProperty(i)&&r<o[i]&&(r=o[i],n=i)}catch(e){console.error("Error getNotification parse history: ",e)}return n},t.getNumberOfWeek=function(e){var t=e||new Date,n=new Date(t.getFullYear(),0,1),o=(t.getTime()-n.getTime())/864e5;return Math.ceil((o+n.getDay()+1)/7)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.EVENTSNAME={searchcontextmenu:"Translate by context menu",simplesearch:"Simple search",searchinpage:"Translate by in-page button",one_click:"Switch to one-click view",pronunciation:"Pronunciation",filter_translation:"Filter examples",search_popup:"Translate from extension button",MT:"Machine Translation menu",shortcut:"Translate by shortcut",phrasebook:"Access Phrasebook",history:"Access History",conjugation:"Conjugation menu",spellchecker:"Spell checker menu",edit_source:"Translate changed source",register:"User went to Reverso site for account creation",oneClickTranslate:'when user translates in one-click mode "One-click translate"',machineTranslation:'when go to translation web site (> 5 words selected as a source) "Machine Translation"',netflixTranslationClick:"Translation from Netflix - click",amazonTranslationClick:"Translation from Amazon - click",youtubeTranslationClick:"Translation from Youtube - click",netflixTranslationHover:"Translation from Netflix - hover",amazonTranslationHover:"Translation from Amazon - hover",youtubeTranslationHover:"Translation from Youtube - hover",tedTranslationClick:"Translation from TED - click",tedTranslationHover:"Translation from TED - hover",translationFromPDF:"Translation from PDF document"},t.LOCALIZATION={en:{},ru:{},fr:{},de:{},es:{},it:{},get:this.en},t.LOCALIZATION.en={OpenLinkTooltip:"Open link ",OriginalPageMess:"Original page: one-click translation is not activated",noTanslatedWords:"Translation of more than 50 words is not allowed ",noTanslatedWords8:"Translate expressions containing more than 8 words on Reverso.net ",LinksActivatedMess:"One-click translation is activated: click on any word to translate it",activateReversoTooltip:"All words become clickable and linked to their contextual translation in Reverso Context",activateReversoSavePagetip:"Save page",closeRVTooltip:"Disable the icon on all pages",titleContextMenu:"Translate with Reverso Context",showButton:"Display Reverso button next to selection ",skip:"Not now",activateReversoInPdf:"Activate",activateText:"Activate translation in pdf documents?",activateReversoInPdfdescription:"When this function is activated, you can use Reverso Context to translate in PDF documents",dontShowAgain:"Don't show again",activateForSub:"Would you like to activate translation in subtitles?",activateSub:"Activate",activateForSubDesc:"When this function is activated, you can hover over a word to see its translation and click to see more translations and examples in context",errorSubtitlesSvg:"The subtitles are not valid",loginForSub:"Register for free to translate in subtitles in Netflix, Amazon Video, and others",loginForSubToolbar:"Register for free to translate in subtitles",signUp:"Sign up",login:"Login",cookiesError:"Cookies are blocked in your browser. Please allow cookies to translate in-page",serverError:"Connection error. Please try again in a few minutes",notSupportedDirection:"Sorry, this translation direction is not supported",deactivateSubtitle:"Deactivate translation in subtitles",activateTextAddition:"(in new tab)",allowAccessToFile:'Access to local PDF files is now disabled. If you want to translate PDF files located on your computer, switch on "Allow access to file URLs" in settings: Customize and control Google Chrome -> More tools -> Extensions -> Reverso Translate in Context -> Details',separateTabPDF:"When Reverso is activated, the document opens in a separate tab",toActivateInSeparateTab:"To activate Reverso in the PDF document we opened it in a separate tab",alarmPDF:"Click here to activate. You will be able to translate in PDF in a separate tab",backToOriginalDocument:"Back to original document",yes:"Yes",no:"No",remind:"Remind me about this feature in a month",translateParagraph:"Translate paragraph",reversoTranslation:"Reverso Translation",translate:"Translate",stop:"stop",wordWeekNotificationTitle:"Reverso Context: Word of the week",wordWeekNotificationTitleMac:"RC: Word of the week",wordWeekNotificationDesc:"This is a good word to know",wordWeekNotificationDescMac:"It is a good word to know",wordWeekNotificationSearch:"Search",wordWeekNotificationNext:"Next",incognitoMode:"You are in incognito mode (private browsing). \n Your authentication data will not be saved for the next session.",incognitoModeForFirefox:"You are in private browsing mode. You can't login to your account in this mode."},t.LOCALIZATION.ru={OpenLinkTooltip:"Открыть ссылку",OriginalPageMess:"Исходная страница : мгновенный перевод отключен",noTanslatedWords:"Не удается перевести больше, чем 50 слов ",noTanslatedWords8:"Переводите фразы больше 8 слов на Reverso.net",LinksActivatedMess:"Мгновенный перевод активен: нажимайте на любое слово для его перевода",activateReversoTooltip:"Все слова выделяются и переводятся в Reverso Context по щелчку",activateReversoSavePagetip:"Сохранить страницу",closeRVTooltip:"Убрать иконку со страницы",titleContextMenu:"Перевести с помощью Reverso Context",showButton:"Отображать кнопку Reverso при выделении ",skip:"Не сейчас",activateReversoInPdf:"Активировать",activateText:"Активировать перевод в PDF?",activateReversoInPdfdescription:"Когда эта функция активирована, вы можете воспользоваться Reverso Context для перевода в PDF документах",dontShowAgain:"Больше не показывать",activateForSub:"Активировать перевод в субтитрах?",activateSub:"Активировать",activateForSubDesc:"После активации наведите курсор на слово, чтобы увидеть перевод, кликните, чтобы увидеть больше переводов и примеров",errorSubtitlesSvg:"Недопустимые субтитры",loginForSub:"Зарегистрируйтесь бесплатно, чтобы переводить в субтитрах Netflix, Amazon Video и других сервисов",loginForSubToolbar:"Зарегистрируйтесь бесплатно для перевода в субтитрах",signUp:"Зарегистрироваться",login:"Войти",cookiesError:"Файлы cookies заблокированы в вашем браузере. Пожалуйста, разрешите cookies для перевода на странице",serverError:"Ошибка соединения. Пожалуйста, повторите попытку через несколько минут",notSupportedDirection:"К сожалению, это направление перевода не поддерживается",deactivateSubtitle:"Выключить перевод в субтитрах",activateTextAddition:"(в новой вкладке)",allowAccessToFile:'Доступ к локальным файлам PDF отключен. Чтобы переводить файлы PDF, сохраненные на Вашем компьютере, включите опцию "Разрешить открывать локальные файлы по ссылкам" в настройках: Настройка и управление Google Chrome -> Дополнительные инструменты -> Расширения -> Reverso Context – Переводите в контексте -> Подробнее',separateTabPDF:"Когда Reverso активирован, документ открывается в отдельной вкладке",toActivateInSeparateTab:"Для активации Reverso в PDF документе мы открыли его в отдельной вкладке",alarmPDF:"Нажмите, чтобы активировать. Перевод PDF возможен в отдельной вкладке",backToOriginalDocument:"Вернуться к исходному документу",yes:"Да",no:"Нет",remind:"Напомнить об этом через месяц",translateParagraph:"Перевести абзац",reversoTranslation:"Перевод Reverso",translate:"Перевод",stop:"Остановить",wordWeekNotificationTitle:"Reverso Context: Слово недели",wordWeekNotificationTitleMac:"RC: Слово недели",wordWeekNotificationDesc:"Это слово стоит запомнить",wordWeekNotificationDescMac:"Это слово стоит запомнить",wordWeekNotificationSearch:"Поиск",wordWeekNotificationNext:"Далее",incognitoMode:"Вы в режиме инкогнито (приватного просмотра). \n Ваши аутентификационные данные не будут сохранены между сессиями.",incognitoModeForFirefox:"Вы в режиме приватного просмотра. Вы не можете войти в свой аккаунт в этом режиме."},t.LOCALIZATION.fr={OpenLinkTooltip:"Ouvrir le lien ",OriginalPageMess:"Page d'origine: la traduction en un clic n'est pas activée",noTanslatedWords:"Impossible de traduire plus de 50 mots ",noTanslatedWords8:"Traduisez les expressions contenant plus de 8 mots sur Reverso.net ",LinksActivatedMess:"La traduction en un clic est activée: cliquez sur un mot pour le traduire",activateReversoTooltip:"Tous les mots deviennent cliquables et liés à leurs traductions dans Reverso Context",activateReversoSavePagetip:"Sauvegarder la page",closeRVTooltip:"Désactiver le widget sur toutes les pages",titleContextMenu:"Traduisez avec Reverso Context",showButton:"Afficher le bouton Reverso à côté d'un mot selectionné ",skip:"Pas maintenant",activateReversoInPdf:"Activer",activateText:"Activer la traduction pour les PDF?",activateReversoInPdfdescription:"Lorsque cette fonction est activée, vous pourrez utiliser Reverso Context pour traduire dans les documents PDF",dontShowAgain:"Ne plus afficher ce message",activateForSub:"Activer la traduction en sous-titres?",activateSub:"Activer",activateForSubDesc:"Lorsque cette fonction est activée, vous pouvez survoler un mot pour voir sa traduction et cliquer pour voir plus de traductions et d'exemples en contexte",errorSubtitlesSvg:"Les sous-titres ne sont pas valables",loginForSub:"Inscrivez-vous gratuitement pour traduire en sous-titres sur Netflix, Amazon Video et d’autres",loginForSubToolbar:"Inscrivez-vous gratuitement pour traduire dans les sous-titres",signUp:"Inscrivez-vous",login:"Se connecter",cookiesError:"Cookies sont bloqués dans votre navigateur. Autorisez les cookies à traduire sur la page",serverError:"Erreur de connexion. Veuillez réessayer dans quelques minutes",notSupportedDirection:"Désolé, cette direction de traduction n'est pas supportée.",deactivateSubtitle:"Désactiver la traduction en sous-titres",activateTextAddition:"(dans un nouvel onglet)",allowAccessToFile:"L'accès aux fichiers PDF locaux est désactivé. Pour traduire des fichiers PDF qui se trouvent sur votre ordinateur, veuillez activer \"Autoriser l'accès aux URL de fichier\" dans les paramètres : Personnaliser et contrôler Google Chrome -> Plus d'outils -> Extensions -> Reverso Context, traduction et dictionnaire -> Détails",separateTabPDF:"Lorsque Reverso est activé, le document s'ouvre dans un nouvel onglet",toActivateInSeparateTab:"Pour activer Reverso dans le document PDF, nous l'avons ouvert dans un onglet séparé",alarmPDF:"Cliquez ici pour activer la traduction dans les PDF (dans un nouvel onglet)",backToOriginalDocument:"Retour au document original",yes:"Oui ",no:"Non ",remind:"Rappelez-moi de cette fonctionnalité dans un mois",translateParagraph:"Traduire le paragraphe",reversoTranslation:"Reverso Traduction",translate:"Traduction",stop:"Stop",wordWeekNotificationTitle:"Reverso Context: Mot de la semaine",wordWeekNotificationTitleMac:"RC: Mot de la semaine",wordWeekNotificationDesc:"C'est un bon mot à apprendre",wordWeekNotificationDescMac:"Un bon mot à apprendre",wordWeekNotificationSearch:"Rechercher",wordWeekNotificationNext:"Suivant",incognitoMode:"Vous êtes en mode navigation privée. \n Vos données d'authentification ne seront pas enregistrées pour la prochaine session du navigateur.",incognitoModeForFirefox:"Vous êtes en mode navigation privée. Vous ne pouvez pas vous connecter dans ce mode."},t.LOCALIZATION.de={OpenLinkTooltip:"Link öffnen ",OriginalPageMess:"Originalseite: Echtzeit-Übersetzung ist deaktiviert ",noTanslatedWords:"Es können nicht mehr als 50 Wörter übersetzt werden",noTanslatedWords8:"Formulierungen, die mehr als 8 Wörter enthalten, können Sie auf Reverso.net übersetzen",LinksActivatedMess:"Echtzeit-Übersetzung ist aktiviert: Klicken Sie auf ein Wort, um es zu übersetzen",activateReversoTooltip:"Alle Wörter werden anklickbar und in Reverso Context mit ihrer kontextuellen Übersetzung verlinkt",activateReversoSavePagetip:"Seite speichern",closeRVTooltip:"Erweiterungssymbol auf allen Seiten deaktivieren",titleContextMenu:"Mit Reverso Context übersetzen",showButton:"Den Reverso-Button neben der Auswahl anzeigen ",skip:"Nicht jetzt",activateReversoInPdf:"Aktivieren",activateText:"Übersetzung in PDF aktivieren?",activateReversoInPdfdescription:"Wenn diese Funktion aktiviert ist, können Sie Reverso Context verwenden, um in PDF-Dokumente zu übersetzen",dontShowAgain:"Nicht mehr anzeigen",activateForSub:"Möchten Sie die Übersetzung in Untertiteln aktivieren?",activateSub:"Aktivieren",activateForSubDesc:"Wenn diese Funktion aktiviert ist, können Sie den Mauszeiger über ein Wort bewegen, um seine Übersetzung zu sehen. Klicken Sie, um mehr Übersetzungen und Beispiele anzuzeigen",errorSubtitlesSvg:"Die Untertitel sind nicht gültig",loginForSub:"Registrieren Sie sich kostenlos, um Untertitel in Netflix, Amazon Video und weiteren Anbietern zu übersetzen",loginForSubToolbar:"Registrieren Sie sich kostenlos, um in Untertiteln zu übersetzen",signUp:"Registrieren",login:"Einloggen",cookiesError:"Ihr Browser blockiert Cookies. Bitte lassen Sie Cookies zu, um diese Seite zu übersetzen",serverError:"Verbindungsfehler. Bitte versuchen Sie es in einigen Minuten erneut",notSupportedDirection:"Diese Übersetzungsrichtung wird leider nicht unterstützt",deactivateSubtitle:"Übersetzung in Untertiteln deaktivieren",activateTextAddition:"(in neuem Tab)",allowAccessToFile:'Der Zugriff auf lokale PDF-Dateien ist nun deaktiviert. Wenn Sie PDF-Dateien auf Ihrem Computer übersetzen wollen, aktivieren Sie in den Einstellungen "Zugriff auf URLs zulassen": Google Chrome-> Weitere Tools-> Erweiterungen-> Reverso Übersetzungen im Kontext -> Details',separateTabPDF:"Wenn Reverso aktiviert ist, wird das Dokument in einem separaten Tab geöffnet",toActivateInSeparateTab:"Um Reverso im PDF-Dokument zu aktivieren, haben wir es in einem separaten Tab geöffnet",alarmPDF:"Klicken Sie hier, um die PDF-Übersetzung (in neuem Tab) zu aktivieren",backToOriginalDocument:"Zurück zum Originaldokument",yes:"Ja ",no:"Nein ",remind:"Mir in einem Monat an diese Funktion erinnern",translateParagraph:"Absatz übersetzen",reversoTranslation:"Reverso Übersetzung",translate:"Übersetzung",stop:"Stopp",wordWeekNotificationTitle:"Reverso Context: Wort der Woche",wordWeekNotificationTitleMac:"RC: Wort der Woche",wordWeekNotificationDesc:"Das ist ein gutes Wort zu wissen",wordWeekNotificationDescMac:"Ein gutes Wort zu wissen",wordWeekNotificationSearch:"Suche",wordWeekNotificationNext:"Weiter",incognitoMode:"Sie haben den Inkognitomodus (Privaten Modus) aktiviert. \n Ihre Authentifizierungsdaten werden nicht für die nächste Browsersitzung gespeichert.",incognitoModeForFirefox:"Sie haben den Privaten Modus aktiviert. In diesem Modus können Sie sich nicht einloggen."},t.LOCALIZATION.es={OpenLinkTooltip:"Abrir el enlace ",OriginalPageMess:"Página original: la traducción con un clic no está activada",noTanslatedWords:"No se puede traducir más de 50 palabras  ",noTanslatedWords8:"Traduzca las expresiones que contienen más de 8 palabras en Reverso.net ",LinksActivatedMess:"La traducción con un clic está habilitada: haga clic en una palabra para traducirla ",activateReversoTooltip:"Puede ver las traducciones de todas las palabras con un solo clic en Reverso Context",activateReversoSavePagetip:"Guardar la página",closeRVTooltip:"Desactivar el icono en todas las páginas",titleContextMenu:"Traduzca con Reverso Context",showButton:"Mostrar el botón Reverso junto a una palabra seleccionada ",skip:"No ahora",activateReversoInPdf:"Activar",activateText:"¿Activar traducción en PDF?",activateReversoInPdfdescription:"Al activar esta función, podrá utilizar Reverso Context para traducir documentos de PDF",dontShowAgain:"No mostrar de nuevo",activateForSub:"¿Te gustaría activar la traducción en los subtítulos?",activateSub:"Activar",activateForSubDesc:"Al activar esta función, tan solo tiene que situar el cursor en de una palabra para ver su traducción y hacer clic para ver más traducciones y ejemplos",errorSubtitlesSvg:"Los subtítulos no son válidos",loginForSub:"Regístrese gratis para traducir en subtítulos en Netflix, Amazon Video y otros",loginForSubToolbar:"Regístrese gratis para traducir en subtítulos",signUp:"Registro",login:"Conectar",cookiesError:"Las cookies están bloqueadas en su navegador. Por favor, habilite las cookies para poder traducir dentro de la página",serverError:"Error de conexión. Por favor, inténtelo de nuevo en unos minutos",notSupportedDirection:"Lo sentimos, esta dirección de traducción no se soporta",deactivateSubtitle:"Desactivar la traducción en subtítulos",activateTextAddition:"(en una nueva pestaña)",allowAccessToFile:'El acceso a los archivos PDF está deshabilitado. Si desea traducir los archivos PDF guardados en su ordenador, activa la opción "Permitir acceso a URL de archivo": Personalice y controle Google Chrome -> Más herramientas -> Extensiones -> Reverso Context - Traducción en contexto -> Detalles',separateTabPDF:"Al activar Reverso, el documento se abrirá en una nueva pestaña",toActivateInSeparateTab:"Para activar Reverso en el documento PDF lo abrimos en una nueva pestaña",alarmPDF:"Haz clic aquí para activar la traducción en PDF (en una nueva pestaña)",backToOriginalDocument:"Volver al documento original",yes:"Sí ",no:"No ",remind:"Recuérdeme sobre esta función en un mes",translateParagraph:"Traducir el párrafo",reversoTranslation:"Reverso Traducción",translate:"Traducir",stop:"Parar",wordWeekNotificationTitle:"Reverso Context: Palabra de la semana",wordWeekNotificationTitleMac:"RC: Palabra de la semana",wordWeekNotificationDesc:"Una buena palabra para aprender",wordWeekNotificationDescMac:"Una palabra para saber",wordWeekNotificationSearch:"Buscar",wordWeekNotificationNext:"Siguiente",incognitoMode:"Ha iniciado una sesión de incógnito (navegación privada). \n Sus datos de autenticación no se guardarán para la próxima sesión.",incognitoModeForFirefox:"Ha iniciado una sesión de navegación privada.  No puede acceder a su cuenta en este modo."},t.LOCALIZATION.it={OpenLinkTooltip:"Aprire il link ",OriginalPageMess:"Pagina originale: la traduzione con un click non è attivata",noTanslatedWords:"Non è possibile tradurre più di 50 parole ",noTanslatedWords8:"L'espressione tradotta contiene più di 8 parole su Reverso.net",LinksActivatedMess:"La traduzione con un click è attivata: clicca su qualsiasi parola per tradurla",activateReversoTooltip:"Tutte le parole diventano cliccabili e portano alla traduzione corrispondente in Reverso Context",activateReversoSavePagetip:"Salvare la pagina",closeRVTooltip:"Disabilita l'icona su tutte le pagine",titleContextMenu:"Traduci con Reverso Context",showButton:"Mostra il pulsante Reverso accanto alla selezione",skip:"Non ora",activateReversoInPdf:"Attivare",activateText:"Attivare la traduzione nei PDF?",activateReversoInPdfdescription:"Quando la funzione è attivata, puoi usare Reverso Context per tradurre contenuto in documenti PDF",dontShowAgain:"Non mostrare più",activateForSub:"Vorresti attivare la traduzione nei sottotitoli?",activateSub:"Attivare",activateForSubDesc:"Passa il mouse sopra una o più parole per vedere come si traducono, cliccaci sopra per vedere altre traduzioni ed esempi",errorSubtitlesSvg:"I sottotitoli non sono validi",loginForSub:"Registrati gratuitamente per tradurre i sottotitoli in Netflix, Amazon Video e in altri servizi",loginForSubToolbar:"Registrati gratuitamente per tradurre i sottotitoli",signUp:"Registrati",login:" Connettiti",cookiesError:"I cookie sono bloccati nel tuo browser. Si prega di consentire ai cookie di tradurre nella pagina",serverError:"Errore di connessione. Per favore riprova tra qualche minuto",notSupportedDirection:"Ci scusiamo ma questa direzione di traduzione non è supportata",deactivateSubtitle:"Disattiva la traduzione nei sottotitoli",activateTextAddition:"(in una nuova scheda)",allowAccessToFile:"L'accesso ai file PDF locali è disabilitato. Se vuoi tradurre file PDF sul tuo computer, attiva l'opzione \"Consenti l'accesso agli URL dei file\": Personalizza e controlla Google Chrome -> Altri strumenti -> Estensioni -> Reverso Context - traduzione in contesto -> Dettagli",separateTabPDF:"Quando Reverso è attivato, il documento si apre in una nuova scheda",toActivateInSeparateTab:"Il documento PDF è stato aperto in una nuova scheda per consentire l'attivazione di Reverso",alarmPDF:"Clicca per attivare e potrai tradurre all'interno del PDF in una scheda separata",backToOriginalDocument:"Torna al documento originale",yes:"Sì ",no:"No ",remind:"Ricordami di questa funzione in un mese",translateParagraph:"Tradurre il paragrafo",reversoTranslation:"Traduzione Reverso",translate:"Traduzione",stop:"Ferma",wordWeekNotificationTitle:"Reverso Context: Parola della settimana",wordWeekNotificationTitleMac:"RC: Parola della settimana",wordWeekNotificationDesc:"Questa è una buona parola da sapere",wordWeekNotificationDescMac:"Una buona parola da sapere",wordWeekNotificationSearch:"Ricerca",wordWeekNotificationNext:"Successivo",incognitoMode:"Sei passato alla navigazione in incognito (navigazione anonima). \n I dati di autenticazione non verranno salvati per la prossima sessione del browser.",incognitoModeForFirefox:"Sei passato alla navigazione anonima. Non è possibile effettuare il login in questa modalità."},t.LOCALIZATION.get=t.LOCALIZATION[o.settings_interface_lang]||t.LOCALIZATION.en,window.LOCALIZATION_REVERSO_R=t.LOCALIZATION},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[0,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=function(){function e(){this.xhr=new XMLHttpRequest,this.xhr.timeout=35e3}return e.prototype.get=function(e,t){var n=this;try{return new Promise(function(o,r){if(n.abort(),n.xhr.open("GET",e,!0),t)for(var i=0,a=Object.entries(t);i<a.length;i++){var s=a[i],l=s[0],c=s[1];n.xhr.setRequestHeader(l,c)}t&&t["Content-Type"]||n.xhr.setRequestHeader("Content-Type","application/json; charset=utf-8"),n.xhr.onload=function(e){if(200===n.xhr.status)o(n.xhr.response);else{var t=new Error(n.xhr.statusText);t.code=n.xhr.status,r(t)}},n.xhr.onprogress=null,n.xhr.onabort=function(e){return r(e)},n.xhr.ontimeout=function(e){return r(e)},n.xhr.onerror=function(e){return r(e)},n.xhr.send()})}catch(e){i.ErrorHandling.send("http.ts -> Http -> get() : "+(e.stack?e.stack:e))}},e.prototype.post=function(e,t,n){var o=this;try{return new Promise(function(r,i){if(o.abort(),o.xhr.open("POST",e,!0),n)for(var a=0,s=Object.entries(n);a<s.length;a++){var l=s[a],c=l[0],u=l[1];o.xhr.setRequestHeader(c,u)}n&&n["Content-Type"]||o.xhr.setRequestHeader("Content-Type","application/json; charset=utf-8"),o.xhr.onload=function(e){if(200===o.xhr.status)r(o.xhr.response);else{var t=new Error(o.xhr.statusText);t.code=o.xhr.status,i(t)}},o.xhr.onprogress=null,o.xhr.onabort=function(e){return i(e)},o.xhr.ontimeout=function(e){return i(e)},o.xhr.onerror=function(e){return i(e)};var d="";if("string"==typeof t)d=t;else{for(var h=0,g=Object.entries(t);h<g.length;h++){var f=g[h];d+=(c=f[0])+"="+(u=f[1])+"&"}d=d.slice(0,-1)}o.xhr.send(d)})}catch(e){i.ErrorHandling.send("http.ts -> Http -> post() : "+(e.stack?e.stack:e))}},e.prototype.abort=function(){try{if(!this.xhr)return;this.xhr.abort()}catch(e){i.ErrorHandling.send("http.ts -> Http -> abort() : "+(e.stack?e.stack:e))}},e.prototype.postFetch=function(e,t){return o(this,void 0,void 0,function(){var n,o;return r(this,function(r){switch(r.label){case 0:this.abort(),n=new Headers({Connection:"keep-alive",Accept:"*/*","Content-Type":"application/json"}),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,fetch(e,{headers:n,method:"POST",body:"string"==typeof t?t:JSON.stringify(t),mode:"cors",cache:"default"})];case 2:return[4,r.sent().json()];case 3:return[2,r.sent()];case 4:throw(o=r.sent()).code&&20===o.code?null:o;case 5:return[2]}})})},e}();t.Http=a},function(e,t,n){e.exports=function(){var e=e||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),o={},r=o.lib={},i=r.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=r.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,o=this.sigBytes,r=e.sigBytes;if(this.clamp(),o%4)for(var i=0;i<r;i++){var a=n[i>>>2]>>>24-i%4*8&255;t[o+i>>>2]|=a<<24-(o+i)%4*8}else for(var i=0;i<r;i+=4)t[o+i>>>2]=n[i>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,o=[],r=function(t){var t=t,n=987654321,o=4294967295;return function(){var r=((n=36969*(65535&n)+(n>>16)&o)<<16)+(t=18e3*(65535&t)+(t>>16)&o)&o;return r/=4294967296,(r+=.5)*(e.random()>.5?1:-1)}},i=0;i<t;i+=4){var s=r(4294967296*(n||e.random()));n=987654071*s(),o.push(4294967296*s()|0)}return new a.init(o,t)}}),s=o.enc={},l=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,o=[],r=0;r<n;r++){var i=t[r>>>2]>>>24-r%4*8&255;o.push((i>>>4).toString(16)),o.push((15&i).toString(16))}return o.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o+=2)n[o>>>3]|=parseInt(e.substr(o,2),16)<<24-o%8*4;return new a.init(n,t/2)}},c=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,o=[],r=0;r<n;r++){var i=t[r>>>2]>>>24-r%4*8&255;o.push(String.fromCharCode(i))}return o.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o++)n[o>>>2]|=(255&e.charCodeAt(o))<<24-o%4*8;return new a.init(n,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},d=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,o=n.words,r=n.sigBytes,i=this.blockSize,s=4*i,l=r/s,c=(l=t?e.ceil(l):e.max((0|l)-this._minBufferSize,0))*i,u=e.min(4*c,r);if(c){for(var d=0;d<c;d+=i)this._doProcessBlock(o,d);var h=o.splice(0,c);n.sigBytes-=u}return new a.init(h,u)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(r.Hasher=d.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new h.HMAC.init(e,n).finalize(t)}}}),o.algo={});return o}(Math);return e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=n(1),i=function(){function e(){this.messageBlock=null,this.textBlock=null,this.buttonsBlock=null,this.footerBlock=null}return e.prototype.show=function(e,t,n,i){var a=this;void 0===e&&(e=""),void 0===t&&(t="basic"),void 0===n&&(n=!1),void 0===i&&(i=!1);try{if(o.isIframe()&&!i)return!1;this.hide(),this.messageBlock=document.createElement("messageext");var s=0;this.messageBlock.id="message_RR",this.messageBlock.innerText=e,this.messageBlock.className=t+(o.isMobile()?" isMobile-reverso":""),(document.body||document.documentElement).appendChild(this.messageBlock),document.querySelector("#reverso-context-block-bar")&&(s=document.querySelector("#reverso-context-block-bar").getBoundingClientRect().left||0)-this.messageBlock.getBoundingClientRect().width/2>0&&(s=s-this.messageBlock.getBoundingClientRect().width/2+document.querySelector("#reverso-context-block-bar").getBoundingClientRect().width/2),this.messageBlock.style.left=s+"px",n||setTimeout(function(){a.messageBlock.className="",a.messageBlock.innerText="",a.hide()},5120)}catch(e){r.ErrorHandling.send("modal.class.ts -> Modal -> show() : "+(e.stack?e.stack:e))}},e.prototype.hide=function(){try{this.messageBlock&&this.messageBlock.remove()}catch(e){r.ErrorHandling.send("modal.class.ts -> Modal -> hide() : "+(e.stack?e.stack:e))}},e.prototype.displayPopup=function(e,t){void 0===e&&(e=""),void 0===t&&(t=!1);try{if(o.isIframe())return!1;this.hide(),this.messageBlock=document.createElement("div"),this.buttonsBlock=document.createElement("div"),this.footerBlock=document.createElement("div"),this.textBlock=document.createElement("span"),this.textBlock.id="Reverso_extension__logo-row";var n=document.createTextNode(e),i=document.createElement("span");if(i.id="Reverso_extension__logo",this.textBlock.appendChild(i),this.textBlock.appendChild(n),this.messageBlock.appendChild(this.textBlock),this.buttonsBlock.id="Reverso_extension__buttons",this.messageBlock.appendChild(this.buttonsBlock),this.footerBlock.id="Reverso_extension__footer",this.messageBlock.appendChild(this.footerBlock),this.messageBlock.id="Reverso_extension__popup_id",t){var a=document.querySelector("embed");document.body&&a?document.body.insertBefore(this.messageBlock,a):document.body&&document.body.firstChild?document.body.insertBefore(this.messageBlock,document.body.firstChild):document.body.appendChild(this.messageBlock)}else this.messageBlock.classList.add("subtitle-popup"),document.body&&document.body.appendChild(this.messageBlock)}catch(e){r.ErrorHandling.send("modal.class.ts -> Modal -> displayPopup() : "+(e.stack?e.stack:e))}},e.prototype.addButtons=function(e){var t=this;try{if(!this.buttonsBlock)return;e.forEach(function(e,n){var o=document.createElement("span");o.className=e.classNameList+" RC_extension__modal-button",o.textContent=e.text,o.onclick=e.callback,e.tooltipText&&e.tooltipText.trim()&&o.setAttribute("tooltip",e.tooltipText),t[e.root]&&t[e.root].appendChild?t[e.root].appendChild(o):t.buttonsBlock.appendChild(o)})}catch(e){r.ErrorHandling.send("modal.class.ts -> Modal -> addButtons() : "+(e.stack?e.stack:e))}},e.prototype.addToggles=function(e,t){try{if(!e)return;t.forEach(function(t,n){var o=document.createElement("label"),r=document.createElement("input"),i=document.createElement("span");i.className="slider",r.id="RC_extension__toggle_"+n,o.className=t.classNameList+" RC_extension__toggle"+(t.checked?" active":""),o.textContent=t.text,o.onclick=function(){o.classList.remove("active"),t.callback(),o.onclick=null},o.htmlFor=r.id,t.tooltipText&&t.tooltipText.trim()&&o.setAttribute("tooltip",t.tooltipText),o.appendChild(r),o.appendChild(i),e.appendChild(o)})}catch(e){r.ErrorHandling.send("modal.class.ts -> Modal -> addToggles() : "+(e.stack?e.stack:e))}},e.prototype.addDesc=function(e){try{if(!this.messageBlock)return;var t=document.createElement("span");t.id="Reverso_extension__description",t.textContent=e,this.messageBlock.appendChild(t)}catch(e){r.ErrorHandling.send("modal.class.ts -> Modal -> addDesc() : "+(e.stack?e.stack:e))}},e}();t.Modal=i},function(e,t){self.CONFIG={version:"undefined"!=typeof chrome&&chrome.runtime&&chrome.runtime.getManifest&&chrome.runtime.getManifest().version?chrome.runtime.getManifest().version:"2.2.201",server:"https://cps.reverso.net",apiVersion:"2",GAS2:!0,limitPage:30,limitHistory:10,prefixStorage:"Reverso_extension_",invalidToken:1001,cachetime:18e5,cachetimeDir:864e5,langSupported:["en","fr","es","de","ru","it"],wordCountLimit:5,limitWholeText:299,limitWordForReverso:3100,limitWordForReversoHieroglyph:3100,gaTrackingId:"UA-2834324-50",currentYear:(new Date).getFullYear(),iframeUrl:"undefined"!=typeof chrome&&chrome.runtime&&chrome.runtime.id?null:"/users/injectScript/",activation_mode:"showButtonTransl",translateParagraph:!0,translatePage:{showButton:!0,position:{vertical:"bottom",horizontal:"right"},theme:"light",reversoAPI:{urlRI:"https://api.translation.ent.reverso.net/ri6/riws/Services/RestTranslation.svc/v1",urlLanguageDetect:"https://api.translation.ent.reverso.net/ri62/langdetect",username:"RI5DEMO",password:"123",riVersion:"6.1",timeout:2e4,userTemplates:{},tmEnabled:!1,tmIds:["TM_EN_FR_test"],alternatives:!1,transliterate:!0,useStream:!0,maxNbFragmentsPerJob:24}},checkNotificationInterval:30,notificationDay:1,notificationTimeStar:13,GASErrorTimeDelay:6e5}},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[0,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(1),s=n(4),l=function(){function e(){this.thisSource=null,this.langSupported=["EN","FR","ES","DE","RU","IT"]}return e.prototype.userLanguage=function(){try{var e=navigator.userLanguage||navigator.language;return e.length>2&&(e=e.slice(0,2)),this.langSupported.indexOf(e.toUpperCase())>-1?e.toLowerCase():this.langSupported[0].toLowerCase()}catch(e){a.ErrorHandling.send("language.class.ts -> Language -> userLanguage() : "+(e.stack?e.stack:e))}},e.prototype.source=function(){try{var e=null;try{e=localStorage.getItem("ReversoReader_langSource")?localStorage.getItem("ReversoReader_langSource").toLowerCase():null}catch(e){}var t=e?e.toLowerCase():document.querySelector("html")&&document.querySelector("html").getAttribute("lang")?document.querySelector("html").getAttribute("lang").toLowerCase():null;if(!t&&document.querySelectorAll("meta").length>0)for(var n=0;n<document.querySelectorAll("meta").length;n++){var o=document.querySelectorAll("meta")[n];if(o&&o.getAttribute&&o.getAttribute("http-equiv")&&"content-language"===o.getAttribute("http-equiv").toLowerCase()&&o.getAttribute("content")&&""!==o.getAttribute("content").trim()){t=o.getAttribute("content").toLowerCase();break}}return t=t&&t.length>2?t.slice(0,2):t}catch(e){a.ErrorHandling.send("language.class.ts -> Language -> source() : "+(e.stack?e.stack:e))}},e.prototype.sourceSubtitle=function(){try{var e=null;try{e=localStorage.getItem("ReversoReader_langSourceSub")?localStorage.getItem("ReversoReader_langSourceSub").toLowerCase():null}catch(e){}return e||(localStorage.setItem("ReversoReader_langSourceSub","en"),e="en"),e=e&&e.length>2?e.slice(0,2):e,i.siteLang=e,e}catch(e){a.ErrorHandling.send("language.class.ts -> Language -> sourceSubtitle() : "+(e.stack?e.stack:e))}},e.prototype.directionsSubtitle=function(){var e=this;try{return new Promise(function(t,n){e.target().then(function(n){var o={langSource:"",langTarget:""};o.langTarget=n,o.langSource=e.sourceSubtitle(),o.langSource===o.langTarget?e.sourceFromPopup().then(function(e){o.langTarget=e||("en"===o.langSource?"fr":"en"),t(o)}):t(o)})})}catch(e){a.ErrorHandling.send("language.class.ts -> Language -> sourceSubtitle() : "+(e.stack?e.stack:e))}},e.prototype.sourceFromPopup=function(){try{return new Promise(function(e,t){"undefined"!=typeof chrome&&chrome.runtime&&chrome.runtime.sendMessage?chrome.runtime.sendMessage({getLangSource:!0},function(t){e(t)}):e(null)})}catch(e){a.ErrorHandling.send("language.class.ts -> Language -> sourceFromPopup() : "+(e.stack?e.stack:e))}},e.prototype.target=function(){var e=this;try{return new Promise(function(t,n){if(!i.isExtension||"undefined"!=typeof chrome&&!chrome.runtime.id){var o=localStorage.getItem("injectedScript_settings_lang_target");if(!o||""===o){var r=e.source();o=r?"en"===r?"fr":"en":i.nativeLang}t(o)}else"undefined"!=typeof chrome&&chrome.runtime&&chrome.runtime.sendMessage?chrome.runtime.sendMessage({getLangTarget:!0},function(n){if(!n||""===n){var o=e.source();n=o?"en"===o?"fr":"en":i.nativeLang}t(n)}):t(i.nativeLang)})}catch(e){a.ErrorHandling.send("language.class.ts -> Language -> target() : "+(e.stack?e.stack:e))}},e.prototype.getLangCodeForReverso=function(e,t,n){void 0===n&&(n=i.directions);try{if(!n)return null;if(!e||!t)return null;for(var o=null,r=0,s=n;r<s.length;r++){var l=s[r];if(l.id.trim()===e.trim()){var c=l.targets.filter(function(e){return e.id===t.trim()});c.length>0&&c[0].code&&(o=c[0].code)}}return o}catch(e){a.ErrorHandling.send("language.class.ts -> Language -> getLangCodeForReverso() : "+(e.stack?e.stack:e))}},e.prototype.getDirections=function(e,t){return void 0===e&&(e=!1),void 0===t&&(t=i.APP_LANG),o(this,void 0,void 0,function(){var e,n,o,a;return r(this,function(r){switch(r.label){case 0:if(i.directions)return[2,i.directions];e={origin:i.origin,uiLang:t,version:i.version},o=new s.Http,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,o.postFetch(i.server+"/api"+i.apiVersion+"/GetDirections/"+t,e)];case 2:return n=r.sent(),[3,4];case 3:return a=r.sent(),console.error(a),[2,null];case 4:return n&&n.directions?(i.directions=n.directions,[2,n.directions]):[2,null]}})})},e.prototype.checkTranslateTextCps=function(e,t){return o(this,void 0,void 0,function(){var n,o,s,l,c;return r(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.getDirections()];case 1:return r.sent(),[3,3];case 2:return n=r.sent(),console.error(n),[3,3];case 3:try{if(!i.directions)return[2,!1];if(!e||!t)return[2,!1];for(o=!1,s=0,l=i.directions;s<l.length;s++)(c=l[s]).id.trim()===e.trim()&&c.targets.map(function(e){e.id.trim()===t.trim()&&e.translateTextCps&&!0===e.translateTextCps&&(o=!0)});return[2,o]}catch(e){a.ErrorHandling.send("language.class.ts -> Language -> checkTranslateTextCps() : "+(e.stack?e.stack:e))}return[2]}})})},e}();t.default=new l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1),i=n(3),a=n(6),s=n(11),l=new a.Modal,c=function(){function e(){this.selector=null,this.subtitlesBuffer=[],this.activeSubIndex=-1,this.oldSubtitleText="",this.ready=!1,this.svgSubtitleMsg=!1,this.timer=null,this.videoSrc=null,this.timerSrc=null}return e.prototype.checkSelector=function(){try{if(!o.subtitleSelectors)return!1;for(var e=!1,t=0,n=o.subtitleSelectors;t<n.length;t++){if(n[t].host===location.host){e=!0;break}}return e}catch(e){r.ErrorHandling.send("subtitle.class.ts -> Subtitle -> getSelector() : "+(e.stack?e.stack:e))}},e.prototype.getSelector=function(){try{if(!o.subtitleSelectors)return!1;for(var e=0,t=o.subtitleSelectors;e<t.length;e++){var n=t[e];if(n.host===location.host){this.selector=n,o.subtitleSelector=n,this.subtitlesBuffer=[],this.activeSubIndex=-1,this.video=null;break}}}catch(e){r.ErrorHandling.send("subtitle.class.ts -> Subtitle -> getSelector() : "+(e.stack?e.stack:e))}},e.prototype.checkSubtitles=function(){var e=this;try{return new Promise(function(t,n){var o=0;e.timer=setInterval(function(){o>300&&(clearInterval(e.timer),n("Error: checkSubtitles no video or subs")),++o,e.getVideo()&&e.getSubtitles()&&(clearInterval(e.timer),e.injectStyle(),t(!0))},1e3)})}catch(e){r.ErrorHandling.send("subtitle.class.ts -> Subtitle -> checkSubtitles() : "+(e.stack?e.stack:e))}},e.prototype.getVideo=function(){try{return this.video=document.querySelector(this.selector.video),!!this.video}catch(e){r.ErrorHandling.send("subtitle.class.ts -> Subtitle -> getVideo() : "+(e.stack?e.stack:e))}},e.prototype.getSubtitles=function(){try{return!!document.querySelector(this.selector.subtitleText)}catch(e){r.ErrorHandling.send("subtitle.class.ts -> Subtitle -> getSubtitles() : "+(e.stack?e.stack:e))}},e.prototype.checkSvgSubtitle=function(){try{if(document.querySelector(this.selector.subtitleSVG)){if(this.svgSubtitleMsg)return;l.show(i.LOCALIZATION.get.errorSubtitlesSvg,"error",!0),this.svgSubtitleMsg=!0,this.ourSubtitleContainer.style.display="none"}else{if(!this.svgSubtitleMsg)return;l.hide(),this.svgSubtitleMsg=!1,this.ourSubtitleContainer.style.display="block"}}catch(e){r.ErrorHandling.send("subtitle.class.ts -> Subtitle -> checkSvgSubtitle() : "+(e.stack?e.stack:e))}},e.prototype.addObserverSubtitle=function(){var e=this;try{var t=document.querySelector(this.selector.subtitleObserver);if(!t)return!1;var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;this.observerSub=new n(function(t){e.subtitleText=document.querySelector(e.selector.subtitleText),e.subtitleText&&e.subtitleText.textContent.trim()!==e.oldSubtitleText.trim()&&!e.video.paused?e.updateBuffer():e.subtitleText||(document.querySelector(e.selector.controlSubtitleBtn)?e.triggerActive(e.ourSubtitleContainer,!0):e.ourSubtitleContainer.style.display="none")});this.observerSub.observe(t,{childList:!0,subtree:!0,characterData:!0})}catch(e){console.error(e),r.ErrorHandling.send("subtitle.class.ts -> Subtitle -> addObserver() : "+(e.stack?e.stack:e))}},e.prototype.addObserverPlayerContainer=function(){var e=this;try{var t=document.querySelector(this.selector.playerObserver);if(!t)return!1;var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;this.observerPlayer=new n(function(t){e.checkSvgSubtitle()});this.observerPlayer.observe(t,{childList:!0,subtree:!0})}catch(e){console.error(e),r.ErrorHandling.send("subtitle.class.ts -> Subtitle -> addObserverSVG() : "+(e.stack?e.stack:e))}},e.prototype.create=function(){var e=this;try{if(this.oldSubtitleText="",this.insertBlock=document.querySelector(this.selector.insertBlock),!this.insertBlock)return!1;this.ourSubtitleContainer=document.querySelector(this.selector.ourSubtitleContainer),this.subtitleObserver=document.querySelector(this.selector.subtitleObserver),this.subtitleText=document.querySelector(this.selector.subtitleText),this.ourSubtitleInner=document.querySelector("#Reverso_extension__subtitle-inner"),this.ourSubtitleArrLeft=document.querySelector("#Reverso_extension__subtitle-container #change-sub-arr-l"),this.ourSubtitleArrRight=document.querySelector("#Reverso_extension__subtitle-container #change-sub-arr-r"),this.ourSubtitleCloak=document.querySelector("#change-sub-cloak"),this.ourSubtitleCloak||(this.ourSubtitleCloak=document.createElement("div"),this.ourSubtitleCloak.id="change-sub-cloak",this.insertBlock.appendChild(this.ourSubtitleCloak)),this.ourSubtitleContainer||(this.ourSubtitleContainer=document.createElement("div"),this.ourSubtitleContainer.id="Reverso_extension__subtitle-container",this.ourSubtitleContainer.classList.add(o.origin),this.insertBlock.appendChild(this.ourSubtitleContainer)),this.ourSubtitleInner||(this.ourSubtitleInner=document.createElement("div"),this.ourSubtitleInner.id="Reverso_extension__subtitle-inner",this.ourSubtitleContainer.appendChild(this.ourSubtitleInner)),this.ourSubtitleArrLeft||(this.ourSubtitleArrLeft=document.createElement("div"),this.ourSubtitleArrLeft.id="change-sub-arr-l",this.ourSubtitleArrLeft.onclick=function(t){e.prev()},this.ourSubtitleContainer.appendChild(this.ourSubtitleArrLeft)),this.ourSubtitleArrRight||(this.ourSubtitleArrRight=document.createElement("div"),this.ourSubtitleArrRight.id="change-sub-arr-r",this.ourSubtitleArrRight.onclick=function(t){e.next()},this.ourSubtitleContainer.appendChild(this.ourSubtitleArrRight)),this.updateBuffer()}catch(e){r.ErrorHandling.send("subtitle.class.ts -> Subtitle -> create() : "+(e.stack?e.stack:e))}},Object.defineProperty(e.prototype,"text",{get:function(){try{var e="";this.oldSubtitleText=this.subtitleText.textContent.trim();var t=new RegExp(/DIV|BR/),n=function(o){o.hasChildNodes&&[].forEach.call(o.childNodes,function(e){n(e)}),t.test(o.nodeName)&&(e+=" "),3===o.nodeType&&(e+=o.nodeValue.trim()+" ")};return n(this.subtitleText),e.replace(/\s\s+/g," ").trim()}catch(e){return r.ErrorHandling.send("subtitle.class.ts -> Subtitle -> text() : "+(e.stack?e.stack:e)),""}},enumerable:!0,configurable:!0}),e.prototype.updateBuffer=function(){try{this.subtitleText&&""!==this.subtitleText.textContent.trim()?(this.subtitlesBuffer.length>=this.selector.subtitlesBufferCount&&this.subtitlesBuffer.shift(),this.subtitlesBuffer.push(this.text),this.ourSubtitleContainer&&(this.ourSubtitleContainer.classList.remove("no-subs"),this.ourSubtitleContainer.style.display="block"),this.updateActiveSubIndex(this.subtitlesBuffer.length-1)):(this.triggerActive(this.ourSubtitleContainer,!0),this.ourSubtitleContainer&&(0===this.subtitlesBuffer.length&&(this.ourSubtitleContainer.style.display="none"),this.ourSubtitleContainer.classList.add("no-subs")),this.oldSubtitleText="")}catch(e){r.ErrorHandling.send("subtitle.class.ts -> Subtitle -> updateBuffer() : "+(e.stack?e.stack:e))}},e.prototype.updateActiveSubIndex=function(e){try{if(e<-1||e>=this.subtitlesBuffer.length)return!1;if(this.activeSubIndex=e,1===this.subtitlesBuffer.length)this.triggerActive(this.ourSubtitleArrLeft,!0),this.triggerActive(this.ourSubtitleArrRight,!0),this.triggerActive(this.ourSubtitleCloak,!0);else if(e>0&&e<this.subtitlesBuffer.length-1)this.triggerActive(this.ourSubtitleArrLeft),this.triggerActive(this.ourSubtitleArrRight),this.triggerActive(this.ourSubtitleCloak);else if(e===this.subtitlesBuffer.length-1)this.triggerActive(this.ourSubtitleArrLeft),this.triggerActive(this.ourSubtitleArrRight,!0),this.triggerActive(this.ourSubtitleCloak,!0);else{if(0!==e)return!1;this.triggerActive(this.ourSubtitleArrLeft,!0),this.triggerActive(this.ourSubtitleArrRight),this.triggerActive(this.ourSubtitleCloak)}this.updateText()}catch(e){r.ErrorHandling.send("subtitle.class.ts -> Subtitle -> updateActiveSubIndex() : "+(e.stack?e.stack:e))}},e.prototype.updateText=function(){try{if(this.ourSubtitleInner=document.querySelector("#Reverso_extension__subtitle-inner"),!this.ourSubtitleInner)return!1;var e="";this.subtitleText&&this.subtitleText.getAttribute("dir")?e=this.subtitleText.getAttribute("dir"):this.subtitleText&&this.subtitleText.parentNode&&this.subtitleText.parentNode.getAttribute("dir")&&(e=this.subtitleText.parentNode.getAttribute("dir")),void 0!==this.subtitlesBuffer[this.activeSubIndex]&&(this.ourSubtitleInner.textContent=this.subtitlesBuffer[this.activeSubIndex],this.wordWrap&&this.wordWrap(this.ourSubtitleInner,"subtitle-oneclick"),this.updatePosition(),this.ourSubtitleInner.setAttribute("dir",e))}catch(e){r.ErrorHandling.send("subtitle.class.ts -> Subtitle -> updateText() : "+(e.stack?e.stack:e))}},e.prototype.updatePosition=function(){try{if(this.triggerActive(this.ourSubtitleContainer),this.ourSubtitleContainer.style.height=this.ourSubtitleInner.offsetHeight+"px",this.ourSubtitleInner.style.top="calc(50% - "+this.ourSubtitleInner.offsetHeight/2+"px )",this.ourSubtitleInner.style.left="calc(50% - "+this.ourSubtitleInner.offsetWidth/2+"px )",this.subtitlePosition=document.querySelector(this.selector.subtitlePosition),!this.subtitlePosition)return!1;0!==this.subtitlePosition.getBoundingClientRect().height&&0!==this.subtitlePosition.getBoundingClientRect().width&&(this.subtitlePosition.getBoundingClientRect().top<window.innerHeight/2?this.ourSubtitleContainer.classList.add("top"):this.ourSubtitleContainer.classList.remove("top"))}catch(e){r.ErrorHandling.send("subtitle.class.ts -> Subtitle -> updatePosition() : "+(e.stack?e.stack:e))}},e.prototype.triggerActive=function(e,t){void 0===t&&(t=!1);try{if(!e)return!1;if(t)return e.classList.remove("active"),!1;e.classList.add("active")}catch(e){r.ErrorHandling.send("subtitle.class.ts -> Subtitle -> triggerActive() : "+(e.stack?e.stack:e))}},e.prototype.next=function(){try{this.updateActiveSubIndex(this.activeSubIndex+1)}catch(e){r.ErrorHandling.send("subtitle.class.ts -> Subtitle -> next() : "+(e.stack?e.stack:e))}},e.prototype.prev=function(){try{this.updateActiveSubIndex(this.activeSubIndex-1)}catch(e){r.ErrorHandling.send("subtitle.class.ts -> Subtitle -> prev() : "+(e.stack?e.stack:e))}},e.prototype.injectStyle=function(){try{if(document.querySelector("#ReversoReaderExtension__subtitle_css"))return!1;this.style=document.createElement("style"),this.style.id="ReversoReaderExtension__subtitle_css",this.style.type="text/css",this.style.styleSheet?this.style.styleSheet.cssText=this.selector.css:this.style.appendChild(document.createTextNode(this.selector.css)),document.head.appendChild(this.style)}catch(e){r.ErrorHandling.send("subtitle.class.ts -> Subtitle -> injectStyle() : "+(e.stack?e.stack:e))}},e.prototype.intervalCheckVideoSrc=function(){var e=this;if("amazon"!==this.selector.name)return!1;this.timerSrc&&clearInterval(this.timerSrc),this.timerSrc=setInterval(function(){document.querySelector(e.selector.video)&&document.querySelector(e.selector.video).src.trim()&&document.querySelector(e.selector.video).src.trim()!==e.videoSrc&&(e.videoSrc=document.querySelector(e.selector.video).src.trim(),s.Actions.run("activateSubtitleMode"))},1e3)},e.prototype.off=function(){try{this.timer&&clearInterval(this.timer),this.timerSrc&&clearInterval(this.timerSrc),this.observerSub&&this.observerSub.disconnect(),this.observerPlayer&&this.observerPlayer.disconnect(),document.querySelector("#ReversoReaderExtension__subtitle_css")&&document.querySelector("#ReversoReaderExtension__subtitle_css").remove(),this.ourSubtitleContainer&&this.ourSubtitleContainer.remove(),this.ourSubtitleCloak&&this.ourSubtitleCloak.remove(),this.subtitlesBuffer=[],this.activeSubIndex=-1;try{this.video.removeEventListener("playing",this.playingCallBack,!1)}catch(e){}}catch(e){r.ErrorHandling.send("subtitle.class.ts -> Subtitle -> off() : "+(e.stack?e.stack:e))}},e}();t.default=new c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new RegExp("[\\u3041-\\u3096\\u309D-\\u309F]|\\uD82C\\uDC01|\\uD83C\\uDE00|[\\u30A1-\\u30FA\\u30FD-\\u30FF\\u31F0-\\u31FF\\u32D0-\\u32FE\\u3300-\\u3357\\uFF66-\\uFF6F\\uFF71-\\uFF9D]|\\uD82C\\uDC00|[\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u3005\\u3007\\u3021-\\u3029\\u3038-\\u303B\\u3400-\\u4DB5\\u4E00-\\u9FD5\\uF900-\\uFA6D\\uFA70-\\uFAD9]|[\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872][\\uDC00-\\uDFFF]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1]|\\uD87E[\\uDC00-\\uDE1D]").test(e)}},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[0,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(1),s=n(3),l=n(41),c=n(40),u=n(20),d=n(39),h=n(8),g=n(19),f=n(38),p=n(17),m=n(2),v=n(12),b=n(37),y=n(16),S=n(6),w=n(15),x=new S.Modal,k=function(){function e(){}return e.run=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];try{return e[t].apply(e,n)}catch(e){console.error(e),a.ErrorHandling.send("actions.ts -> Actions -> "+t+"() : "+(e.stack?e.stack:e))}},e.removeIframe=function(){document.querySelectorAll("hghlght")&&document.querySelectorAll("hghlght").length>0&&window.getSelection().removeAllRanges(),l.default.remove(),e.removeHighlight(),e.removeShowButtonTransl(),localStorage.removeItem("SelectionForReversoReader"),b.default.check()&&b.default.subHint&&(b.default.subHint.target=null,b.default.subHint.abort())},e.playerPlay=function(){b.default.check()&&b.default.sub.checkSelector()&&b.default.sub.video&&b.default.subPlayer.isPaused()&&!b.default.subPlayer.permanentPause&&b.default.subPlayer.play()},e.createIframe=function(e,t,n,o){if(void 0===o&&(o=!1),!m.isIframe()||y.default.isPdf()){try{"object"!=typeof e&&(e=JSON.parse(e))}catch(e){}l.default.navigateTo=t||"",l.default.width=n||i.widthIframe,l.default.className=o?"reverso-context-block-iframe__subtitles":"",e&&"object"==typeof e&&(l.default.position=e),l.default.create(o?b.default.sub.insertBlock:document.body),l.default.setPosition()}},e.translateInIframe=function(){e.translation()},e.removeHighlight=function(){if(c.default.remove(),!m.isIframe())for(var e=m.getIframes(),t=0;t<e.length;t++)try{"contentWindow"in e[t]&&"postMessage"in e[t].contentWindow&&e[t].contentWindow.postMessage("removeHighlight_RR:true","*")}catch(e){}},e.createHighlight=function(e){"object"==typeof e&&e.range?c.default.create(e.range):"string"==typeof e&&(e=JSON.parse(e)).range&&c.default.create(e.range)},e.reloadPage=function(){location.reload()},e.selectionFromIframe=function(e){m.isIframe()&&window.parent?window.parent.postMessage("selectionFromIframe_RR:"+JSON.stringify(e),"*"):l.default.iframe&&l.default.iframe.contentWindow&&l.default.iframe.contentWindow.postMessage("selection_rr:"+JSON.stringify(e),"*")},e.setLangTarget=function(e){localStorage.setItem("injectedScript_settings_lang_target",e)},e.setLangSource=function(e){if(localStorage.setItem("ReversoReader_langSource",e),i.siteLang=e,!m.isIframe())for(var t=m.getIframes(),n=0;n<t.length;n++)try{"contentWindow"in t[n]&&"postMessage"in t[n].contentWindow&&t[n].contentWindow.postMessage("setLangSource:"+e,"*")}catch(e){}},e.setLangSourceSub=function(e){localStorage.setItem("ReversoReader_langSourceSub",e),i.siteLang=e},e.setSelectedWord=function(e){if(document.querySelectorAll("hghlght").length>0&&c.default.selectWord(e),!m.isIframe()&&document.querySelectorAll("hghlght").length<1)for(var t=m.getIframes(),n=0;n<t.length;n++)try{"contentWindow"in t[n]&&"postMessage"in t[n].contentWindow&&t[n].contentWindow.postMessage("setSelectedWord:"+e.trim(),"*")}catch(e){}},e.setNormalView=function(e){if(!l.default.position){var t=null,n=document.querySelector("hghlght"),o=window.getSelection();o&&o.rangeCount>0&&(t=o.getRangeAt(0).getBoundingClientRect()),t&&0===t.x&&(t=null),n&&!t&&(t=n.getBoundingClientRect()),l.default.position=t}l.default.setPosition(!1,e)},e.setNormalWidth=function(){if(!l.default.position){var e=null,t=document.querySelector("hghlght"),n=window.getSelection();n&&n.rangeCount>0&&(e=n.getRangeAt(0).getBoundingClientRect()),e&&0===e.x&&(e=null),t&&!e&&(e=t.getBoundingClientRect()),l.default.position=e}l.default.width=i.widthIframe,l.default.setPosition(!1)},e.setMiniView=function(){if(!l.default.position){var e=null,t=document.querySelector("hghlght"),n=window.getSelection();n&&n.rangeCount>0&&(e=n.getRangeAt(0).getBoundingClientRect()),e&&0===e.x&&(e=null),t&&!e&&(e=t.getBoundingClientRect()),l.default.position=e}l.default.setPosition(!0)},e.getHtmlPage=function(){if(!(m.isIframe()||y.default.isPdf()||location&&location.href&&location.href.indexOf("moz-extension://")>-1)){var e=d.default.get()||"";try{""!==e&&(e=JSON.parse(JSON.stringify(e)))}catch(e){}i.isExtension&&"undefined"!=typeof chrome&&chrome.runtime.sendMessage({getHtmlPage:e})}},e.setLocalActivationMode=function(e){try{sessionStorage.setItem(i.prefixStorage+"settings_activation_mode",e),i.settings_activation_mode=e}catch(e){}},e.getLocalActivationMode=function(){return{protocol:location.href.indexOf(chrome.runtime.id+"/content/web/viewer.html?file=")>0?"pdf:":location.protocol,activation_mode:i.settings_activation_mode_native_lang||i.settings_native_lang!==h.default.source()||sessionStorage.getItem(i.prefixStorage+"settings_activation_mode")?sessionStorage.getItem(i.prefixStorage+"settings_activation_mode"):"none"}},e.checkSavePagePromotion=function(){var e=0;return sessionStorage.getItem(i.prefixStorage+"local_qty_translation")&&(e=JSON.parse(sessionStorage.getItem(i.prefixStorage+"local_qty_translation"))),sessionStorage.setItem(i.prefixStorage+"local_qty_translation",JSON.stringify(++e)),5===e},e.removeShowButtonTransl=function(){u.default.remove()},e.setSettingsFromWelcomePage=function(e){i.isExtension&&"undefined"!=typeof chrome&&chrome.runtime.sendMessage({setSettings:JSON.parse(e)})},e.getSettingsForWelcomePage=function(){i.isExtension&&"undefined"!=typeof chrome&&chrome.runtime.sendMessage({getSettings:!0},function(e){try{sessionStorage.setItem("settingsExtension",JSON.stringify(e))}catch(e){}})},e.reversoContextExtensionCheckInstalled=function(){i.isExtension&&"undefined"!=typeof chrome&&chrome.runtime.sendMessage({reversoContextExtensionCheckInstalled:!0})},e.reversoContextOptions=function(){i.isExtension&&"undefined"!=typeof chrome&&chrome.runtime.sendMessage({openTab:"/dist/index.html?navigateTo=options"})},e.checkSelection=function(){e.translation({inPopup:!0})},e.runOneClick=function(e){if(void 0===e&&(e=document.body),g.default.on(e),!i.isExtension&&i.translateParagraph){var t=w.default.getParagraphs(e);w.default.markingParagraphs(t)}},e.offOneClick=function(){g.default.off()},e.selectionNode=function(e){if(window.getSelection){var t=window.getSelection();window.getSelection().removeAllRanges();var n=document.createRange();return n.selectNode(e),t.addRange(n),t}},e.getSelectedFromStorage=function(e){if(localStorage.getItem("SelectionForReversoReader")){var t=JSON.parse(localStorage.getItem("SelectionForReversoReader"));if(!m.isIframe()&&t.site&&e&&e.site&&e.lang&&(t.site=e.site,t.lang=e.lang),t.site.title.trim().length<1&&(t.site.title=window.document.title),l.default.frame)return void l.default.frame.contentWindow.postMessage("selection_rr:"+JSON.stringify(t),"*");m.isIframe()&&window.parent&&window.parent.postMessage("selectionFromIframe_RR:"+JSON.stringify(t),"*")}else if(!m.isIframe()||m.isIframe()&&m.getIframes().length>0){m.isIframe()||(e=JSON.stringify({lang:i.siteLang||h.default.source(),site:f.default.selection.site}));for(var n=m.getIframes(),o=0;o<n.length;o++)try{"contentWindow"in n[o]&&"postMessage"in n[o].contentWindow&&n[o].contentWindow.postMessage("getSelectedArray_RR:"+e,"*")}catch(e){}}},e.translation=function(t){return o(this,void 0,void 0,function(){var n,a,c,u,d,m,v,S,w,x,k=this;return r(this,function(_){switch(_.label){case 0:if(i.update(),!window.getSelection||window.getSelection().toString().length<1)return[2];if(e.removeShowButtonTransl(),e.removeIframe(),n={navigateTo:"",position:null,width:i.widthIframe},a=null,(c=window.getSelection())&&c.rangeCount>0&&(a=c.getRangeAt(0).getBoundingClientRect()),a&&0===a.x&&(a=null),location.href&&location.href.indexOf("cps.reverso.net")>-1&&(u=document.querySelector("html")&&document.querySelector("html").getAttribute("lang")?document.querySelector("html").getAttribute("lang").toLowerCase():null)&&e.run("setLangSource",u),f.default.build(t),f.default.selection.lang)return[3,5];_.label=1;case 1:return _.trys.push([1,3,,4]),d=f.default.selection,[4,p.default.detectLanguage(f.default.selection.sentenceForLang||f.default.selection.word)];case 2:return d.lang=_.sent(),f.default.selection.sentenceForLang="",[3,4];case 3:return _.sent(),[3,4];case 4:f.default.selection.lang=f.default.selection.lang||"en",_.label=5;case 5:if(!f.default.selection.isHieroglyph)return[3,13];if("ja"===f.default.selection.lang||"zh"===f.default.selection.lang)return[3,9];_.label=6;case 6:return _.trys.push([6,8,,9]),m=f.default.getTextBlock(),v=f.default.selection,[4,p.default.detectLanguage(m||f.default.selection.word)];case 7:return v.lang=_.sent(),f.default.selection.sentenceForLang="",[3,9];case 8:return _.sent(),[3,9];case 9:return _.trys.push([9,11,,12]),[4,p.default.GetWordsCount(f.default.selection.word,f.default.selection.lang)];case 10:return S=_.sent(),f.default.selection.countWord=S.WordsCount||f.default.selection.countWord,f.default.selection.arrayWords=S.Words||f.default.selection.arrayWords,[3,12];case 11:return _.sent(),[3,12];case 12:f.default.selection.successfully=!(f.default.selection.countWord>i.wordCountLimit),f.default.selection.successfully&&!f.default.selection.sentence&&(f.default.selection.sentence=f.default.selection.word),_.label=13;case 13:if(y.default.isPdf()&&(w=y.default.getLocationForPdf(),f.default.selection.site.origin=w.origin?w.origin:"",f.default.selection.site.href=w.href?w.href:""),i.isExtension&&(/\.pdf($|[?#])/i.test(location.href)||y.default.isPdf())&&chrome.runtime.sendMessage({setTrackEvents:s.EVENTSNAME.translationFromPDF}),x=!1,f.default.selection.successfully)h.default.target().then(function(c){return o(k,void 0,void 0,function(){var o,u,d,m;return r(this,function(r){switch(r.label){case 0:if(e.createHighlight(f.default.selection),g.default.check()&&i.isExtension&&chrome.runtime.sendMessage({setTrackEvents:s.EVENTSNAME.oneClickTranslate}),!y.default.isPdf()&&location&&location.href.indexOf("moz-extension://")<0&&(f.default.selection.checkSavePagePromotion=e.checkSavePagePromotion()),document.querySelector("hghlght")&&document.querySelector("hghlght").parentNode&&document.querySelector("hghlght").parentNode.classList.contains("subtitle-oneclick")&&i.settings_activateTranslSub&&(x=!0),b.default.check()&&x&&document.querySelector(b.default.sub.selector.videoTitle)&&document.querySelector(b.default.sub.selector.videoTitle).innerText.trim().length>0&&(f.default.selection.site.title=document.querySelector(b.default.sub.selector.videoTitle).innerHTML.replace(/<[^>]+>/g," ").replace(/\n/g," "),f.default.selection.lang=h.default.sourceSubtitle()),f.default.selection.lang&&f.default.selection.lang!==c)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),o=f.default.getTextBlockFromSite(f.default.selection.range),[4,p.default.detectLanguage(o)];case 2:return u=r.sent(),localStorage.setItem("ReversoReader_langSource",u.toString()),f.default.selection.lang=u.toString(),[3,4];case 3:return d=r.sent(),console.error(d),[3,4];case 4:try{localStorage.setItem("SelectionForReversoReader",JSON.stringify(f.default.selection))}catch(e){return[2]}return t&&void 0!==t.inPopup?i.isExtension&&chrome.runtime.sendMessage({setSelection:JSON.stringify(f.default.selection||"")}):((m=document.querySelector("hghlght"))&&!a&&(a=m.getBoundingClientRect()),l.default.position=a,n.position=a,b.default.check()&&x?i.update().then(function(t){t&&t.cookiesReversoNet&&""!==t.cookiesReversoNet.ReversoRefreshToken?(n.navigateTo="?navigateTo=translate-subtitles",n.width=i.widthIframeForSub,i.isExtension&&chrome.runtime.sendMessage({setTrackEvents:s.EVENTSNAME[b.default.sub.selector.name+"TranslationClick"]}),e.createIframe(n.position,n.navigateTo,n.width,f.default.selection.isSubtitles)):e.run("deactivateSubtitleMode")}):e.createIframe(n.position,n.navigateTo,n.width,f.default.selection.isSubtitles)),[2]}})})});else{if(!(f.default.selection.countWord>i.wordCountLimit))return[2];h.default.target().then(function(a){return o(k,void 0,void 0,function(){var o,s,l,c;return r(this,function(r){switch(r.label){case 0:if(localStorage.setItem("ReversoReader_langSource",f.default.selection.lang),i.siteLang=f.default.selection.lang,i.limitWholeText=i.gas_profile&&void 0!==i.gas_profile.LimitWholeText?i.gas_profile.LimitWholeText:i.limitWholeText,f.default.selection.word.length>i.limitWholeText){for(f.default.selection.word="",o=0;o<=f.default.selection.countWord;o++){if(!(f.default.selection.arrayWords[o]&&f.default.selection.word.length+f.default.selection.arrayWords[o].length<i.limitWholeText)){o!==f.default.selection.countWord&&(f.default.selection.word+=" (...)");break}f.default.selection.word+=f.default.selection.arrayWords[o]+(f.default.selection.isHieroglyph?"":" ")}f.default.selection.word.trim()}s=null,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,h.default.sourceFromPopup()];case 2:return s=r.sent(),[3,4];case 3:return l=r.sent(),console.error(l),[3,4];case 4:i.siteLang===a&&s?a=s:f.default.selection.lang!==a||s||(a="en"===f.default.selection.lang?"fr":"en"),r.label=5;case 5:return r.trys.push([5,7,,8]),[4,h.default.checkTranslateTextCps(f.default.selection.lang,a)];case 6:return c=r.sent(),[3,8];case 7:return r.sent(),[3,8];case 8:c||(a="en"===f.default.selection.lang?"fr":"en");try{localStorage.setItem("SelectionForReversoReader",JSON.stringify(f.default.selection))}catch(e){return[2]}return n.navigateTo="?navigateTo=translate-whole-text",t&&void 0!==t.inPopup?(f.default.selection.wholeText=!0,i.isExtension&&chrome.runtime.sendMessage({setSelection:JSON.stringify(f.default.selection||"")})):e.createIframe(f.default.createSimple(),n.navigateTo,n.width),[2]}})})})}return[2]}})})},e.activateSubtitleMode=function(){b.default.destroy(),b.default.check()||b.default.init(),b.default.sub.getSelector(),b.default.sub.selector&&b.default.sub.checkSubtitles().then(function(t){if(b.default.sub.wordWrap=g.default.wrapWords.bind(g.default),b.default.sub.create(),b.default.sub.addObserverSubtitle(),b.default.sub.addObserverPlayerContainer(),b.default.sub.intervalCheckVideoSrc(),b.default.sub.ourSubtitleContainer&&(b.default.subHint.create(b.default.sub.ourSubtitleContainer),x.addToggles(b.default.sub.ourSubtitleContainer,[{text:"",checked:!0,callback:function(){i.isExtension&&chrome.runtime.sendMessage({setSettings:{name:"settings_activateTranslSub",value:!1}}),setTimeout(function(){b.default.subPlayer.permanentPause||b.default.subPlayer.play(),e.run("deactivateSubtitleMode")},400)},classNameList:"",tooltipText:s.LOCALIZATION.get.deactivateSubtitle}]),b.default.sub.ourSubtitleContainer.onmouseenter=function(e){if(document.querySelector("#reverso-context-block"))return!1;b.default.subPlayer.permanentPause=b.default.subPlayer.isPaused(),b.default.subPlayer.pause()},b.default.sub.ourSubtitleContainer.onmouseleave=function(e){document.querySelector("#reverso-context-block")||b.default.subPlayer.permanentPause||b.default.subPlayer.play()},b.default.sub.ourSubtitleContainer.onmousemove=function(t){document.querySelector("#reverso-context-block")||"ONECLICKELEMENT"!==t.target.nodeName?(b.default.subHint.target=null,b.default.subHint.abort()):t.target!==b.default.subHint.target&&i.update().then(function(n){n&&n.cookiesReversoNet&&""!==n.cookiesReversoNet.ReversoRefreshToken?(b.default.subHint.target=t.target,b.default.subHint.build()):e.run("deactivateSubtitleMode")})},b.default.sub.video)){b.default.sub.playingCallBack=function(e){b.default.sub.updateActiveSubIndex(b.default.sub.subtitlesBuffer.length-1)};try{b.default.sub.video.removeEventListener("playing",b.default.sub.playingCallBack,!1)}catch(e){}b.default.sub.video.addEventListener("playing",b.default.sub.playingCallBack,!1)}},function(e){console.error("checkSubtitles error",e)})},e.deactivateSubtitleMode=function(){x.hide(),b.default.destroy()},e.modalPdfFF=function(){return o(this,void 0,void 0,function(){return r(this,function(e){return x.show(s.LOCALIZATION.get.toActivateInSeparateTab,"success"),[2]})})},e.modalPdf=function(){return o(this,void 0,void 0,function(){var e,t;return r(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,i.update()];case 1:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return i.notify_use_PDF_translation&&Date.now()<i.notify_use_PDF_translation?[2,!1]:(e=""+s.LOCALIZATION.get.activateText,x.displayPopup(e,!0),t=[],"ffextension"===i.origin&&t.push({text:"?",callback:function(){return null},classNameList:"RC_extension__activating__info",tooltipText:s.LOCALIZATION.get.separateTabPDF,root:"textBlock"}),t.push({text:s.LOCALIZATION.get.yes,callback:function(){i.isExtension&&chrome.runtime.sendMessage({setSettings:{name:"settings_openPdf",value:!0}}),"ffextension"===i.origin?x.hide():setTimeout(function(){location.reload()},256)},classNameList:"RC_extension__activating",tooltipText:s.LOCALIZATION.get.activateReversoInPdfdescription,root:"buttonsBlock"}),t.push({text:s.LOCALIZATION.get.no,callback:function(){if(i.isExtension){var e=confirm(s.LOCALIZATION.get.remind);chrome.runtime.sendMessage({setSettings:{name:"notify_use_PDF_translation",value:e?Date.now()+2592e6:Date.now()+8639136e5}})}x.hide(),"ffextension"===i.origin&&chrome.runtime.sendMessage({closeTab:!0})},classNameList:"RC_extension__dissalow",root:"buttonsBlock"}),x.addButtons(t),[2])}})})},e.checkCookies=function(){var e=0,t=setInterval(function(){(e+=1)>128?clearInterval(t):(chrome.runtime.sendMessage({getCookies:!0}),i.update().then(function(e){i.cookiesReversoNet&&""!==i.cookiesReversoNet.ReversoRefreshToken&&(clearInterval(t),x.hide(),v.Events.run("load"))}))},3e3)},e.modalForGoToAuth=function(e){var t=function(){document.querySelector(".Reverso-Context__modal-window")&&document.querySelector(".Reverso-Context__modal-window").remove(),document.querySelector(".Reverso-Context__modal-overlay")&&document.querySelector(".Reverso-Context__modal-overlay").remove()},n=document.createElement("div");n.classList.add("Reverso-Context__modal-window");var o=document.createElement("div");o.classList.add("Reverso-Context__modal-overlay"),o.onclick=t;var r=document.createElement("button");r.classList.add("Reverso-Context__close-button"),r.onclick=t;var a=document.createElement("div");a.classList.add("Reverso-Context__modal-guts"),"ffextension"===i.origin?a.textContent=s.LOCALIZATION.get.incognitoModeForFirefox:a.textContent=s.LOCALIZATION.get.incognitoMode;var l=document.createElement("a");l.classList.add("Reverso-Context__bottom-button"),l.textContent="OK",l.onclick=t,"ffextension"===i.origin?l.href="javascript:void(0);":(l.target="_blank",l.href=e),n.appendChild(r),n.appendChild(a),n.appendChild(l),document.body.appendChild(o),document.body.appendChild(n)},e.modalSubtitleAuth=function(){var t=this;return!(i.notify_use_SUB_auth&&Date.now()<i.notify_use_SUB_auth)&&(("undefined"==typeof chrome||!chrome.extension||!chrome.extension.inIncognitoContext)&&(x.displayPopup(s.LOCALIZATION.get.loginForSub),void x.addButtons([{text:s.LOCALIZATION.get.login,callback:function(){t.checkCookies(),"undefined"!=typeof chrome&&chrome.extension&&chrome.extension.inIncognitoContext?e.modalForGoToAuth(i.links.login):window.open(i.links.login,"_blank")},classNameList:"RC_extension__activating",tooltipText:s.LOCALIZATION.get.loginForSubToolbar},{text:s.LOCALIZATION.get.signUp,callback:function(){"undefined"!=typeof chrome&&chrome.extension&&chrome.extension.inIncognitoContext?e.modalForGoToAuth(i.links.register):window.open(i.links.register,"_blank")},classNameList:"RC_extension__red"},{text:s.LOCALIZATION.get.skip,callback:function(){if(i.isExtension&&"undefined"!=typeof chrome){var e=confirm(s.LOCALIZATION.get.remind);chrome.runtime.sendMessage({setSettings:{name:"notify_use_SUB_auth",value:e?Date.now()+2592e6:Date.now()+8639136e5}})}x.hide()},classNameList:"RC_extension__dissalow"}])))},e.modalSubtitleActivate=function(){if(i.notify_use_SUB_translation&&Date.now()<i.notify_use_SUB_translation)return!1;x.displayPopup(s.LOCALIZATION.get.activateForSub);var e=[{text:s.LOCALIZATION.get.yes,callback:function(){i.isExtension&&chrome.runtime.sendMessage({setSettings:{name:"settings_activateTranslSub",value:!0}}),v.Events.run("load"),x.hide()},classNameList:"RC_extension__activating",tooltipText:s.LOCALIZATION.get.activateForSubDesc,root:"buttonsBlock"},{text:s.LOCALIZATION.get.no,callback:function(){if(i.isExtension){var e=confirm(s.LOCALIZATION.get.remind);chrome.runtime.sendMessage({setSettings:{name:"notify_use_SUB_translation",value:e?Date.now()+2592e6:Date.now()+8639136e5}})}x.hide()},classNameList:"RC_extension__dissalow",root:"buttonsBlock"}];x.addButtons(e)},e.createDragAndDrop=function(){var e=document.querySelector("#reverso-context-block");if(e){var t=document.createElement("span");t.id="reverso-context-drag-and-drop",e.appendChild(t),t.onmousedown=function(n){n.preventDefault();var o=function(t){!function(t){e.style.left=(t.clientX-16<0?0:t.clientX-16)+"px",e.style.top=(t.clientY-16<0?0:t.clientY-16)+"px"}(t)};document.addEventListener("mousemove",o,!1);var r=function(){document.removeEventListener("mousemove",o,!1),document.removeEventListener("mouseup",r,!1),t.onmouseup=null};document.addEventListener("mouseup",r,!1)},t.ondragstart=function(){return!1}}},e}();t.Actions=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1),i=n(3),a=n(11),s=n(20),l=n(8),c=n(19),u=n(16),d=n(34),h=n(2),g=n(9),f=n(26),p=function(){function e(){}return e.run=function(t,n){try{return e[t](n)}catch(e){r.ErrorHandling.send("events.ts -> Events -> "+t+"() : "+(e.stack?e.stack:e))}},e.mouseup=function(e){e=e||window.event;var t=window.getSelection();if(a.Actions.run("removeShowButtonTransl"),setTimeout(function(){"showButtonTransl"===o.settings_activation_mode&&t.toString().trim().length>0&&!h.isEditBox(e.target)&&t.anchorNode&&t.anchorNode.parentNode&&!h.isEditBox(t.anchorNode.parentNode)&&"oneclickelement"!==t.anchorNode.parentNode.nodeName.toLowerCase()&&"oneclick"!==t.anchorNode.parentNode.nodeName.toLowerCase()?(s.default.create(),s.default.button&&(s.default.button.onmousedown=function(e){o.isExtension&&"undefined"!=typeof chrome&&chrome.runtime.sendMessage({setTrackEvents:i.EVENTSNAME.searchinpage}),a.Actions.run("translation")})):"showButtonTransl"===o.settings_activation_mode&&t.toString().trim().length<=0&&a.Actions.run("removeShowButtonTransl")},64),c.default.check()&&e.target&&e.target.localName===o.oneClick.childNodesName&&(a.Actions.run("selectionNode",e.target),a.Actions.run("translation",{selectWord:!1})),e&&e.target&&e.target.classList&&void 0!==e.target.classList&&e.target.classList.contains("Reverso-Context__paragraph-translation_run")&&e.target.getAttribute("data-index")){var n=e.target.getAttribute("data-index"),r=document.querySelector(".Reverso-Context__paragraph-translation_index-"+n);r&&(a.Actions.run("selectionNode",r),a.Actions.run("translation",{selectWord:!1}))}},e.mousedown=function(e){var t=(e=e||window.event).target||e.srcElement;if((document.querySelector("#reverso-context-block")||document.querySelectorAll("hghlght").length>0||document.querySelectorAll(".ReversoReader__added_line_break").length>0)&&"reverso-context-block"!==t.id&&"reverso-context-drag-and-drop"!==t.id&&"reverso-context-iframe"!==t.id&&"reversoContextResizeButton"!==t.id&&"reversoContextDragAndDrop"!==t.id&&"reverso-context-button-for-translate-svg"!==t.id&&"reverso-context-button-for-translate-path0"!==t.id&&"reverso-context-button-for-translate-path1"!==t.id&&"reverso-context-button-for-translate-path2"!==t.id&&"a"!==t.id&&"b"!==t.id&&(void 0!==t.parentNode&&t.parentNode&&(void 0!==t.parentNode.id&&t.parentNode.id?t.parentNode.id:"").indexOf("reverso-context-button-for-translate-")<0||!t.parentNode)&&"reverso-context-button-for-translate"!==t.id)if("Reverso_extension__subtitle-container"!==t.id&&"Reverso_extension__subtitle-inner"!==t.id&&"change-sub-arr-l"!==t.id&&"change-sub-arr-r"!==t.id&&"ONECLICKELEMENT"!==t.nodeName&&"ONECLICK"!==t.nodeName&&document.querySelector(".reverso-context-block-iframe__subtitles")&&a.Actions.run("playerPlay"),a.Actions.run("removeIframe"),getSelection&&getSelection().toString&&getSelection().toString().length>0&&e&&e.button&&2===e.button&&u.default.isPdf()||window.getSelection().removeAllRanges(),!h.isIframe()||h.isIframe()&&h.getIframes().length>0)for(var n=h.getIframes(),o=0;o<n.length;o++)try{"contentWindow"in n[o]&&"postMessage"in n[o].contentWindow&&n[o].contentWindow.postMessage("closeIframe:true","*")}catch(e){}else window.parent&&window.parent.postMessage("closeIframe:true","*")},e.dblclick=function(e){if(e=e||window.event,"doubleClick"===o.settings_activation_mode){var t=window.getSelection(),n=e.target||e.srcElement;t.toString().trim().length>0&&!h.isEditBox(n)&&!document.querySelector("oneclickelement")&&a.Actions.run("translation")}},e.keydown=function(e){return(e=e||window.event).ctrlKey&&e.altKey&&parseInt(e.keyCode,10)===parseInt(o.settings_hot_key,10)?(o.isExtension&&"undefined"!=typeof chrome&&chrome.runtime.sendMessage({setTrackEvents:i.EVENTSNAME.shortcut}),a.Actions.run("translation"),!1):27===e.keyCode?(a.Actions.run("removeIframe"),!1):void 0},e.scroll=function(e){document.querySelector("#reverso-context-button-for-translate")&&a.Actions.run("removeShowButtonTransl");var t=document.documentElement?document.documentElement.clientHeight:window.innerHeight,n=Math.min(t,window.innerHeight)||Math.max(t,window.innerHeight),o=document.querySelector("hghlght");o&&((o.getBoundingClientRect().top||0)<=0&&(a.Actions.run("removeIframe"),window.getSelection().removeAllRanges()),(o.getBoundingClientRect().top||9999)>=n&&(a.Actions.run("removeIframe"),window.getSelection().removeAllRanges()))},e.focus=function(t){e.loadConfigurations(t).then(function(e){i.LOCALIZATION.get=i.LOCALIZATION[e.settings_interface_lang]||i.LOCALIZATION.en})},e.hashchange=function(t){e.load(t),a.Actions.run("removeIframe")},e.load=function(t){if(location.href&&(location.href.indexOf(".reverso.net/GAS/FacebookCallback?")>-1||location.href.indexOf(".reverso.net/GAS/GoogleCallback?")>-1)&&setTimeout(function(){chrome.runtime.sendMessage({closeTab:!0})},1e3),o.isExtension||f.default(),o.isExtension)try{for(var n=0;n<o.sitesForInstallSession.length;n++){var r=o.sitesForInstallSession[n];if(location.origin.indexOf(r)>-1){sessionStorage.setItem("installReversoReaderExtension","true");break}}}catch(e){}e.loadConfigurations(t).then(function(e){i.LOCALIZATION.get=i.LOCALIZATION[e.settings_interface_lang]||i.LOCALIZATION.en,"safariextension"!==o.origin&&u.default.isPdf()&&(o.settings_openPdf?"chromeextension"===o.origin&&u.default.open():o.settings_openPdf||a.Actions.run("modalPdf")),"ffextension"===o.origin&&-1!==location.href.indexOf("moz-extension://")&&-1!==location.href.indexOf(".pdf")&&o.settings_openPdf,"ffextension"===o.origin&&-1!==location.href.indexOf("moz-extension://")&&-1!==location.href.indexOf(".pdf")&&o.settings_openPdf&&a.Actions.run("modalPdfFF"),"safariextension"!==o.origin&&g.default.checkSelector()&&(o.cookiesReversoNet&&""!==o.cookiesReversoNet.ReversoRefreshToken?!0===o.settings_activateTranslSub?a.Actions.run("activateSubtitleMode"):a.Actions.run("modalSubtitleActivate"):a.Actions.run("modalSubtitleAuth"))}),a.Actions.run("removeIframe"),!o.isExtension&&o.translatePage.showButton&&d.default.createButtons()},e.loadConfigurations=function(e){return new Promise(function(e,t){location.hash.toLowerCase().indexOf("oneclickmode=1")>-1&&a.Actions.run("setLocalActivationMode","oneClick");var n=sessionStorage.getItem(o.prefixStorage+"settings_activation_mode");location.hash.toLowerCase().indexOf("oneclickmode=0")>-1&&"oneClick"===n&&a.Actions.run("setLocalActivationMode","none"),o.siteLang=l.default.source(),o.update().then(function(t){c.default.check()||"oneClick"!==o.settings_activation_mode||a.Actions.run("runOneClick",document.body),e(t)})})},e}();t.Events=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{name:"netflix",host:"www.netflix.com",video:".watch-video--player-view video",subtitleObserver:".watch-video--player-view .player-timedtext",subtitleText:".watch-video--player-view .player-timedtext",subtitlePosition:".watch-video--player-view .player-timedtext-text-container",subtitleSVG:".watch-video--player-view .image-based-timed-text svg",controlsFullHitZone:".controls-full-hit-zone",controlSubtitleBtn:"#nevajno-eto-prosto-tak",css:".nfp .controls:before { display: none; } .player-timedtext {z-index: 2;}\n         .nfp.nf-player-container {user-select: text !important;} .player-timedtext {opacity: 0!important;}\n         .nfp .controls.legacy-controls-styles .skip-credits, .PlayerControlsNeo__layout .PlayerControlsNeo__bottom-controls {z-index: 2;}",videoTitle:".video-title .ellipsize-text",insertBlock:".watch-video",ourSubtitleContainer:"#Reverso_extension__subtitle-container",subtitlesBufferCount:5,playerObserver:".watch-video--player-view"},{name:"amazon",host:"www.primevideo.com",video:".webPlayerElement video[src]",subtitleText:".webPlayer .controlsOverlay .persistentPanel > div, #dv-web-player div.webPlayerSDKUiContainer div[style] > p",subtitlePosition:".webPlayer .controlsOverlay .persistentPanel > div, #dv-web-player div.webPlayerSDKUiContainer div[style] > p",subtitleObserver:".webPlayer .controlsOverlay .persistentPanel, #dv-web-player div.webPlayerSDKUiContainer div > div",subtitleSVG:".svgewka",controlsFullHitZone:".uiElement",controlSubtitleBtn:"#nevajno-eto-prosto-tak",css:".persistentPanel .captions > div .timedTextWindow {z-index: 2; pointer-events: auto;}\n        .cascadesContainer {user-select: text !important;}\n        .persistentPanel .captions > div {opacity: 0!important;}\n        .webPlayer .controlsOverlay .persistentPanel > div,\n        #dv-web-player div.webPlayerSDKUiContainer div[style] > p {opacity: 0!important;}\n        ",videoTitle:".contentTitlePanel",insertBlock:"#dv-web-player div.webPlayerSDKUiContainer",ourSubtitleContainer:"#Reverso_extension__subtitle-container",subtitlesBufferCount:5,playerObserver:"#nevajno-eto-prosto-tak"},{name:"youtube",host:"www.youtube.com",video:"#player-container video[src]",subtitleObserver:"#player-container .html5-video-player",subtitleText:"#player-container .captions-text",subtitlePosition:"#nevajno-eto-prosto-tak",subtitleSVG:"#nevajno-eto-prosto-tak",controlsFullHitZone:"#nevajno-eto-prosto-tak",controlSubtitleBtn:"#player-container .ytp-subtitles-button[aria-pressed=true]",css:"#Reverso_extension__subtitle-container {z-index: 10!important;}#player-container .captions-text {z-index: -999!important; opacity: 0!important;}#Reverso_extension__subtitle-container #change-sub-arr-l, #Reverso_extension__subtitle-container #change-sub-arr-r { height: 26px!important; width: 26px!important; top: calc(50% - 13px)!important; }#Reverso_extension__subtitle-container {font-size: 150%!important; line-height: 150%!important; position: absolute!important; left: 10%!important; width: 80%!important; max-width: 80%!important; min-height: 12%!important; bottom: 18%!important;}#change-sub-cloak {height: 100%!important; width: 100%!important; position: absolute!important;z-index: 10!important;}#Reverso_extension__translate_sub_hint {font-size: 100%!important; line-height: 150%!important;}.caption-window.ytp-caption-window-bottom.ytp-caption-window-rollup {z-index: -999!important; opacity: 0!important;}",videoTitle:"title",insertBlock:"#player-container .html5-video-player",ourSubtitleContainer:"#Reverso_extension__subtitle-container",subtitlesBufferCount:5,playerObserver:"#nevajno-eto-prosto-tak"},{name:"ted",host:"www.ted.com",video:"#ted-player video[id*=ted-player][src]",subtitleObserver:"#video-container #ted-player",subtitleText:"#ted-player div[dir]",subtitlePosition:"#nevajno-eto-prosto-tak",subtitleSVG:"#nevajno-eto-prosto-tak",controlsFullHitZone:"#nevajno-eto-prosto-tak",controlSubtitleBtn:"#ted-player button[title]",css:"#Reverso_extension__subtitle-container {z-index: 1!important;}#ted-player div[dir] {z-index: -999; opacity: 0;}#Reverso_extension__subtitle-container #change-sub-arr-l, #Reverso_extension__subtitle-container #change-sub-arr-r { height: 26px!important; width: 26px!important; top: calc(50% - 13px)!important; }#Reverso_extension__subtitle-container {font-size: 150%!important; line-height: 150%!important; position: absolute!important; left: 10%!important; width: 80%!important; max-width: 80%!important; min-height: 12%!important; bottom: 18%!important;}#change-sub-cloak {height: 100%!important; width: 100%!important; position: absolute!important;z-index: 1!important;}#Reverso_extension__translate_sub_hint {font-size: 100%!important; line-height: 150%!important;}",videoTitle:"title",insertBlock:"#video-container #ted-player",ourSubtitleContainer:"#Reverso_extension__subtitle-container",subtitlesBufferCount:5,playerObserver:"#nevajno-eto-prosto-tak"}]},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),r=n(3),i=function(){function e(){}return e.checkSelectNodeContents=function(e){try{var t=document.createRange();t.selectNodeContents(e);var n=t.toString();return!!n&&n.trim().split(/\s/).length>1}catch(e){return!1}},e.getTextNode=function(e){try{var t=document.createRange();return t.selectNodeContents(e),t.toString()}catch(e){return""}},e.getParagraphs=function(t,n){var o=[],r=function(n,i){n&&n.textContent&&n.textContent.trim()&&"STYLE"!==n.tagName&&"SCRIPT"!==n.tagName&&(3!==n.nodeType&&"B"!==n.tagName&&"I"!==n.tagName&&"EM"!==n.tagName&&"A"!==n.tagName&&"SPAN"!==n.tagName&&"BIG"!==n.tagName&&"SMALL"!==n.tagName&&"MARK"!==n.tagName&&"DEL"!==n.tagName&&"INS"!==n.tagName&&"SUB"!==n.tagName&&"SUP"!==n.tagName&&"STRONG"!==n.tagName&&"U"!==n.tagName&&"NOSCRIPT"!==n.tagName&&"BUTTON"!==n.tagName&&"ONECLICKELEMENT"!==n.tagName&&"ONECLICK"!==n.tagName?n.hasChildNodes&&[].forEach.call(n.childNodes,function(e){r(e)}):o.indexOf(n.parentNode)<0&&n.parentNode!==t&&e.checkSelectNodeContents(n.parentNode)&&o.push(n.parentNode))};return r(t,n),o},e.addedTooltip=function(e,t){e.onclick=function(e){return e.preventDefault()},e.onmouseup=function(e){return e.preventDefault()},e.onmouseenter=function(n){if(location.href&&location.href.indexOf("cps.reverso.net")>-1&&0!==e.getAttribute("href").indexOf("http"))n.preventDefault();else if(o.default.isHide=!1,o.default.show('<a data-index="'+t+'" class="cursor-pointer Reverso-Context__paragraph-translation_run">'+r.LOCALIZATION.get.translateParagraph+"</a>"),e.getBoundingClientRect){var i=e.getBoundingClientRect().top-o.default.element.getBoundingClientRect().height;i<0&&(i=e.getBoundingClientRect().bottom),o.default.tooltipCoords.top=i+"px",o.default.tooltipCoords.left=e.getBoundingClientRect().left+"px",o.default.setPosition(),e.onmouseleave=function(e){o.default.isHide=!0,setTimeout(function(e){o.default.isHide&&(o.default.isHide=!1,o.default.hide())},256)}}}},e.markingParagraphs=function(t,n){void 0===n&&(n=!0),t&&t.length&&[].forEach.call(t,function(t,o){t&&t.classList&&!t.classList.contains("Reverso-Context__paragraph-translation")&&(t.classList.add("Reverso-Context__paragraph-translation"),t.classList.add("Reverso-Context__paragraph-translation_index-"+o),t.setAttribute("data-reversoIndex",o),n&&e.addedTooltip(t,o))})},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1),i=n(2),a=function(){function e(){this.iframe=document.querySelector("#reverso_reader__pdf")}return e.prototype.isPdf=function(){try{if(i.isIframe()&&void 0!==window.PDFJS&&void 0!==window.requestedURL_ReversoExtension)return!0;if(i.isIframe())return/\.pdf($|[?#])/i.test(self.location.href);var e=document.querySelector("embed");if(e&&(e.src||e.data)&&e.parentNode===document.body){var t=e["src"in e?"src":"data"],n=e.type;return/\.pdf($|[?#])/i.test(t)||/pdf/i.test(n)}return!!document.querySelector('base[href="resource://pdf.js/web/"]')}catch(e){r.ErrorHandling.send("pdf.class.ts -> Pdf -> isPdf() : "+(e.stack?e.stack:e))}},e.prototype.getViewerURL=function(e){try{return o.viewerUrl+"?file="+encodeURIComponent(e)}catch(e){r.ErrorHandling.send("pdf.class.ts -> Pdf -> getViewerURL() : "+(e.stack?e.stack:e))}},e.prototype.getLocationForPdf=function(){try{var e={origin:null,href:null},t=/file=([\s\S]*[^&])/gi,n=/(http[\s\S]*|www.[\s\S]*)/gi,o=null;if(location.href.match(t)?o=decodeURIComponent(location.href.match(t)[0].replace("file=","")):location.href.match(n)&&(o=decodeURIComponent(n.exec(location.href)[0])),o){var i=o.split("/"),a=i[0],s=i[2];e.origin=a+"//"+s,e.href=o}return e}catch(e){r.ErrorHandling.send("pdf.class.ts -> Pdf -> getLocationForPdf() : "+(e.stack?e.stack:e))}},e.prototype.createIframe=function(){try{return document&&document.documentElement&&(document.documentElement.style.height="100%",document.documentElement.style.width="100%"),this.iframe=document.querySelector("#reverso_reader__pdf"),this.iframe?this.iframe:(this.iframe=document.createElement("iframe"),this.iframe.id="reverso_reader__pdf",this.iframe.title=document.title,this.iframe)}catch(e){r.ErrorHandling.send("pdf.class.ts -> Pdf -> createIframe() : "+(e.stack?e.stack:e))}},e.prototype.open=function(){try{if(i.isIframe())return;this.createIframe();var e=document.querySelector("embed"),t=e.parentNode,n=location.origin+location.pathname+location.search;e&&e.remove(),this.iframe.src=this.getViewerURL(n),t.appendChild(this.iframe)}catch(e){r.ErrorHandling.send("pdf.class.ts -> Pdf -> open() : "+(e.stack?e.stack:e))}},e}();t.default=new a},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(4),a=n(1),s=n(10),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.hint=function(e){var t=this;return new Promise(function(n,o){try{var i=JSON.stringify({deviceId:null,origin:r.origin,uiLang:r.nativeLang,accessToken:null,pageUrl:location.href||"",direction:e.langSource+"-"+e.langTarget,source:e.word,pageTitle:document.querySelector(r.subtitleSelector.videoTitle)?document.querySelector(r.subtitleSelector.videoTitle).textContent:"-",reversoPage:null,noSamples:!0,appId:r&&r.cid_extension?r.cid_extension:""});t.post(r.server+"/api"+r.apiVersion+"/TranslateHint/",i).then(function(e){var t=JSON.parse(e);if(!0===t.error||!1===t.success||void 0===t.sources||0===t.sources.length||0===t.sources[0].translations.length)o("Error response.error");else{var r={};t.sources[0].translations.forEach(function(e){""!==e.translation.trim()&&"..."!==e.translation&&(""!==e.pos?(r[e.pos]||(r[e.pos]=[]),r[e.pos].push(e)):(r.other||(r.other=[]),r.other.push(e)))}),n(r)}},function(e){o(e)})}catch(e){a.ErrorHandling.send("Translate.ts -> Translate -> hint() : "+(e.stack?e.stack:e))}})},t.prototype.detectLanguage=function(e){var t=this;return new Promise(function(n,o){try{e.length>=150&&(e=(e=s.default(e)?e.substr(0,10).split(" "):e.substr(0,150).split(" ")).length<5?e.slice(0,e.length).join(" "):e.slice(0,e.length-1).join(" "));var i=JSON.stringify({deviceId:null,origin:r.origin,uiLang:r.nativeLang,accessToken:null,inputContent:e,appId:r&&r.cid_extension?r.cid_extension:""});t.post(r.server+"/api"+r.apiVersion+"/DetectLanguage/",i).then(function(e){var t=JSON.parse(e).data;t?n(t):o("Error response.error")},function(e){o(e)})}catch(e){a.ErrorHandling.send("Translate.ts -> Translate -> detectLanguage() : "+(e.stack?e.stack:e))}})},t.prototype.GetWordsCount=function(e,t){var n=this;return new Promise(function(o,i){try{var s=JSON.stringify({deviceId:null,origin:r.origin,uiLang:r.nativeLang,accessToken:null,text:e,language:t,appId:r&&r.cid_extension?r.cid_extension:""});n.post(r.server+"/api"+r.apiVersion+"/GetWordsCount/",s).then(function(e){var t=JSON.parse(e);t.data?o(t.data):i("Error response.error")},function(e){i(e)})}catch(e){a.ErrorHandling.send("Translate.ts -> Translate -> GetWordsCount() : "+(e.stack?e.stack:e))}})},t}(i.Http);t.default=new l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=function(){function e(){this.tooltipCoords={top:"-500px",left:"-500px",transform:"scale(0)"},this.isHide=!0}return e.prototype.create=function(){var e=this;this.element=document.createElement("span"),this.element.id="tool-tip-for-link_RR",this.bodyTooltip=document.createElement("span"),this.element.appendChild(this.bodyTooltip),document.body.appendChild(this.element),this.element.onmouseleave=function(t){e.isHide=!0,setTimeout(function(t){e.isHide&&(e.isHide=!1,e.hide())},128)},this.element.onmouseenter=function(t){e.isHide=!1}},e.prototype.show=function(e){this.element||this.create(),this.tooltipCoords.transform="scale(1)",this.element.parentNode&&this.element.replaceChild(o.convertToDocFragment(e),this.element.childNodes[0])},e.prototype.hide=function(){(this.element||this.isHide)&&(this.tooltipCoords.top="-9999px",this.tooltipCoords.left="-9999px",this.setPosition())},e.prototype.setPosition=function(){Object.assign(this.element.style,this.tooltipCoords)},e}();t.default=new r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(2),i=n(1),a=n(18),s=n(3),l=n(6),c=n(10),u=new l.Modal,d=function(){function e(){}return e.prototype.check=function(){try{return null!=document.querySelector(o.oneClick.childNodesName)}catch(e){i.ErrorHandling.send("one-click.class.ts -> OneClick -> check() : "+(e.stack?e.stack:e))}},e.prototype.wrapWords=function(e,t){var n=this;void 0===t&&(t="");try{if(!e||e&&1===e.nodeType&&e.getAttribute&&e.getAttribute("data-oneclick"))return;if(1===e.nodeType&&"A"===e.nodeName&&e.getAttribute("href")&&(e.setAttribute("data-href",e.getAttribute("href")),e.onclick=function(e){return e.preventDefault()},e.onmouseup=function(e){return e.preventDefault()},e.onmouseenter=function(t){if(location.href&&location.href.indexOf("cps.reverso.net")>-1&&0!==e.getAttribute("href").indexOf("http"))t.preventDefault();else if(a.default.isHide=!1,a.default.show('<a href="'+e.getAttribute("href")+'" target="_blank">'+s.LOCALIZATION.get.OpenLinkTooltip+"</a>"),e.getBoundingClientRect){var n=e.getBoundingClientRect().top-a.default.element.getBoundingClientRect().height;n<0&&(n=e.getBoundingClientRect().bottom),a.default.tooltipCoords.top=n+"px",a.default.tooltipCoords.left=e.getBoundingClientRect().left+"px",a.default.setPosition(),e.onmouseleave=function(e){a.default.isHide=!0,setTimeout(function(e){a.default.isHide&&(a.default.isHide=!1,a.default.hide())},256)}}}),e.hasChildNodes&&[].forEach.call(e.childNodes,function(e){(!e.classList||e.classList&&!e.classList.contains(o.oneClick.className))&&o.oneClick.doNotWrap.indexOf(e.nodeName)<0&&o.oneClick.doNotWrap.indexOf(e.id)<0&&n.wrapWords(e,t)}),3===e.nodeType){var l=e.nodeValue;if(l.trim&&l.trim().length>1){var u=l;c.default(u)&&(u=u.split("").map(function(e){return c.default(e)?e+" ":""+e}).join(""));var d=document.createElement(o.oneClick.nodeName);if(d.className+=t,e.parentNode&&d.appendChild){e.parentNode.insertBefore(d,e),d.appendChild(e);var h=u.replace(/&nbsp;/g," ").replace(/([^ %,.{}”“„«»\:\;\-\[\]\(\)=<>\s]+)/g,"<"+o.oneClick.childNodesName+' class="'+o.oneClick.className+" "+t+'">$1</'+o.oneClick.childNodesName+">");d.replaceChild(r.convertToDocFragment(h),d.firstChild)}}}}catch(e){i.ErrorHandling.send("one-click.class.ts -> OneClick -> wrapWords() : "+(e.stack?e.stack:e))}},e.prototype.follow=function(e){var t=this;try{if(!e||!1===this.check()||document.getElementsByTagName("*").length>o.oneClick.limitTags)return;var n=document.body.innerText.trim().length,r=setInterval(function(){var i=document.body.innerText.trim().length;document.getElementsByTagName("*").length>o.oneClick.limitTags?clearInterval(r):n!==i&&(n=i,t.wrapWords(e))},5e3)}catch(e){i.ErrorHandling.send("one-click.class.ts -> OneClick -> follow() : "+(e.stack?e.stack:e))}},e.prototype.on=function(e){var t=this;try{return void(e&&!1===this.check()&&o.update().then(function(n){t.wrapWords(e),t.follow(e),u.show(s.LOCALIZATION.get.LinksActivatedMess,"success")}))}catch(e){i.ErrorHandling.send("one-click.class.ts -> OneClick -> on() : "+(e.stack?e.stack:e))}},e.prototype.off=function(){try{if(!1===this.check())return;return void(r.isIframe()&&window.parent?window.parent.postMessage("reload:true","*"):(location.href=location.href.toLowerCase().indexOf("oneclickmode=1")<0?location.href:location.href.replace("oneClickMode=1",""),location.reload()))}catch(e){i.ErrorHandling.send("one-click.class.ts -> OneClick -> off() : "+(e.stack?e.stack:e))}},e}();t.default=new d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=n(2),i=n(1),a=function(){function e(){this.button=document.querySelector("#reverso-context-button-for-translate")}return e.prototype.create=function(){var e=this;try{if(this.remove(),document.querySelector("#reverso-context-block")||document.body&&document.body.classList.contains("is-selection-reverso-reader"))return!1;if(r.isMobile())return!1;var t=window.getSelection().getRangeAt(0).getBoundingClientRect();return this.button=document.createElement("span"),this.button.style?(this.button.id="reverso-context-button-for-translate",this.button.style.top=t.top-20+"px",this.button.style.left=t.right-10+"px",this.button.setAttribute("title",o.LOCALIZATION.get.titleContextMenu),this.button.setAttribute("disabled","disabled"),setTimeout(function(){e.button.removeAttribute("disabled")}),document.body&&document.body.appendChild(this.button),this.button):!1}catch(e){i.ErrorHandling.send("button-selection.class.ts -> ButtonSelection -> create() : "+(e.stack?e.stack:e))}},e.prototype.remove=function(){try{return this.button=document.querySelector("#reverso-context-button-for-translate"),void(this.button&&this.button.remove())}catch(e){i.ErrorHandling.send("button-selection.class.ts -> ButtonSelection -> remove() : "+(e.stack?e.stack:e))}},e}();t.default=new a},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1),i=n(11),a=n(12);t.default=function(){String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{enumerable:!1,configurable:!1,writable:!1,value:function(e,t){return t=t||0,this.indexOf(e,t)===t}});try{window.addEventListener("message",function(e){if(e&&e.data&&"string"==typeof e.data)if(e.data.startsWith("reload:"))i.Actions.run("reloadPage");else if(e.data.startsWith("translateInIframe:"))i.Actions.run("translateInIframe",e.data.substring("translateInIframe:".length));else if(e.data.startsWith("createIframe:")){var t=e.data.substring("createIframe:".length);try{var n=(t=JSON.parse(t)).navigateTo?t.navigateTo:"",r=t.width?t.width:o.widthIframe,a=!t.position||t.position;i.Actions.run("createIframe",a,n,r)}catch(e){i.Actions.run("createIframe",e.data.substring("createIframe:".length))}}else if(e.data.startsWith("setNormalView:"))i.Actions.run("setNormalView",e.data.substring("setNormalView:".length));else if(e.data.startsWith("setMiniView:"))i.Actions.run("setMiniView");else if(e.data.startsWith("setNormalWidth:"))i.Actions.run("setNormalWidth",e.data.substring("setNormalWidth:".length));else if(e.data.startsWith("getHtmlPage:"))i.Actions.run("getHtmlPage");else if(e.data.startsWith("getSelectedArray_RR:")){t=e.data.substring("getSelectedArray_RR:".length);try{t=JSON.parse(t)}catch(e){}i.Actions.run("getSelectedFromStorage",t)}else e.data.startsWith("selectionFromIframe_RR:")?i.Actions.run("selectionFromIframe",JSON.parse(e.data.substring("selectionFromIframe_RR:".length))):e.data.startsWith("createHighlight_RR:")?i.Actions.run("createHighlight",e.data.substring("createHighlight_RR:".length)):e.data.startsWith("removeHighlight_RR:")?i.Actions.run("removeHighlight",e.data.substring("removeHighlight_RR:".length)):e.data.startsWith("setSelectedWord:")?i.Actions.run("setSelectedWord",e.data.substring("setSelectedWord:".length)):e.data.startsWith("setLangSource:")?i.Actions.run("setLangSource",e.data.substring("setLangSource:".length).trim()):e.data.startsWith("setLangTarget:")?i.Actions.run("setLangTarget",e.data.substring("setLangTarget:".length).trim()):e.data.startsWith("setLangSourceSub:")?i.Actions.run("setLangSourceSub",e.data.substring("setLangSourceSub:".length).trim()):e.data.startsWith("closeIframe:")?i.Actions.run("removeIframe"):e.data.startsWith("setLocalActivationMode:")?i.Actions.run("setLocalActivationMode",e.data.substring("setLocalActivationMode:".length).trim()):e.data.startsWith("getLocalActivationMode:")?i.Actions.run("getLocalActivationMode"):e.data.startsWith("setGlobalActivationMode:")||(e.data.startsWith("removeShowButtonTransl_RR:")?i.Actions.run("removeShowButtonTransl"):e.data.startsWith("settingsFromWelcomePage:")?i.Actions.run("setSettingsFromWelcomePage",e.data.substring("settingsFromWelcomePage:".length)):e.data.startsWith("getSettingsFromWelcomePage:")?i.Actions.run("getSettingsForWelcomePage"):e.data.startsWith("ReversoContextExtensionCheckInstalled:")?i.Actions.run("reversoContextExtensionCheckInstalled"):e.data.startsWith("ReversoContextOptions:")?i.Actions.run("reversoContextOptions"):e.data.startsWith("playerPlay:")?i.Actions.run("playerPlay"):e.data.startsWith("checkSavePagePromotion:")?i.Actions.run("checkSavePagePromotion"):e.data.startsWith("checkCookies:")?i.Actions.run("checkCookies"):e.data.startsWith("createDragAndDrop_rr:")?i.Actions.run("createDragAndDrop"):e.data.startsWith("runOneClick:")?i.Actions.run("runOneClick"):e.data.startsWith("offOneClick:")&&i.Actions.run("offOneClick"))},!1),"undefined"!=typeof chrome&&chrome.runtime&&chrome.runtime.id&&chrome.runtime.onMessage&&chrome.runtime.onMessage.addListener(function(e,t,n){e.removeIframe?n(i.Actions.run("removeIframe")):e.createIframe?n(i.Actions.run("createIframe",e.createIframe)):e.translateInIframe?n(i.Actions.run("translateInIframe")):e.removeHighlight?n(i.Actions.run("removeHighlight")):e.getHtmlPage?n(i.Actions.run("getHtmlPage")):e.setLocalActivationMode?n(i.Actions.run("setLocalActivationMode",e.setLocalActivationMode)):e.getLocalActivationMode?n(i.Actions.run("getLocalActivationMode")):e.removeShowButtonTransl?n(i.Actions.run("removeShowButtonTransl")):e.ReversoContextExtensionInstalled?window.postMessage("ReversoContextExtensionInstalled:get","*"):e.checkSelection?n(i.Actions.run("checkSelection")):e.runOneClick?n(i.Actions.run("runOneClick")):e.offOneClick?n(i.Actions.run("offOneClick")):e.checkSavePagePromotion?n(i.Actions.run("checkSavePagePromotion")):e.activateTranslSub?"false"===e.activateTranslSub?n(i.Actions.run("deactivateSubtitleMode")):(n(i.Actions.run("deactivateSubtitleMode")),a.Events.run("load")):e.checkCookies&&n(i.Actions.run("checkCookies"))})}catch(e){r.ErrorHandling.send("messages.ts -> default function : "+(e.stack?e.stack:e))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.default=function(){if(o.isExtension||!document.head||!o.direction)return null;document.querySelector(o.prefixStorage+"__styles")&&document.querySelector(o.prefixStorage+"__styles").remove();var e=document.createElement("link");return e.id=o.prefixStorage+"__styles",e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href",o.direction+"content-script.bundle.css"),document.head.appendChild(e)}},function(e,t,n){e.exports=function(e){return function(){var t=e,n=t.lib.WordArray;t.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,o=this._map;e.clamp();for(var r=[],i=0;i<n;i+=3)for(var a=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<n;s++)r.push(o.charAt(a>>>6*(3-s)&63));var l=o.charAt(64);if(l)for(;r.length%4;)r.push(l);return r.join("")},parse:function(e){var t=e.length,o=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var i=0;i<o.length;i++)r[o.charCodeAt(i)]=i}var a=o.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return function(e,t,o){for(var r=[],i=0,a=0;a<t;a++)if(a%4){var s=o[e.charCodeAt(a-1)]<<a%4*2,l=o[e.charCodeAt(a)]>>>6-a%4*2;r[i>>>2]|=(s|l)<<24-i%4*8,i++}return n.create(r,i)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64}(n(5))},function(e,t,n){e.exports=function(e){return e.enc.Utf8}(n(5))},function(e,t,n){e.exports=function(e){!function(){var t=e,n=t.lib,o=n.Base,r=t.enc,i=r.Utf8,a=t.algo;a.HMAC=o.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var n=e.blockSize,o=4*n;t.sigBytes>o&&(t=e.finalize(t)),t.clamp();for(var r=this._oKey=t.clone(),a=this._iKey=t.clone(),s=r.words,l=a.words,c=0;c<n;c++)s[c]^=1549556828,l[c]^=909522486;r.sigBytes=a.sigBytes=o,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);t.reset();var o=t.finalize(this._oKey.clone().concat(n));return o}})}()}(n(5))},function(e,t,n){e.exports=function(e){return function(){var t=e,n=t.lib,o=n.WordArray,r=n.Hasher,i=[],a=t.algo.SHA1=r.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,o=n[0],r=n[1],a=n[2],s=n[3],l=n[4],c=0;c<80;c++){if(c<16)i[c]=0|e[t+c];else{var u=i[c-3]^i[c-8]^i[c-14]^i[c-16];i[c]=u<<1|u>>>31}var d=(o<<5|o>>>27)+l+i[c];d+=c<20?1518500249+(r&a|~r&s):c<40?1859775393+(r^a^s):c<60?(r&a|r&s|a&s)-1894007588:(r^a^s)-899497514,l=s,s=a,a=r<<30|r>>>2,r=o,o=d}n[0]=n[0]+o|0,n[1]=n[1]+r|0,n[2]=n[2]+a|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;return t[o>>>5]|=128<<24-o%32,t[14+(o+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(o+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=r._createHelper(a),t.HmacSHA1=r._createHmacHelper(a)}(),e.SHA1}(n(5))},function(e,t,n){e.exports=function(e){return e.HmacSHA1}(n(5),n(30),n(29))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iso2ToIso3={en:"eng",es:"spa",fr:"fra",de:"ger",it:"ita",nl:"dut",pl:"pol",ru:"rus",uk:"ukr",ar:"ara",pe:"per",he:"heb",ja:"jpn",ko:"kor",tr:"tur",zh:"chi",pt:"por",ro:"rum",cz:"cze",fa:"fas",so:"som",ur:"urd",hi:"hin",ha:"hau",el:"gre",sv:"swe",no:"nor",hu:"hun",th:"tha",da:"dan",bg:"bul",sr:"srp",fi:"fin",bn:"ben",id:"ind",ps:"pus",af:"fad",sk:"slo",et:"est",lt:"lit",sl:"slv"},t.iso3ToIso2={eng:"en",spa:"es",fra:"fr",ger:"de",ita:"it",dut:"nl",pol:"pl",rus:"ru",ukr:"uk",ara:"ar",per:"pe",heb:"he",jpn:"ja",kor:"ko",tur:"tr",chi:"zh",por:"pt",rum:"ro",cze:"cz",fas:"fa",som:"so",urd:"ur",hin:"hi",hau:"ha",gre:"el",swe:"sv",nor:"no",hun:"hu",tha:"th",dan:"da",bul:"bg",srp:"sr",fin:"fi",ben:"bn",ind:"id",pus:"ps",fad:"af",slo:"sk",est:"et",lit:"lt",slv:"sl"}},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[0,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(4),s=n(32),l=n(31),c=n(28),u=n(27),d={applicationName:"RWT"},h=function(){function e(){this.prefix="reverso-reader_",this.http=new a.Http}return e.prototype.hash=function(e){return l(i.translatePage.reversoAPI.username+e,i.translatePage.reversoAPI.password).toString().toUpperCase()},e.prototype.abort=function(){this.http.abort()},e.prototype.formatString=function(e,t){return t?e.replace(/\{(\d+)\}/g,function(e,n){return t[n]}):e},e.prototype.getDateReverso=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1;n<10&&(n="0"+n);var o=e.getDate();o<10&&(o="0"+o);var r=e.getHours();r<10&&(r="0"+r);var i=e.getMinutes();i<10&&(i="0"+i);var a=e.getSeconds();return a<10&&(a="0"+a),n+"/"+o+"/"+t+" "+r+":"+i+":"+a},e.prototype.getTranslationTemplates=function(){return o(this,void 0,void 0,function(){var e,t,n,o,a,s,l,c,u,d,h;return r(this,function(r){switch(r.label){case 0:if(t=[],(n=localStorage.getItem(this.prefix+"translationDirectionsInfo"))&&(e=JSON.parse(n)),e)return[3,4];o=this.getDateReverso(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.http.get(i.translatePage.reversoAPI.urlRI+"/GetAllTranslationDirections",{Created:o,Username:i.translatePage.reversoAPI.username,Signature:this.hash(o),"Content-Type":"application/octet-stream"})];case 2:return a=r.sent(),s=JSON.parse(a),(e=s&&s.Directions?s.Directions:null)&&localStorage.setItem(this.prefix+"translationDirectionsInfo",JSON.stringify(e)),[3,4];case 3:throw l=r.sent(),console.error("RwtApi -> getTranslationTemplates",l),l;case 4:for(c in e)for(u=e[c],d=u.srcLanguageCode+"-"+u.destLanguageCode,t[d]=t[d]||[],h=0;h<u.extraInfo.templates.length;h++)t[d].push({templateName:u.extraInfo.templates[h].template,isUserTemplate:u.extraInfo.templates[h].isUserTemplate});return[2,t]}})})},e.prototype.translate=function(e,t,n,a){return o(this,void 0,void 0,function(){var o,l,h,g,f,p,m,v,b,y,S,w,x,k,_,C,T,A,R;return r(this,function(r){switch(r.label){case 0:a=a||{},o=null,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.getTranslationTemplates()];case 2:return l=r.sent(),[3,4];case 3:return h=r.sent(),console.error("Error getTranslationTemplates: ",h),[3,4];case 4:if(l=l||[],g=s.iso2ToIso3[t]+"-"+s.iso2ToIso3[n],f=l[g]||[],a.templateToUseName)for(m=0;m<f.length;m++)if(f[m].templateName==a.templateToUseName){o=f[m];break}if(!o)if(1==f.length)o=f[0];else if(f.length>1){if(p=i.translatePage.reversoAPI.userTemplates[g])for(m=0;m<f.length;m++)if(f[m].templateName==p){o=f[m];break}o||(o=f[0])}for(v=Object.assign({},d,{tmEnabled:i.translatePage.reversoAPI.tmEnabled||!1,alternatives:i.translatePage.reversoAPI.alternatives||!1,transliterate:i.translatePage.reversoAPI.transliterate||!1,showTooltip:a.showTooltip||!1,tooltipsOnSentences:a.tooltipsOnSentences||!1,showTranslationInTooltip:a.showTranslationInTooltip||!1,tmIds:"",template:"Universal",isUserTemplate:!1}),"[object Array]"===Object.prototype.toString.call(i.translatePage.reversoAPI.tmIds)&&i.translatePage.reversoAPI.tmIds.length>0&&(v.tmIds=i.translatePage.reversoAPI.tmIds.join(",")),null!=o&&(v.template=o.templateName,v.isUserTemplate=o.isUserTemplate),e=null==e?e:e.replace(/[\u00A0\u1680​\u180e\u2000-\u2009\u200a​\u200b​\u202f\u205f​\u3000]/g," "),b=this.getDateReverso(),y=i.translatePage.reversoAPI.urlRI+"/TranslateStream/direction="+s.iso2ToIso3[t]+"-"+s.iso2ToIso3[n]+"/inputExtension=.html?",S=0,w=Object.entries(v);S<w.length;S++)x=w[S],k=x[0],_=x[1],y+=k+"="+encodeURIComponent(_)+"&";y=y.slice(0,-1),r.label=5;case 5:return r.trys.push([5,7,,8]),[4,this.http.post(y,"<html><body>"+e+"</body></html>",{Created:b,Username:i.translatePage.reversoAPI.username,Signature:this.hash(b),"Content-Type":"application/octet-stream",Accept:"*/*"})];case 6:return C=r.sent(),[3,8];case 7:throw T=r.sent(),console.error("RwtApi -> translate",T),T;case 8:return C&&(A=JSON.parse(C)).TranslatedStream?(R=u.parse(A.TranslatedStream),[2,c.stringify(R)]):[2,""]}})})},e}();t.default=new h},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[0,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(3),s=n(33),l=n(15),c=n(8),u=function(){function e(){this.isTranslatePage=!1}return e.prototype.createButtons=function(){var t=document.createElement("div");t.id="Reverso-Context__FullTextTranslation",t.setAttribute("data-oneclick","false"),t.classList.add("reverso-"+i.translatePage.position.horizontal),t.classList.add("reverso-"+i.translatePage.position.vertical),t.classList.add("reverso-"+i.translatePage.theme);var n=document.createElement("a");n.title=a.LOCALIZATION.get.reversoTranslation,n.id="Reverso-Context__FullTextTranslation_icon",n.href="http://www.reverso.net",n.setAttribute("target","_blank"),n.setAttribute("data-oneclick","false");var o=document.createElement("div");o.id="Reverso-Context__FullTextTranslation_buttons",o.setAttribute("data-oneclick","false");var r=document.createElement("div");r.id="Reverso-Context__FullTextTranslation_button-transl",r.setAttribute("data-oneclick","false"),r.innerText=a.LOCALIZATION.get.translate,r.onclick=this.translate;var l=document.createElement("div");l.id="Reverso-Context__FullTextTranslation_button-stop",l.innerText=a.LOCALIZATION.get.stop,l.setAttribute("data-oneclick","false"),l.onclick=function(){self["_reverso-reader-translate__stop"]=!0,s.default.abort(),e.undoPageTranslation();var t=document.querySelector("#Reverso-Context__FullTextTranslation_button-transl");t&&(t.style.display="block");var n=document.querySelector("#Reverso-Context__FullTextTranslation_button-back");n&&(n.style.display="none");var o=document.querySelector("#Reverso-Context__FullTextTranslation_button-stop");o&&(o.style.display="none");var r=document.querySelector("#Reverso-Context__FullTextTranslation");r&&(r.classList.remove("error"),r.classList.remove("loading"))};var c=document.createElement("div");c.id="Reverso-Context__FullTextTranslation_button-back",c.setAttribute("data-oneclick","false"),c.onclick=function(){self["_reverso-reader-translate__stop"]=!0,s.default.abort(),e.undoPageTranslation();var t=document.querySelector("#Reverso-Context__FullTextTranslation_button-transl");t&&(t.style.display="block");var n=document.querySelector("#Reverso-Context__FullTextTranslation_button-back");n&&(n.style.display="none");var o=document.querySelector("#Reverso-Context__FullTextTranslation_button-stop");o&&(o.style.display="none");var r=document.querySelector("#Reverso-Context__FullTextTranslation");r&&(r.classList.remove("error"),r.classList.remove("loading"))},o.appendChild(r),o.appendChild(l),o.appendChild(c),t.appendChild(n),t.appendChild(o),document.body&&document.body.appendChild(t),sessionStorage.getItem("reverso-reader-run-translate-page")&&(sessionStorage.removeItem("reverso-reader-run-translate-page"),this.translate().then())},e.undoPageTranslation=function(){try{if("Microsoft Internet Explorer"===navigator.appName||navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/rv:11/)||"undefined"!=typeof $&&void 0!==$.browser&&1===$.browser.msie)return location.reload(),!0;var e=document.querySelectorAll(".Reverso-Context__paragraph-translation");[].forEach.call(e,function(e){e.originalHTML&&(e.outerHTML=e.originalHTML)})}catch(e){return void location.reload()}},e.prototype.translate=function(){return o(this,void 0,void 0,function(){var t,n,o,a,u,d,h,g,f,p,m,v,b,y,S,w,x,k,_,C,T,A,R,I;return r(this,function(r){switch(r.label){case 0:if(t=document.querySelector(i.oneClick.childNodesName),n=document.querySelector(i.oneClick.nodeName),(t||n)&&(sessionStorage.setItem("reverso-reader-run-translate-page","true"),sessionStorage.setItem("Reverso_extension_settings_activation_mode","showButtonTransl"),o=/(http[\s\S]*|www.[\s\S]*)/gi,a=location.href.toLowerCase().indexOf("oneclickmode=1")<0?location.href:location.href.replace("oneClickMode=1",""),location.href=a.match(o)?a.match(o)[0]:location.href,location.reload()),this.isTranslatePage)return[2];if(self["_reverso-reader-translate__stop"]=!1,self._cloneNodeReversoReader&&e.undoPageTranslation(),self._cloneNodeReversoReader=null,self._cloneNodeReversoReader=document.body.cloneNode(!0),"#Reverso-Context__FullTextTranslation",u=document.body,d=l.default.getParagraphs(u,null),l.default.markingParagraphs(d,!1),!d||d.length<1)return this.isTranslatePage=!1,[2];for(h=!1,(g=document.querySelector("#Reverso-Context__FullTextTranslation"))&&(g.classList.add("loading"),g.classList.remove("error")),(f=document.querySelector("#Reverso-Context__FullTextTranslation_button-stop"))&&(f.style.display="block"),(p=document.querySelector("#Reverso-Context__FullTextTranslation_button-transl"))&&(p.style.display="none"),(m=document.querySelector("#Reverso-Context__FullTextTranslation_button-back"))&&(m.style.display="none"),v=i.translatePage.reversoAPI.maxNbFragmentsPerJob,b=[],A=0;A<Math.ceil(d.length/v);A++)b[A]=d.slice(A*v,A*v+v);S=b[y=0],r.label=1;case 1:if(!S)return[3,7];if(self["_reverso-reader-translate__stop"])return[3,7];r.label=2;case 2:if(r.trys.push([2,5,,6]),w="",S.length>0)for(A=0;A<S.length;A++)S[A].originalHTML=S[A].outerHTML,w+=S[A].originalHTML.trim();return x=c.default.source(),[4,c.default.target()];case 3:return k=r.sent(),[4,s.default.translate(w,x,k)];case 4:if(_=r.sent(),(C=document.createElement("div")).innerHTML=_,(T=C.querySelectorAll(".Reverso-Context__paragraph-translation")).length>0)for(A=0;A<T.length;A++)(R=T[A].getAttribute("data-reversoIndex"))&&(I=document.querySelector("[data-reversoIndex='"+R+"']"))&&(I.innerHTML=T[A].innerHTML);return C.remove(),[3,6];case 5:return r.sent(),h=!0,[3,6];case 6:return S=b[y+=1],[3,1];case 7:return this.isTranslatePage=!1,g.classList.remove("loading"),h&&g.classList.add("error"),f&&(f.style.display="none"),m&&!self["_reverso-reader-translate__stop"]&&(m.style.display="block"),[2]}})})},e}();t.default=new u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(17),i=n(8),a=n(9),s=n(3),l=function(){function e(){this.params={},this.translate=r.default}return e.prototype.create=function(e){try{this.translateHint=document.querySelector("#Reverso_extension__translate_sub_hint"),this.translateHint||(this.translateHint=document.createElement("div"),this.translateHint.id="Reverso_extension__translate_sub_hint",e.appendChild(this.translateHint))}catch(e){o.ErrorHandling.send("subtitle-hint.class.ts -> SubtitleHint -> create() : "+(e.stack?e.stack:e))}},e.prototype.build=function(){var e=this;try{if(this.translateHint=document.querySelector("#Reverso_extension__translate_sub_hint"),!this.translateHint&&!this.target)return!1;this.params.word=this.target.textContent.trim(),i.default.directionsSubtitle().then(function(t){e.translateHint&&(e.params.langSource=t.langSource,e.params.langTarget=t.langTarget,e.translateHint.classList.add("loading"),e.updatePos(),e.getTranslation().then(function(t){chrome.runtime.sendMessage({setTrackEvents:s.EVENTSNAME[a.default.selector.name+"TranslationHover"]}),e.translateHint.classList.remove("loading"),e.translateHint.appendChild(e.createInner(t)),e.updatePos()},function(t){e.abort()}))})}catch(e){o.ErrorHandling.send("subtitle-hint.class.ts -> SubtitleHint -> update() : "+(e.stack?e.stack:e))}},e.prototype.updatePos=function(){try{if(!this.target)return!1;if(!this.translateHint&&this.target.getBoundingClientRect)return!1;var e=this.target.getBoundingClientRect();this.translateHint.parentNode&&this.translateHint.parentNode.classList.contains("top")?this.translateHint.classList.add("top"):this.translateHint.classList.remove("top"),this.translateHint.classList.add("active"),this.translateHint.classList.contains("top")?this.translateHint.style.top=e.bottom+9+"px":this.translateHint.style.top=e.top-(this.translateHint.clientHeight+9)+"px",this.translateHint.style.left=e.left+e.width/2-this.translateHint.clientWidth/2+"px"}catch(e){o.ErrorHandling.send("subtitle-hint.class.ts -> SubtitleHint -> updatePos() : "+(e.stack?e.stack:e))}},e.prototype.getTranslation=function(){var e=this;try{return new Promise(function(t,n){if(e.translateHint)return!!e.target&&void(e.target.hasAttribute("data-direction_RR")&&e.target.hasAttribute("data-translation_RR")&&e.target.getAttribute("data-direction_RR")===e.params.langSource+"-"+e.params.langTarget&&""!==e.target.getAttribute("data-translation_RR")?t(JSON.parse(e.target.getAttribute("data-translation_RR"))):e.translate.hint(e.params).then(function(n){e.target.setAttribute("data-translation_RR",JSON.stringify(n)),e.target.setAttribute("data-direction_RR",e.params.langSource+"-"+e.params.langTarget),e.translateHint.setAttribute("data-langTarget_RR",e.params.langTarget),t(n)},function(e){n(e)}))})}catch(e){o.ErrorHandling.send("subtitle-hint.class.ts -> SubtitleHint -> Translation() : "+(e.stack?e.stack:e))}},e.prototype.createInner=function(e){try{if(!this.translateHint)return;this.translateHint.hasChildNodes()&&this.translateHint.removeChild(this.translateHint.childNodes[0]);var t=document.createElement("div");t.id="hint_list-item-outer";var n=function(e,n){var o=document.createElement("div"),r=document.createElement("div");if(o.className="hint_list-item",r.className="hint_list-words",n.forEach(function(e,t){var o=document.createElement("span");if(o.className="hint_list-word",e.isRude||e.isSlang){var i=document.createElement("span");i.className="hint_list-modif "+(e.isRude?"isRude":"isSlang"),i.textContent="!",o.appendChild(i)}o.appendChild(document.createTextNode(e.translation+(t!==n.length-1?", ":""))),r.appendChild(o)}),o.appendChild(r),e&&"other"!==e){var i=document.createElement("div");i.className="hint_list-pos",i.textContent="["+e+"]",o.appendChild(i)}t.appendChild(o)};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n(Object.keys(e).length>1?r:null,e[r]);return t}catch(e){o.ErrorHandling.send("subtitle-hint.class.ts -> SubtitleHint -> getTranslation() : "+(e.stack?e.stack:e))}},e.prototype.abort=function(){try{if(this.translate.abort(),this.translateHint=document.querySelector("#Reverso_extension__translate_sub_hint"),!this.translateHint)return!1;this.translateHint.hasChildNodes()&&this.translateHint.removeChild(this.translateHint.childNodes[0]),this.translateHint.classList.remove("active"),this.translateHint.classList.remove("loading")}catch(e){o.ErrorHandling.send("subtitle-hint.class.ts -> SubtitleHint -> abort() : "+(e.stack?e.stack:e))}},e.prototype.off=function(){this.abort(),this.translateHint&&this.translateHint.remove(),this.target=null},e}();t.default=new l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1),i=function(){function e(){this.permanentPause=!1}return e.prototype.play=function(){try{var e=document.querySelector(o.subtitleSelector.video);return!!e&&(this.isPaused()&&e.play(),e)}catch(e){r.ErrorHandling.send("player.class.ts -> Player -> play() : "+(e.stack?e.stack:e))}},e.prototype.pause=function(){try{var e=document.querySelector(o.subtitleSelector.video);return!!e&&(this.isPaused()||e.pause(),e)}catch(e){r.ErrorHandling.send("player.class.ts -> Player -> pause() : "+(e.stack?e.stack:e))}},e.prototype.isPaused=function(){try{var e=document.querySelector(o.subtitleSelector.video);return!!e&&e.paused}catch(e){r.ErrorHandling.send("player.class.ts -> Player -> isPaused() : "+(e.stack?e.stack:e))}},e.prototype.off=function(){this.permanentPause=!1},e}();t.default=new i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(6),i=n(36),a=n(35),s=n(9),l=(new r.Modal,function(){function e(){this.sub=null,this.subHint=null,this.subPlayer=null}return e.prototype.init=function(){try{this.sub=s.default,this.subHint=a.default,this.subPlayer=i.default}catch(e){o.ErrorHandling.send("subtitle-manager.class.ts -> SubtitleManager -> init() : "+(e.stack?e.stack:e))}},e.prototype.check=function(){try{return!!(this.sub&&this.subHint&&this.subPlayer)}catch(e){o.ErrorHandling.send("subtitle-manager.class.ts -> SubtitleManager -> check() : "+(e.stack?e.stack:e))}},e.prototype.destroy=function(){try{this.sub&&this.sub.off(),this.sub=null,this.subHint&&this.subHint.off(),this.subHint=null,this.subPlayer&&this.subPlayer.off(),this.subPlayer=null}catch(e){o.ErrorHandling.send("subtitle-manager.class.ts -> SubtitleManager -> destroy() : "+(e.stack?e.stack:e))}},e}());t.default=new l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1),i=n(2),a=n(10),s=function(){function e(){if(this.selection={word:"",arrayWords:[],sentence:"",sentenceForLang:"",position:-1,countWord:0,site:{title:"",origin:"",href:""},range:{},lang:"",langTarget:"",text_block:"",miniView:!0,positionClick:{},reversoPage:"",successfully:!0,checkSavePagePromotion:!1,wholeText:!1,wholeTextforReverso:"",isSubtitles:!1,isHieroglyph:!1},this.selection.site.title=document.querySelector("title")?document.querySelector("title").textContent:"",this.selection.site.origin=location.origin,this.selection.site.href=location.href,this.selection.miniView=o.miniView,this.selection.reversoPage=document.querySelector('meta[name="ReversoPage"]')?document.querySelector('meta[name="ReversoPage"]').getAttribute("content"):null,"ffextension"===o.origin&&-1!==location.href.indexOf("moz-extension://")&&-1!==location.href.indexOf(".pdf")){var e=document.location.search.slice(1),t=/(^|&)file=([^&]*)/.exec(e);this.selection.site.href=t?decodeURIComponent(t[2]):"",this.selection.site.origin=this.selection.site.href.split("/")[2]}}return e.prototype.getWords=function(e){void 0===e&&(e=window.getSelection());try{if(!window.getSelection)return[];var t=this.selection.isHieroglyph?"":/(\s| |&nbsp;)/;return this.selection.arrayWords=e.toString().trim().split(t).filter(function(e){return e.trim().length>0}),this.selection.countWord=this.selection.arrayWords.length,this.selection.arrayWords}catch(e){r.ErrorHandling.send("select.class.ts -> Select -> getWords() : "+(e.stack?e.stack:e))}},e.prototype.selectWord=function(){try{if(window.getSelection&&window.getSelection().modify){if(!(s=window.getSelection()).isCollapsed){var e=s.toString().length,t=document.createRange();t.setStart(s.anchorNode,s.anchorOffset),t.setEnd(s.focusNode,s.focusOffset);var n=t.collapsed;t.detach();var o=s.focusNode,i=s.focusOffset;s.collapse(s.anchorNode,s.anchorOffset);var a=[];a.push("backward"),n?a.push("forward"):a.unshift("forward"),s.modify("move",a[0],"character"),e>2&&s.modify("move",a[0],"character"),s.modify("move",a[1],"word"),s.extend(o,i),s.modify("extend",a[1],"character"),e>2&&s.modify("extend",a[1],"character"),s.modify("extend",a[0],"word")}}else if(document.selection&&"Control"!==document.selection.type){var s,l=(s=document.selection).createRange();if(l.text){for(l.expand("word");/\s$/.test(l.text);)l.moveEnd("character",-1);l.select()}}}catch(e){r.ErrorHandling.send("select.class.ts -> Select -> selectWord() : "+(e.stack?e.stack:e))}},e.prototype.getTextBlock=function(){try{if(!window.getSelection&&!document.selection)return"";var e=window.getSelection?window.getSelection():document.selection;if(e.rangeCount<=0&&e.toString().trim().length<=0)return"";var t=3===e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode;if(!t&&document.selection){var n=e.getRangeAt(0);t=n.commonAncestorContainer?n.commonAncestorContainer:n.parentElement?n.parentElement():n.item(0)}var o=t.wholeText||t.textContent;return o.length<this.selection.sentence.length&&(o=this.selection.sentence),o}catch(e){r.ErrorHandling.send("select.class.ts -> Select -> getTextBlock() : "+(e.stack?e.stack:e))}},e.prototype.getTextBlockFromSite=function(e){try{var t=void 0,n=void 0;if("object"==typeof e&&void 0!==e.startContainer&&e.startContainer.parentNode){if((t=(n=e.startContainer.parentNode)&&n.innerText?n.innerText.replace(/\s+/g," "):"").length<150){var o=0;for(t.length;t.length<150;){try{n&&(t+=" "+((n=n.nextSibling?n.nextSibling:n.parentNode)&&n.innerText?n.innerText.replace(/\s+/g," "):""))}catch(e){}if(25===o)break;++o}}return t.slice(0,150)}if(window.getSelection().anchorNode){for(var i=window.getSelection().anchorNode.parentNode;!t&&"body"!==i.localName;)i.innerText.replace(/\s+/g," ").length>150?t=i.innerText.replace(/\s+/g," ").slice(0,150):i=i.parentNode;return t}return t}catch(e){r.ErrorHandling.send("select.class.ts -> Select -> getTextBlockFromSite() : "+(e.stack?e.stack:e))}},e.prototype.selectSentenceFireFox=function(e){void 0===e&&(e="left");try{if(!window.getSelection)return"";var t=window.getSelection(),n=null;void 0!==t&&t&&t.anchorNode&&t.anchorNode.parentNode&&("Reverso_extension__subtitle-inner"===t.anchorNode.parentNode.id||"Reverso_extension__subtitle-container"===t.anchorNode.parentNode.id||t.anchorNode.parentNode.classList.contains("subtitle-oneclick"))&&(n=(n=document.querySelector("#Reverso_extension__subtitle-inner"))?n.textContent:null);var o=/([.?!;])/g,i="";if(t.rangeCount&&t.rangeCount<=0)return i;"left"===e&&t.collapseToStart?t.collapseToStart():t.collapseToEnd&&t.collapseToEnd();for(var a=0;a<150;a++){if(t.modify("extend",e,"character"),((i=t.toString()).search(o)>-1||n&&-1===n.indexOf(i))&&"left"===e){i=i.substring(i.length-(a-1)).trim();break}if((i.search(o)>-1||n&&-1===n.indexOf(i))&&"left"!==e)break}return t.collapseToEnd(),i?i.replace(/\n/g," "):""}catch(e){r.ErrorHandling.send("select.class.ts -> Select -> selectSentenceFireFox() : "+(e.stack?e.stack:e))}},e.prototype.cropForReversoSite=function(){try{this.selection.wholeTextforReverso="";for(var e=0;e<=this.selection.countWord;e++){var t=this.selection.isHieroglyph?o.limitWordForReversoHieroglyph:o.limitWordForReverso;if(!(this.selection.arrayWords[e]&&this.selection.wholeTextforReverso.length+this.selection.arrayWords[e].length<t)){e!==this.selection.countWord&&(this.selection.wholeTextforReverso+=" (...)");break}this.selection.wholeTextforReverso+=this.selection.arrayWords[e]+(this.selection.isHieroglyph?"":" ")}return void this.selection.wholeTextforReverso.trim()}catch(e){r.ErrorHandling.send("select.class.ts -> Select -> cropForReversoSite() : "+(e.stack?e.stack:e))}},e.prototype.createSimple=function(){try{var e={};if("object"==typeof this.selection.range){document.body&&document.body.classList.add("is-selection-reverso-reader");var t=this.selection.range,n=window.getSelection(),o=t.cloneRange(),a=t.cloneRange(),s=function(o){try{var r=document.createElement(o);(n.modify||document.body&&document.body.createTextRange)&&!i.isMobile()&&t.collapse("markstart"===o),t.startContainer.textContent===t.endContainer.textContent?t.surroundContents(r):(t.setEnd(t.startContainer,t.startOffset),t.surroundContents(r)),r&&"markstart"===o?(e.top=r.getBoundingClientRect().top,e.left=r.getBoundingClientRect().left,r.remove(),t=a.cloneRange(),s("markend")):r&&"markend"===o?(e.height=r.getBoundingClientRect().bottom-e.top,e.width=r.getBoundingClientRect().left-e.left,r.remove()):e=null}catch(e){console.error("error",e)}};return s("markstart"),setTimeout(function(){window.getSelection().removeAllRanges(),window.getSelection().addRange(o)},256),e}return null}catch(e){r.ErrorHandling.send("select.class.ts -> Select -> createSimple() : "+(e.stack?e.stack:e))}},e.prototype.build=function(e){void 0===e&&(e={selectWord:!0});try{if(!window.getSelection||window.getSelection().rangeCount<=0&&window.getSelection().toString().trim().length<=0)return;localStorage.getItem("SelectionForReversoReader")&&localStorage.removeItem("SelectionForReversoReader");var t=window.getSelection(),n=t.toString(),i=t.getRangeAt(0);if(this.selection.isSubtitles=!(!i.startContainer||!i.startContainer.classList)&&i.startContainer.classList.contains("subtitle-oneclick"),this.selection.successfully=!0,this.selection.site.title=document.querySelector("title")?document.querySelector("title").textContent:"",this.selection.lang=o.siteLang,this.selection.site.href=location.href,this.selection.miniView=o.miniView,this.selection.sentence="",this.selection.wholeText=!1,"ffextension"===o.origin&&-1!==location.href.indexOf("moz-extension://")&&-1!==location.href.indexOf(".pdf")){var s=document.location.search.slice(1),l=/(^|&)file=([^&]*)/.exec(s);this.selection.site.href=l?decodeURIComponent(l[2]):"",this.selection.site.origin=this.selection.site.href.split("/")[2]}this.selection.isHieroglyph=a.default(t),this.getWords(),this.cropForReversoSite();this.selection.isHieroglyph?o.wordCountLimit:o.wordCountLimit;if(this.selection.countWord<=0||this.selection.countWord>o.wordCountLimit)return this.selection.word=t.toString(),this.selection.range=t.getRangeAt(0),this.selection.successfully=!1,void(this.selection.lang||(this.selection.sentenceForLang=this.getTextBlockFromSite(this.selection.range)));var c=!(this.selection.isHieroglyph&&"ffextension"===o.origin);if(!1!==e.selectWord&&c&&this.selectWord(),this.selection.range=t.getRangeAt(0),this.selection.lang||(this.selection.sentenceForLang=this.getTextBlockFromSite(this.selection.range)),"he"===this.selection.lang?this.selection.word=t.toString().replace(/[.,«»:;\[\]\(\)\+!?\—\}\{]+/g,""):this.selection.word=t.toString().replace(/[.,”“„«»:;\[\]\(\)\+!?\—\}\{]+/g,""),this.selection.word=this.selection.word.replace(/(\s|&nbsp;)/g," ").trim(),this.selection.word.length<=0&&(this.selection.word=n),this.selection.word[this.selection.word.length-1].search(/[-«»¿?']+/)>-1&&(this.selection.word=this.selection.word.substr(0,this.selection.word.length-1).trim(),this.selection.isHieroglyph||this.getWords()),t.modify){try{t.modify("extend","backward","sentence")}catch(e){"he"===this.selection.lang||"ar"===this.selection.lang?this.selection.sentence=this.selectSentenceFireFox("right").replace(/[.?!;\r\n]/g,""):this.selection.sentence=this.selectSentenceFireFox("left").replace(/[.?!;\r\n]/g,"")}this.selection.position=t.toString().length,t.toString().trim().lastIndexOf(this.selection.word)===t.toString().trim().length-this.selection.word.length&&(this.selection.position=t.toString().trim().length-this.selection.word.length);try{t.collapseToStart(),t.modify("extend","forward","sentenceboundary"),this.selection.sentence=t.toString()}catch(e){/[-'"`]/g.test(this.selection.sentence.charAt(this.selection.sentence.length-1))||(this.selection.sentence+=" "),this.selection.position=this.selection.sentence.length,"he"===this.selection.lang||"ar"===this.selection.lang?this.selection.sentence+=this.selectSentenceFireFox("left"):this.selection.sentence+=this.selectSentenceFireFox("right")}this.selection.positionClick=t.getRangeAt(0).getBoundingClientRect()}else if(this.selection.sentence=this.selection.word,this.selection.position=-1,document.body.createTextRange)try{var u=document.body.createTextRange(),d=document.querySelectorAll("hghlght");d.length>0&&(u.moveToElementText(d[0]),u.expand("word"),u.moveStart("word",-3),u.moveEnd("sentence",1),this.selection.sentence=u.text.length>this.selection.word.length?u.text.trim():this.selection.word,this.selection.position=this.selection.sentence.indexOf(this.selection.word))}catch(e){console.error("Error IE: createTextRange: ",e)}else this.selection.range.expand&&(this.selection.range.expand("sentence"),this.selection.sentence=this.selection.range.toString().trim(),this.selection.position=this.selection.sentence.indexOf(this.selection.word));this.selection.text_block=this.getTextBlock(),this.selection.sentence.indexOf(this.selection.word)<0&&(this.selection.sentence=this.selection.word,this.selection.position=0);try{localStorage.setItem("SelectionForReversoReader",JSON.stringify(this.selection))}catch(e){}return void t.removeAllRanges()}catch(e){r.ErrorHandling.send("select.class.ts -> Select -> build() : "+(e.stack?e.stack:e))}},e}();t.default=new s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(2),i=n(1),a=function(){function e(){this.page={title:"",location:null,html:"",lang:"",favicon:""},this.events=["onchange","onclick","onmouseover","onmouseout","onkeydown","onload"],this.page={title:document.getElementsByTagName("title")[0]?document.getElementsByTagName("title")[0].textContent:"",location:null,html:document.documentElement.outerHTML,lang:o.siteLang,favicon:""}}return e.prototype.favicon=function(){try{for(var e="",t=document.getElementsByTagName("link"),n=0;n<t.length;n++)if(t[n].getAttribute("rel")&&("icon"===t[n].getAttribute("rel")||"shortcut icon"===t[n].getAttribute("rel").toLowerCase())){e=t[n].getAttribute("href");break}return e}catch(e){i.ErrorHandling.send("save-page.class.ts -> SavePage -> favicon() : "+(e.stack?e.stack:e))}},e.prototype.dom=function(){var e=this;try{var t=document.documentElement.cloneNode(!0);if("object"!=typeof t)return t;var n=t.querySelectorAll("oneclick");if(n.length>0)for(var o in n)t.querySelectorAll("oneclick")[0]&&t.querySelectorAll("oneclick")[0].parentNode&&t.querySelectorAll("oneclick")[0].parentNode.replaceChild(r.convertToDocFragment(t.querySelectorAll("oneclick")[0].innerHTML),t.querySelectorAll("oneclick")[0]);var a=t.querySelectorAll("oneclickelement");if(a.length>0)for(var o in a)t.querySelectorAll("oneclickelement")[0]&&t.querySelectorAll("oneclickelement")[0].parentNode&&t.querySelectorAll("oneclickelement")[0].parentNode.replaceChild(r.convertToDocFragment(t.querySelectorAll("oneclickelement")[0].innerHTML),t.querySelectorAll("oneclickelement")[0]);for(var s=function(n){var o=t.querySelectorAll("["+l.events[n]+"]");o.length>0&&[].forEach.call(o,function(t){return t.removeAttribute(e.events[n])})},l=this,c=0;c<this.events.length;c+=1)s(c);return t}catch(e){i.ErrorHandling.send("save-page.class.ts -> SavePage -> dom() : "+(e.stack?e.stack:e))}},e.prototype.get=function(){try{if(this.page.lang=o.siteLang,this.page.location&&this.page.location.href===window.location.href)return this.page;this.page.location=window.location;for(var e=0;e<o.ignoreSitesReadabilty.length;e++)if(window.location.origin.indexOf(o.ignoreSitesReadabilty[e])>-1)return this.page.title="",this.page.html="",this.page;return this.page.html=this.dom().outerHTML,this.page.favicon=this.favicon(),this.page}catch(e){i.ErrorHandling.send("save-page.class.ts -> SavePage -> get() : "+(e.stack?e.stack:e))}},e}();t.default=new a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(2),i=n(1),a=function(){function e(){}return e.prototype.create=function(e){try{if(this.remove(),document.body&&"object"==typeof e&&e.startContainer&&e.endContainer){document.body.classList.add("is-selection-reverso-reader"),document.body.classList.add(o.origin);var t=document.createElement("hghlght"),n=window.getSelection(),a=e.toString();(n.modify||document.body&&document.body.createTextRange)&&!r.isMobile()&&e.collapse?e.collapse(!0):("underline"!==o.typeHighlight?(t.style.borderRadius="2px",t.style.backgroundColor="rgba(255, 255, 128, 0.9)"):t.style.borderBottom="3px solid rgba(73, 115, 167, 0.9)",setTimeout(function(){window.getSelection().removeAllRanges()},512)),e.startContainer.textContent===e.endContainer.textContent?e.surroundContents(t):(e.setEnd(e.startContainer,e.startOffset),e.surroundContents(t)),this.selectWord(a)}}catch(e){i.ErrorHandling.send("hghlight.class.ts -> Highlight -> create() : "+(e.stack?e.stack:e))}},e.prototype.remove=function(){try{if(this.selectWordValue="",document.body&&(document.body.classList.remove("is-selection-reverso-reader"),document.body.classList.remove("underline"),document.body.classList.remove("background")),document.querySelectorAll("hghlght").length>0)for(var e=0;e<document.querySelectorAll("hghlght").length;e++)if(document.querySelectorAll("hghlght")[0].parentNode){var t=document.querySelectorAll("hghlght")[0].parentNode;document.querySelectorAll("hghlght")[0].parentNode.replaceChild(r.convertToDocFragment(document.querySelectorAll("hghlght")[0].innerHTML),document.querySelectorAll("hghlght")[0]),t.normalize&&t.normalize()}}catch(e){i.ErrorHandling.send("hghlight.class.ts -> Highlight -> remove() : "+(e.stack?e.stack:e))}},e.prototype.clearStyles=function(){try{if(document.querySelectorAll("hghlght").length>0)for(var e=0;e<document.querySelectorAll("hghlght").length;e++)document.querySelectorAll("hghlght")[e].style.backgroundColor="",document.querySelectorAll("hghlght")[e].style.borderBottom="",document.querySelectorAll("hghlght")[e].style.borderRadius=""}catch(e){i.ErrorHandling.send("hghlight.class.ts -> Highlight -> clearStyles() : "+(e.stack?e.stack:e))}},e.prototype.removeLite=function(){try{var e=document.querySelectorAll("hghlght");if(e.length>0)for(var t=e.length||0,n=0;n<t;n++)""===document.querySelectorAll("hghlght")[0].style.backgroundColor&&""===document.querySelectorAll("hghlght")[0].style.borderBottom&&document.querySelectorAll("hghlght")[0].parentNode&&document.querySelectorAll("hghlght")[0].parentNode.replaceChild(r.convertToDocFragment(document.querySelectorAll("hghlght")[0].innerHTML),document.querySelectorAll("hghlght")[0])}catch(e){i.ErrorHandling.send("hghlight.class.ts -> Highlight -> removeLite() : "+(e.stack?e.stack:e))}},e.prototype.selectWord=function(e){try{if((e=e.replace(/  +/g," "))&&e.length>0&&window.getSelection().toString().trim()!==e.trim()){if(this.selectWordValue=e,document.querySelectorAll("hghlght").length<1)return window.getSelection().removeAllRanges(),!1;var t=0,n=window.getSelection(),o=document.querySelector("hghlght"),r=e.trim().length+12;window.getSelection().removeAllRanges();var a=document.createRange();if(n.modify||document.body.createTextRange)if(a.selectNode(o),n.addRange(a),(n=window.getSelection()).modify){var s=0,l=function(t){if(void 0===t&&(t="forward"),!(s>3e3)){for(var i=!1,c=0;c<r;c++)if(n.modify("extend","forward","character"),window.getSelection().toString().trim().toLowerCase()===e.trim().toLowerCase()){i=!0;break}if(i){try{var u=window.getSelection().getRangeAt(0).cloneRange();window.getSelection().removeAllRanges(),n=null,setTimeout(function(){window.getSelection().addRange(u)},128)}catch(e){}return!0}if(s>=r&&"backward"===t&&!i)return window.getSelection().removeAllRanges(),!1;if(s>=r&&"forward"===t&&!i)window.getSelection().removeAllRanges(),(a=document.createRange()).selectNode(o),n.addRange(a),n=window.getSelection(),s=0,l("backward");else{s++;try{window.getSelection().collapseToStart()}catch(e){}n.modify("move",t,"character"),l(t)}}};l()}else if(document.body.createTextRange){var c=document.body.createTextRange();c.moveToElementText(o),c.moveStart("word",-4);var u=function(){if(t>r)return!1;t++;for(var o=0;o<e.trim().length;o++)c.expand("character"),o===e.length-1&&n.toString().length===e.length-1&&o--;c.text.trim().toLowerCase()!==e.trim().toLowerCase()?(c.collapse(!0),c.moveStart("character",1),u()):c.select()};u()}}}catch(e){i.ErrorHandling.send("hghlight.class.ts -> Highlight -> selectWord() : "+(e.stack?e.stack:e))}},e}();t.default=new a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(2),i=n(1),a=n(9),s=function(){function e(){this.root=document.querySelector("#reverso-context-block"),this.position=null,this.navigateTo="",this.width=o.widthIframe,this.className=""}return Object.defineProperty(e.prototype,"frame",{get:function(){return this.iframe=document.querySelector("#reverso-context-iframe"),this.iframe},enumerable:!0,configurable:!0}),e.prototype.create=function(e){var t=this;try{this.remove();var n=!0,a=document.querySelector("hghlght"),s=window.getSelection();if(s&&s.rangeCount>0?n=s.getRangeAt(0).getBoundingClientRect():a&&(n=a.getBoundingClientRect()),r.isIframe()&&window.parent){var l=JSON.stringify({navigateTo:this.navigateTo,position:n,width:this.width});return void window.parent.postMessage("createIframe:"+l,"*")}if(this.root=document.createElement("div"),this.iframe=document.createElement("iframe"),this.root.id="reverso-context-block",this.root.className=this.className,this.iframe.src=o.extensionId+this.navigateTo,this.iframe.id="reverso-context-iframe",e)e.appendChild(this.root);else{if(!document.body)return null;document.body.appendChild(this.root)}return this.root.appendChild(this.iframe),setTimeout(function(){t.iframe&&(!t.iframe.src||t.iframe.src.indexOf(o.extensionId)<0)&&(t.iframe.src=o.extensionId+t.navigateTo)},512),this.root}catch(e){i.ErrorHandling.send("iframe.class.ts -> Iframe -> create() : "+(e.stack?e.stack:e))}},e.prototype.remove=function(){try{return this.root=document.querySelector("#reverso-context-block"),void(this.root&&this.root.remove())}catch(e){i.ErrorHandling.send("iframe.class.ts -> Iframe -> remove() : "+(e.stack?e.stack:e))}},e.prototype.setPosition=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=0);try{if(this.root=document.querySelector("#reverso-context-block"),!this.root)return;var n=r.isMobile();e="boolean"!=typeof e||e,"number"!=typeof t&&(t=parseInt(t,10)),t=t||(e?o.heightIframeMini:o.heightIframe),!n&&t>o.heightIframe?t=o.heightIframe:n&&t>.58*window.innerHeight&&(t=.58*window.innerHeight),this.root.style.width=n?"100%":this.width+"px",this.root.style.maxHeight=t+"px",this.root.style.minHeight=t+"px",this.root.style.height="100%",this.root.style.left="0px",this.root.style.top="0px",this.iframe.width=""+this.width,this.iframe.height=""+o.heightIframe;var s=Math.min(document.documentElement.clientWidth,window.innerWidth),l=Math.min(document.documentElement.clientHeight,window.innerHeight),c=this.width;(0===l||l<t)&&(l=Math.max(document.documentElement.clientHeight,window.innerHeight)),0===s&&(s=Math.max(document.documentElement.clientWidth,window.innerWidth));var u=this.position&&this.position.left?this.position.left:s/2-c/2,d=this.position&&this.position.top?this.position.top:l/2-t/2,h=document.querySelector("hghlght");if(n||!h&&!this.position)n&&(u=0,(d=this.position.top+(this.position.height||22)+6)+o.heightIframe>l-10&&(d=d-t-((this.position.height||22)+6)),d<0&&(d=0));else{try{this.position=this.position?this.position:document.querySelector("hghlght")&&document.querySelector("hghlght").getBoundingClientRect()?{left:document.querySelector("hghlght").getBoundingClientRect().left,top:document.querySelector("hghlght").getBoundingClientRect().top,width:document.querySelector("hghlght").getBoundingClientRect().width,height:document.querySelector("hghlght").getBoundingClientRect().height}:{left:u,top:d,width:0,height:0},!this.position.left&&(this.position.left=u)&&(this.position.left=u),!this.position.top&&(this.position.top=d)&&(this.position.top=d),!this.position.width&&(this.position.width=0)&&(this.position.width=0),!this.position.height&&(this.position.height=0)&&(this.position.height=0),(u=this.position.left+this.position.width/2-this.width/2)<0?u=10:u+this.width>s+10&&(u=s-this.width-10),(d=this.position.top+(this.position.height||22)+6)+o.heightIframe>l-10&&(d=d-t-((this.position.height||22)+6))}catch(e){}var g=document.querySelector("#Reverso_extension__subtitle-inner");if(g&&g.getBoundingClientRect&&h&&h.parentNode&&h.parentNode.classList.contains("subtitle-oneclick")&&a.default&&a.default.selector&&""!==a.default.selector.video&&document.querySelector(a.default.selector.video)&&document.querySelector(a.default.selector.video).getBoundingClientRect){var f=document.querySelector(a.default.selector.video).getBoundingClientRect(),p=f.height+f.top;(d=g.getBoundingClientRect().top<p/2?g.getBoundingClientRect().top+g.getBoundingClientRect().height+6:g.getBoundingClientRect().top-6)+o.heightIframe>p-10&&(d-=t)}d<0&&(d=10),d>l+10&&(d=l-10-t)}return this.root.style.left=u+"px",void(this.root.style.top=d+"px")}catch(e){i.ErrorHandling.send("iframe.class.ts -> Iframe -> setPosition() : "+(e.stack?e.stack:e))}},e}();t.default=new s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(47);var o=n(0),r=n(12),i=n(25),a=n(3),s=n(6);window&&(window.console.log=function(){return!1},window.console.error=function(){return!1},window.console.warn=function(){return!1});var l=!0;try{l=!!localStorage}catch(e){l=!1}var c=function(e){var t=e.split("#");return t.length>0?t[0]:e},u=function(){if(o.isExtension&&document.head)try{var e=document.createElement("meta");e.id=o.prefixStorage+"__elForCheckedInstallExtension",e.setAttribute("name",o.prefixStorage.replace(/_/g," ").trim()),e.setAttribute("content",o.version),document.head.appendChild(e)}catch(e){}if(o.isExtension||!document.querySelector("#"+o.prefixStorage+"__elForCheckedInstallExtension")){i.default(),window.addEventListener("mouseup",function(e){return r.Events.run("mouseup",e)}),window.addEventListener("focus",function(e){return r.Events.run("focus",e)}),window.addEventListener("scroll",function(e){return r.Events.run("scroll",e)}),window.addEventListener("keydown",function(e){return r.Events.run("keydown",e)}),window.addEventListener("dblclick",function(e){return r.Events.run("dblclick",e)}),window.addEventListener("mousedown",function(e){return r.Events.run("mousedown",e)});var t=c(window.location.href);setInterval(function(){t!==c(window.location.href)&&(t=c(window.location.href),r.Events.run("load"))},1e3),r.Events.run("load")}};if(l)"undefined"!=typeof safari&&safari.extension&&safari.extension.baseURI?window.top===window&&u():u();else if(document.contentType&&"text/plain"===document.contentType||location&&location.href&&location.href.indexOf("about:")>-1);else{var d=new s.Modal;d.show(a.LOCALIZATION.get.cookiesError,"error",!0),d.addButtons([{text:a.LOCALIZATION.get.skip,callback:function(){d.hide()},classNameList:""}])}},,,,,function(e,t){}]);